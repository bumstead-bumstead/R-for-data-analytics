---
title: "µ¥ÀÌÅÍºĞ¼®À»À§ÇÑÇÁ·Î±×·¡¹Ö¾ğ¾î Assignment 3"
author: "2018170837 ÀÌ¿äÈ¯"
date: 2019-11-09
output: html_notebook
---

Assignment 3 RMD Á¦Ãâ¹°ÀÔ´Ï´Ù.


## Data Preparation

**[1] Load the dataset using read.csv( ) functions**

```{r}
house_data <- read.csv("kc_house_data.csv")
```

°°Àº °æ·Î¿¡ ÀÖ±â ¶§¹®¿¡ ÆÄÀÏÀÇ °æ·Î¸¦ ¸ğµÎ ÀÔ·ÂÇÏÁö ¾Ê°í ÆÄÀÏ¸í ¸¸À» ÀÔ·ÂÇØ house_data º¯¼ö¿¡ ÇÒ´çÇß´Ù.  


***

**[2] Create a bar plot with regard to the number of bedrooms**

```{r}
barplot(house_data$bedrooms)
hist(house_data$bedrooms)
```
barplot ÇÔ¼ö¿¡ house_data dataframeÀÇ bedrooms ¿­À» ÀÔ·ÂÇØ bedroomsÀÇ °³¼ö¿¡ ´ëÇÑ ¸·´ë ±×·¡ÇÁ°¡ Ãâ·ÂµÇµµ·Ï Çß´Ù.

***

**[3] Remove the rows (1) without rooms (number of rooms =1) or (2) with rooms more than 6 (number of rooms > 6)**
```{r}

for (i in c(1:nrow(house_data))) {
  continue <- TRUE
  while (continue == TRUE) {
    if (house_data$bedrooms[i] + house_data$bathrooms[i] == 0 | house_data$bedrooms[i] + house_data$bathrooms[i] > 6) {
      house_data <- house_data[-i,]}
    else {continue <- FALSE}
    
  }
}

```

for¹®ÀÇ ¹üÀ§¸¦ c(1:nrow(house_data))·Î ÇØ¼­ ¸ğµç Çà¿¡ ´ëÇØ Á¶°ÇÀ» ¸¸Á· ½ÃÅ°´Â Áö °Ë»çÇÒ ¼ö ÀÖµµ·Ï Çß´Ù.  
ÀÌ ¶§, ´Ü¼øÈ÷ ÀÌ ÀÛ¾÷¸¸À» ¹İº¹ÇÏ¸é Á¶°ÇÀ» ¸¸Á·½ÃÄ×À» ‹š(¹æÀÇ ¼ö°¡ 1°³ÀÌ°Å³ª 6°³ ÀÌ»óÀÏ ¶§) ±× ÇàÀÌ »èÁ¦µÇ°í i´Â ´Ù½Ã 1¸¸Å­ Ä¿Áø ÈÄ °Ë»çµÇ¹Ç·Î, »èÁ¦µÈ Çà Á÷ÈÄÀÇ ÇàÀ» °Ë»çÇÏÁö ¸øÇÑ´Ù. µû¶ó¼­ while¹®À» ÀÌ¿ëÇØ Á¶°ÇÀ» ¿¬¼ÓÀûÀ¸·Î ¸¸Á·½ÃÅ°´Â °æ¿ì¸¦ ¸ğµÎ °Ë»çÇÒ ¼ö ÀÖµµ·Ï Çß´Ù.
```{r}
A1 <- house_data[house_data$bedrooms + house_data$bathrooms > 0 & house_data$bedrooms + house_data$bathrooms <=6,]
```
Á¶°ÇÀ» ¸¸Á·½ÃÅ°´Â index¸¦ ¹Ù·Î ºÒ·¯¿Í º¯¼ö¿¡ ÇÒ´ç½ÃÅ´À¸·Î½á ´õ °£´ÜÇÑ ¹æ¹ıÀ¸·Îµµ ÇØ°áÇÒ ¼ö ÀÖ´Ù.



***
  
**[4] Randomly sample 5,000 rows for computational efficiency**
```{r}
index_sample <- sample(nrow(house_data), size = 5000, replace = FALSE)
house_sample <- house_data[index_sample, ]
head(house_sample)
```
sample ÇÔ¼ö¸¦ ÀÌ¿ëÇØ house_dataÀÇ ÇàÀÇ ¹øÈ£¸¦ ¹«ÀÛÀ§·Î »ÌÀº µÚ, (5000°³, ºñº¹¿øÃßÃâ) house_data¿¡ ÀÎµ¦½ÌÇØ¼­ °¢°¢ ÀÇ ·Î¿ìµéÀ» house_sample ÀÌ¶ó´Â º¯¼ö¿¡ ÇÒ´ç½ÃÄÑ house_dataÀÇ 5000°³ Ç¥º»À¸·Î µÈ dataframeÀ» ¸¸µé¾ú´Ù.











## Plotting and Interpretation

**[1] Create at least 10 different plots and interpret the results to understand the dataset itself.**
**Visit the recommended reference sites to see what types of graphs can be generated by "ggplot?€? package. Googling is strongly recommended to create your own plots.**


1.  
![](https://ifh.cc/g/cgbGj.png)
```{r}
ggplot(house_sample, aes(floors, bathrooms)) + geom_jitter(aes(color=price), size = 0.5) + labs(title = 'Realation Between Floors and Bathrooms', subtitle = 'Jitter Plot')
```
floors¿Í bathrooms(discreteÇÑ µ¥ÀÌÅÍ)¿¡ ´ëÇÑ »êÆ÷µµ¸¦ ±×·ÁºÃ´Ù.  µÑ ´Ù discreteÇÑ µ¥ÀÌÅÍÀÌ¹Ç·Î °ãÄ¡´Â ºÎºĞÀÌ ¸¹ÀÌ ³ªÅ¸³ª¼­ ÀÌ¸¦ ´õ º¸±â ½±°Ô ÇÏ±â À§ÇØ geom_point°¡ ¾Æ´Ñ geom_jitter plotÀ» ÀÌ¿ëÇß´Ù. size´Â 0.5·Î ¼³Á¤Çß´Ù.  
°¢°¢¿¡ ´ëÀÀµÇ´Â °¡±¸ÀÇ¤Ó ¼ö¿Í errorÀÇ Á¤µµ¸¦ ¾Ë ¼ö ÀÖ¾ú´Ù. ¶Ç floors°¡ 1, 2ÀÏ ¶§¸¦ °¢°¢ ºñ±³ÇØº¸¸é, 1ÃşÀÏ ¶§´Â ¿å½ÇÀÌ 1~2°³°¡ °¡Àå ¸¹°í, 2ÃşÀÏ ¶§´Â 2.5°³ ÀÏ¶§°¡ °¡Àå ¸¹´Ù´Â °ÍÀ» ¾Ë ¼ö ÀÖ¾ú´Ù.  
floors¿¡ ´ëÇØ boxplotÀÌ³ª violin plotÀ» ÀÌ¿ëÇß¾îµµ ´õ Àß È®ÀÎÇÒ ¼ö ÀÖ¾úÀ» °ÍÀÌ´Ù.

***

2.  
![](https://ifh.cc/g/RijXK.png)
```{r}
install.packages('ggExtra')
library(ggExtra)

p <- ggplot(house_sample, aes(price, sqft_living)) + geom_jitter(aes(color= factor(grade))) + geom_smooth(se=F) + labs(title = 'Relation Between Price and square feet of living space', subtitle = 'scatter plot & smooth plot', caption = 'Except standard error', y='Square Feet of living space')

ggMarginal(p, type='histogram', fill = 'transparent')
```
price¿Í sqft_livingÀÇ °ü°è¸¦ ¾Ë ±â À§ÇØ »êÆ÷µµ¿Í smooth plotÀ» ±×·È´Ù. ¶ÇÇÑ pointÀÇ »öÀ» grade·Î ¼³Á¤ÇØ grade¿Í price, sqft_living°úÀÇ °ü°è¸¦ ½Ã°¢ÀûÀ¸·Î º¼ ¼ö ÀÖ°Ô ÇÏ°í ½Í¾ú´Ù.  
ÀüÃ¼ÀûÀ¸·Î °¡°İ°ú °Å½ÇÀÇ Æò¼ö°¡ ¾î´À °÷¿¡ ¸¹ÀÌ ¹ĞÁıµÇ¾îÀÖ´Â Áö¸¦ È®ÀÎÇÏ°í ½Í¾î¼­  ggExtra packageÀÇ ggMargianlÇÔ¼ö¸¦ ÀÌ¿ëÇØ ±×·¡ÇÁÀÇ ¹Ù±ùÂÊ¿¡ histogramÀ» ±×·È´Ù.  
price¿Í sqft_livingÀº ¾î´À Á¤µµ ºñ·ÊÇÏ´Â °æÇâÀÌ ÀÖÀ¸¸ç °¢°¢ ¾à 200,000 ~ 800,000, 700 ~ 3,000¿¡ ¸¹ÀÌ ºĞÆ÷ÇÑ´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ¾ú´Ù.

***


3.  
![](https://ifh.cc/g/NFMv7.png)
```{r}
g3 <-  ggplot(data=house_sample, aes(x=sqft_living15, y=sqft_living)) + geom_density2d(aes(color=floors)) +  geom_point(size = 0, alpha=0.05) + facet_wrap(~floors) + labs(title = 'Relation of sqft of living space with adjacent house', subtitle = 'density2 plot',  y='Square Feet of living space')
g3

```
sqft_living15¿Í sqft_livingÀÇ °ü°è¸¦ È®ÀÎÇÏ±â À§ÇØ density ºĞÆ÷¸¦ ±×·È´Ù. ¶ÇÇÑ ÀÌ µÎ ¿ä¼Ò°¡ Ãş¼ö¿Íµµ °ü·ÃÀÌ ÀÖÀ» °ÍÀÌ¶ó »ı°¢ÇØ¼­ facet_wrap ÇÔ¼ö¸¦ ÀÌ¿ëÇØ Ãş¼ö º°·Î ±×·ÁÁöµµ·Ï Çß´Ù. ¶Ç xÃàÀÇ ±Û¾¾°¡ °ãÃÄ º¸±â Èûµé¾ú°í ÀÌ¸¦ ÇØ°áÇÏ±â À§ÇØ theme ÇÔ¼öÀÇ axis.text.x=element_text() ÀÎÀÚ¸¦ ÀÌ¿ëÇØ °¢µµ¸¦ 90µµ·Î È¸Àü½ÃÄ×´Ù.  
Ãş¼ö°¡ 2, 2.5ÃşÀÏ ¶§ living, living15ÀÇ Æò¼ö°¡ Ãş¼ö°¡ ´Ù¸¥ °æ¿ì¿¡ ºñÇØ Å©°Ô ³ªÅ¸³µ°í, ÀüÃ¼ÀûÀ¸·Î µÎ °ªÀÌ ºñ½ÁÇÏ°Ô ³ªÅ¸³µ´Ù. 


4.  
![](https://ifh.cc/g/rgf61.png)
```{r}
house_sample$floors <- as.character(house_sample$floors)

ggplot(house_sample, aes(floors, yr_built)) + geom_point(size=0.5, position = 'jitter') + geom_violin(scale='width', aes(color= floors)) + labs(title='Relation Between Number of Floors and Year built', subtitle='violin plot & point plot')

```
floors¿Í yr_builtÀÇ °ü°è¸¦ ³ªÅ¸³½ »êÆ÷µµ¿Í violin ±×·¡ÇÁÀÌ´Ù. numeric ÇüÅÂÀÎ floors·Î´Â °¢°¢ÀÇ °æ¿ì¿¡ µû¸¥ violin ±×·¡ÇÁ¸¦ ±×¸± ¼ö ¾ø±â ¶§¹®¿¡ as.character() ÇÔ¼ö¸¦ ÀÌ¿ëÇØ floors columnÀ» ¸ğµÎ character·Î ¹Ù²ãÁØ µÚ, xÃà¿¡ ´ëÀÔÇß´Ù. violin ±×·¡ÇÁÀÇ µÎ²²·Î ³âµµº°·Î ¸î ÃşÀÇ °Ç¹°ÀÌ ¸¹ÀÌ Áö¾îÁ³´Â Áö ¾Ë ¼ö ÀÖ¾ú´Ù.
¶ÇÇÑ floors°¡ discreteÇÑ µ¥ÀÌÅÍÀÌ¹Ç·Î Á¡ ºĞÆ÷¸¦ º¸±â ½±°Ô ÇÏ±â À§ÇØ position='jitter', size = 0.5·Î ¼³Á¤ÇØ Á¡ÀÌ ´õ ÀÛ°í Èğ»Ñ·ÁÁø ¸ğ½ÀÀ¸·Î ³ªÅ¸³ªµµ·Ï Çß´Ù. ¶Ç violin ±×·¡ÇÁ´Â floors º°·Î »öÀ» ´Ù¸£°Ô Ä¥ÇØ º¸±â ½±µµ·Ï Çß´Ù.
±×·¡ÇÁ¸¦ ÅëÇØ 1950³â ~ 1980³â ÁîÀ½¿£ 1Ãş °Ç¹°ÀÌ, 1900³â ~ 1935³â ÁîÀ½¿£ 1.5ÃşÀÌ, 1975³â ~ 2000³â´ë ÁîÀ½¿£ 2Ãş ÀÌ»óÀÇ °Ç¹°ÀÌ ¸¹ÀÌ Áö¾îÁö´Â trends°¡ Á¸ÀçÇß´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ¾ú´Ù.


***



***

5.  
![](https://ifh.cc/g/SgpMN.png)
```{r}

house_sample$grade <- as.numeric(house_sample$grade)


ggplot(data = house_sample, aes(x=sqft_living)) + geom_density(aes(fill=factor(grade)), alpha =0.6) + labs(subtitle='Density plot', title='Sqft of Living Grouped by Grade', fill='Grade')
```
density plotÀ» ÀÌ¿ëÇØ ÁÖ°Å °ø°£ÀÇ Æò¼öÀÇ ºĞÆ÷¸¦ grade º°·Î ³ªÅ¸³Â´Ù. ¹ĞµµÇÔ¼öÀÇ »öÀ» grade·Î ³ªÅ¸³» °¢°¢ ºĞÆ÷¸¦ ºñ±³ÇÏ°Ô ½±°Ô Çß´Ù. ¶Ç ±×·¡ÇÁ°¡ °ãÄ¡´Â ºÎºĞµµ º¸±â ½±°Ô ÇÏ±â À§ÇØ alpha·Î Åõ¸íµµ¸¦ Á¶ÀıÇß´Ù.  
grade¿Í sqft_living°¡ ºñ·ÊÇÒ °ÍÀÌ¶ó°í »ı°¢Çß°í, ¾î´ÀÁ¤µµ ±×·¸´Ù´Â »ç½ÇÀ» ±×·¡ÇÁ¸¦ ÅëÇØ ¾Ë ¼ö ÀÖ´Ù. Æ¯È÷ Grade°¡ ¸Å¿ì ³ô°Å³ª ³·Àº °æ¿ì¿¡´Â grade°¡ Áß°£¿¡ °¡±î¿î °æ¿ì¿¡ ºñÇØ ºĞÆ÷ÀÇ ÆíÂ÷°¡ ÀÛ°Ô ³ªÅ¸³µ´Ù.



6.  d
![](https://ifh.cc/g/GZgk7.png)
```{r}
house_sample$grade <- as.character(house_sample$grade)

ggplot(data = house_sample) + geom_point(aes(x=grade, y=price, color = grade), alpha = 0.1, position = 'jitter') + geom_boxplot(mapping = aes(x = grade, y = price, color = grade)) + scale_x_discrete(limits=c('1','2','3','4','5','6','7','8','9','10','11','12')) + labs(subtitle='point plot and box plot', title='Relation Between Grade and Price', fill='Grade')

```
  boxplot°ú point plotÀ» µ¿½Ã¿¡ ±×·Á grade¿¡ µû¸¥ priceÀÇ ºĞÆ÷¸¦ È®ÀÎÇÒ ¼ö ÀÖ´Â ±×·¡ÇÁ¸¦ ¸¸µé¾ú´Ù.  
  grade°¡ discreteÇÑ ÇüÅÂ°¡ ¾Æ´Ï¹Ç·Î boxplotÀ» ÀÌ¿ëÇÒ ¼ö ¾ø¾î¼­ gradeÀÇ ¿ø¼Ò¸¦ ¸ğµÎ character·Î ¹Ù²ãÁÖ¾ú´Ù.  
  character°¡ µÇ¸é ¼ıÀÚ ¿À¸§Â÷¼øÀ¸·Î ÀÚµ¿ Á¤·ÄµÇÁö ¾Ê±â ¶§¹®¿¡ scale_x_discrete ÇÔ¼ö¸¦ ÀÌ¿ëÇØ¼­ ¿À¸§Â÷¼øÀ¸·Î Á¤·ÄÇß´Ù. ¶Ç point plotÀÇ Åõ¸íµµ¸¦ ³ô¿© box plot°ú ÇÔ²² º¸±â ½±µµ·Ï Çß°í, »öÀ» grade º°·Î ´Ù¸£°Ô ÇØ ±×·¡ÇÁ°¡ ÇÑ ´«¿¡ µé¾î¿Àµµ·Ï Çß´Ù.  
  point plotÀÇ positionÀ» 'jitter'·Î ¼³Á¤ÇØ Á¡ÀÌ °ãÃÄÁ® ±× ¾çÀ» È®ÀÎÇÒ ¼ö ¾ø´Â Á¡À» ÇØ°áÇß´Ù. ÇÏÁö¸¸ box plotÀÇ À§¿¡ ±×·ÁÁ®¼­ ¸î °³ÀÇ box plotÀÌ °¡·ÁÁö´Â ¹®Á¦°¡ »ı°å´Ù. ÀÌ´Â plotÀ» Ãß°¡ÇÏ´Â ¼ø¼­¸¦ ¹Ù²ŞÀ¸·Î½á ÇØ°áÇÒ ¼ö ÀÖ¾ú´Ù. 
  ±×·¡ÇÁ¸¦ ÅëÇØ grade°¡ ³ôÀ»¼ö·Ï price°¡ ³ô¾ÆÁø´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ¾ú´Ù. ¶Ç boxplotÀÇ ¸ğ¾çÀ» º¸¸é grade°¡ ³ô¾ÆÁú ¼ö·Ï °¡°İÀÇ ÆíÂ÷µµ ¾î´ÀÁ¤µµ Áõ°¡ÇÏ´Â ¸ğ½ÀÀ» º¸ÀÎ´Ù.  





***

7.  
![](https://ifh.cc/g/foxFB.png)
```{r}
ggplot(data=house_sample, aes(grade)) + geom_bar(aes(fill = condition))+ facet_wrap(~condition, nrow = 2) + scale_x_discrete(limits=c('1','2','3','4','5','6','7','8','9','10','11','12')) + labs(subtitle='Bar plot', title='Grade Bar Plot Grouped by Conditions')

```

8.  
![](https://ifh.cc/g/xTggl.png)
```{r}
house_sample$grade <- as.character(house_sample$grade)

ggplot(data=house_sample, aes(grade)) + geom_bar(aes(fill = condition)) + scale_x_discrete(limits=c('1','2','3','4','5','6','7','8','9','10','11','12')) + labs(subtitle='Bar plot', title='Engaged Grade Histogram')
```
  °¢ grade º°·Î conditionÀÇ ºñÀ²À» ¾Ë°íÀÚ bar plotÀ» ÀÌ¿ëÇØ ±×·¡ÇÁ¸¦ ±×·È´Ù. fill = conditionÀ¸·Î ÁöÁ¤ÇØ »öÀ¸·Î ±¸ºĞÀ» ÇÏµµ·Ï Çß°í, À§ ±×·¡ÇÁ´Â ÀÌ¸¦ condition ±âÁØÀ¸·Î ³ª´« °ÍÀÌ´Ù.  
  as.character ÇÔ¼ö·Î grade°¡ discreteÇÑ characterÀÇ ÇüÅÂ°¡ µÇ¾úÀ¸¹Ç·Î, scale_x_discreteÇÔ¼ö¸¦ ÀÌ¿ëÇØ Â÷·Ê´ë·Î Á¤·ÄÇØÁÖ¾ú´Ù.  
  À§ ±×·¡ÇÁ¸¦ ÅëÇØ ´ëºÎºĞÀÇ °¡±¸°¡ 6~8 grade¿¡ ¼ÓÇØÀÖ´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ¾úÁö¸¸, ¿ø¼ÒÀÇ Â÷ÀÌ°¡ grade¸¶´Ù Å©°Ô Â÷ÀÌ°¡ ³ª¼­ ±× ºñÀ²À» ¾Ë±â ½±Áö ¾Ê¾Ò´Ù.  
9.  
![](https://ifh.cc/g/fFfC2.png)
```{r}
pie <- ggplot(house_sample, aes(x = factor(1), fill = factor(condition))) + 
  geom_bar(width = 1, position = 'fill') +
  theme(axis.line = element_blank(), 
        plot.title = element_text(hjust=0.5)) + 
  labs(fill="condition", 
       x=NULL, 
       y=NULL, 
       title="Pie Chart of Grade Grouped by Condition", 
       caption="") + facet_wrap(~grade, nrow = 2)
  
pie + coord_polar(theta = "y", start=0)

```
µû¶ó¼­ bar plotÀ» µÕ±Û°Ô µ¹·Á³õÀº ÇüÅÂÀÎ Pie chart¸¦ °°Àº Á¶°ÇÀ¸·Î ±×·È´Ù. coord_polar ÇÔ¼ö¸¦ ÀÌ¿ëÇß´Ù. position = 'fill'·Î ¼³Á¤ÇØ gradeº° ¿ø¼ÒÀÇ ¼ö¿¡ ¿µÇâÀ» ¹ŞÁö ¾Ê°í ±× ºñÀ²À» ¾Ë ¼ö ÀÖ¾ú´Ù. ÇÏÁö¸¸ grade¿Í conditionÀÇ »ó°ü°ü°è´Â ¶Ñ·ÇÇÏÁö ¾ÊÀº °ÍÀ¸·Î º¸¿´´Ù.

***

10.  
![](https://ifh.cc/g/acSK6.png)
```{r}
ggplot(house_sample, aes(sqft_above, sqft_basement)) + geom_count(aes(alpha=0.2, color = ..n..)) + ylim(c(1,1700)) + labs(subtitle = 'count plot', title="Relation Between sqft of above and basement", caption="Y limits = 1 ~ 1700")
```
  Áı Áö»óÀÇ ³ĞÀÌ¿Í ÁöÇÏÀÇ ³ĞÀÌ »çÀÌÀÇ °ü°è¿Í ¹ĞÁıÇÑ Á¤µµ¸¦ È®ÀÎÇÏ°íÀÚ count plotÀ» ±×·È´Ù. °ãÄ¡´Â ºÎºĞÀ» º¸±â ½±°Ô ÇÏ±âÀ§ÇØ alpha=0.2·Î ¼³Á¤Çß°í Á¡ÀÇ Å©±â¿Í ´õºÒ¾î »öÀ» ¼³Á¤ÇØ ¸¹ÀÌ ¹ĞÁıµÈ ºÎºĞ¿¡ ´õ È®¿¬ÇÑ Â÷ÀÌ¸¦ µÎ°íÀÚ Çß´Ù.  ¶Ç, ÁöÇÏ½ÇÀÌ ¾ø´Â °¡±¸¸¦ Á¦¿ÜÇÏ±â À§ÇØ ylimÇÔ¼ö¸¦ ÀÌ¿ëÇØ yÀÇ ¹üÀ§¸¦ Á¦ÇÑÇß´Ù.
  ÀüÃ¼ÀûÀ¸·Î Áö»ó°ú ÁöÇÏÀÇ ³ĞÀÌ´Â Å« Â÷ÀÌ°¡ ¾ø´Â °ÍÀ¸·Î º¸ÀÌÁö¸¸, ¾à x=500, y=750ºÎÅÍ y=xÀÇ ÇüÅÂ·Î Á¡¼±ÀÌ ±×·ÁÁö´Â °æÇâÀÌ º¸ÀÎ´Ù.  
  
  ***
  
11.  
![](https://ifh.cc/g/721Et.png)
```{r}
ggplot(data=house_sample) + geom_histogram(aes(x=price, fill = factor(bedrooms))) + labs(title = 'Histogram: Number of house per price', subtitle = 'Histogram Plot', fill='# Bedrooms')
```
°¡°İ´ë º°·Î °¡±¸µéÀÌ ¾î¶»°Ô ºĞÆ÷µÇ¾î ÀÖ´ÂÁö È®ÀÎÇÏ±â À§ÇØ È÷½ºÅä±×·¥À» ±×·È´Ù. Ä§½ÇÀÇ °³¼ö ¿ª½Ã °¡°İÀÇ ¿µÇâÀ» ¹ŞÀ» °ÍÀÌ¶ó »ı°¢ÇØ colorÀ» Bedrooms·Î ÁöÁ¤ÇØ ÇÑ¹ø¿¡ È®ÀÎÇÒ ¼ö ÀÖµµ·Ï Çß´Ù. 
  price°¡ ¾à 230,000~700,000¿¡ ¸¹ÀÌ ºĞÆ÷ÇØ ÀÖ°í, price°¡ ³ô¾ÆÁú ¼ö·Ï ³ë¶õ»ö, ÃÊ·Ï»ö (# of bedrooms = 1, 2)ÀÇ ºñÀ²ÀÌ ÁÙ¾îµå´Â °ÍÀ¸·Î º¸¾Æ, Bedrooms¿Í price´Â ºñ·ÊÇÏ´Â °æÇâÀÌ ÀÖ´Ù°í º¼ ¼ö ÀÖ´Ù.

***

```{r}
install.packages('gganimate')
install.packages('gapminder')
install.packages('gifski_renderer')
library(gifski_renderer)
library(gganimate)
library(gapminder)

g <- ggplot(gapminder, aes(x=sqft_living, y=price)) + geom_point() + facet_wrap(~grade) + scale_x_log10() + labs(title = ' Yr_built: {frame_time}', x= 'Price', y='Sqft_living') + transition_manual(yr_built) + ease_aes('linear')
g
gganimate(g, interval = 0.2)
```

***

**[2] Establish at least 5 hypotheses about the price **
(ex: The number of rooms is positively related to the price. In other words, houses with more rooms are generally more expensive
than houses with fewer rooms)

1. ÀüÃ¼ ºÎÁöÀÇ Æò¼öº¸´Ù ÁÖ°Å°ø°£ÀÇ Æò¼ö°¡ °¡°İ¿¡ ´õ Å« ¿µÇâÀ» ¹ÌÄ¥ °ÍÀÌ´Ù.
2. grade°¡ °°À¸¸é, conditionÀÌ ³ôÀ» ¼ö·Ï °¡°İÀÌ ³ôÀ» °ÍÀÌ´Ù.
3. ¹°°¡¿¡ ÀÖ´Â ÁıÀÌ ±×·¸Áö ¾ÊÀº Áıº¸´Ù °¡°İÀÌ ³ôÀ» °ÍÀÌ´Ù.
4. ÁıÀÌ °Å·¡µÈ ³¯Â¥°¡ Å¬¼ö·Ï °¡°İÀÌ ³ôÀ» °ÍÀÌ´Ù. (¹°°¡ »ó½ÂµîÀÇ ÀÌÀ¯·Î)
5. ¿À·¡µÈ ÁıÀÏ¼ö·Ï °¡°İÀÌ ³·À» °ÍÀÌ´Ù. (renovateµÈ ÁıÀº Á¦¿Ü)

***

**[3] Create appropriate plots to qualitatively (not quantitatively based on the hypothesis testing method generally used in statistics) verify each hypothesis and determine whether each hypothesis can be accepted based on the generated plot.**

1.ÀüÃ¼ ºÎÁöÀÇ Æò¼öº¸´Ù ÁÖ°Å°ø°£ÀÇ Æò¼ö°¡ °¡°İ¿¡ ´õ Å« ¿µÇâÀ» ¹ÌÄ¥ °ÍÀÌ´Ù.  
![](https://ifh.cc/g/yGNm9.png)
```{r}
ggplot(house_sample, aes(x=sqft_lot, y=price)) + geom_smooth()
```
![](https://ifh.cc/g/rm8BH.png)
```{r}
ggplot(house_sample, aes(x=sqft_living, y=price)) + geom_smooth() 


```
µ¥ÀÌÅÍ ºĞÆ÷¸¦ ¼±ÀÇ ÇüÅÂ·Î ÃßÃ»ÇØÁÖ´Â smooth ±×·¡ÇÁ¸¦ ±×·ÁºÃÀ» ¶§, sqft_living°ú sqft_lotÀÌ Áõ°¡ÇÔ¿¡ µû¶ó Áõ°¡ÇÏ´Â price°¡ sqft_livingÀÇ °æ¿ì ÈÎ¾À °¡ÆÄ¸£¹Ç·Î, ÁÖ°Å°ø°£ÀÇ Æò¼ö°¡ ÀüÃ¼ ºÎÁöÀÇ Æò¼öº¸´Ù Å« ¿µÇâÀ» ¹ÌÄ£´Ù°í ÇÒ ¼ö ÀÖ´Ù.  

***

2. conditionÀÌ °°À¸¸é grade°¡ ³ôÀ»¼ö·Ï °¡°İÀÌ ³ôÀ» °ÍÀÌ´Ù.  
![](https://ifh.cc/g/l97Hx.png)
```{r}
house_sample$condition <- as.character(house_sample$condition)
house_sample$grade <- as.numeric(house_sample$grade)
ggplot(data = house_sample, mapping = aes(x=price, y=grade, color=condition)) + geom_smooth(se = F)
```
conditionÀ» character ÇüÅÂ·Î ¹Ù²Û µÚ °¢°¢ condition º°·Î price¿¡ ´ëÇÑ gradeÀÇ smooth ±×·¡ÇÁ¸¦ ±×·È´Ù. conditionÀÌ °°Àº »óÈ²¿¡¼­ ¸ğµç ±×·¡ÇÁ°¡ »ó½ÂÇÏ´Â ÇüÅÂÀÌ¹Ç·Î, conditionÀÇ ¿µÇâÀÌ ¾øÀ» ¶§ grade°¡ ³ôÀ»¼ö·Ï price°¡ ³ô´Ù´Â °ÍÀ» ¾Ë ¼ö ÀÖ´Ù.

***

3.¹°°¡ ÁÖº¯¿¡ ÀÖ´Â ÁıÀÌ ±×·¸Áö ¾ÊÀº Áıº¸´Ù °¡°İÀÌ ³ôÀ» °ÍÀÌ´Ù.  
![](https://ifh.cc/g/8cAFT.png)
```{r}
ggplot(house_sample) + geom_boxplot(aes(x=factor(waterfront), y= price, color=factor(waterfront))) + labs(title='waterfront vs price', x='waterfront', fill = 'waterfront')
```
discreteÇÑ ÇüÅÂÀÎ waterfront¸¦ ºñ±³ÇÏ±â ½¬¿î box plot(Áß¾Ó°ª, »óÀ§ 25, 75% µîÀÇ Á¤º¸¸¦ ¾Ë±â ½±´Ù.)À» ±×·Á ºñ±³ÇØ ºÃ´Ù. ¹°°¡¿¡ ÀÖÁö ¾ÊÀº ÁıÀÇ °¡°İ »óÀ§ 25%°¡ ¹°°¡¿¡ ÀÖ´Â ÁıÀÇ °¡°İ ÇÏÈÖ 75%°¡ ºñ½ÁÇÒ Á¤µµ·Î °¡°İ Â÷ÀÌ°¡ ¸¹ÀÌ ³­´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ´Ù. µû¶ó¼­ Æò±ÕÀûÀ¸·Î ¹°°¡¿¡ ÀÖ´Â ÁıÀÇ °¡°İÀÌ ±×·¸Áö ¾ÊÀº ÁıÀÇ °¡°İº¸´Ù ³ô´Ù°í ÇÒ ¼ö ÀÖ´Ù.

***

4.  
![](https://ifh.cc/g/Z3hmc.png)
```{r}

date_vec <- c()

for (i in c(1:5000)) {
  date_vec <- c(date_vec, substr(house_sample$date[i], 1, 6))
}

house_sample$date <- date_vec
house_sample$date <- as.character(house_sample$date)

ggplot(house_sample, aes(x=date, y=price)) + geom_violin(aes(fill=date)) + ylim(c(0,900000)) + theme(axis.text.x=element_text(angle=90))
```
date cloumnÀÇ °¢°¢ÀÇ ¿ø¼ÒµéÀ» 1~6¹øÂ° character¸¸ ³²°Ü ³â°ú ¿ù¸¸À» µ¥ÀÌÅÍ·Î ³²°å´Ù. ±× ÈÄ ³²Àº µ¥ÀÌÅÍ¸¦ character·Î ¹Ù²ã °¢°¢ÀÇ ¿ù¿¡ ´ëÇÑ priceÀÇ ºĞÆ÷¸¦ violinÀ» ÅëÇØ ³ªÅ¸³Â´Ù. ¶ÇÇÑ °¡°İÀÌ ¸Å¿ì Å« ÀûÀº Ç¥º»¿¡ ÀÇÇØ ±×·¡ÇÁ¸¦ º¸±â Èûµç ¹®Á¦¸¦ ÇØ°áÇÏ±â À§ÇØ yÀÇ ÃÖ´ë°ªÀ» 900000À¸·Î ¼³Á¤Çß´Ù.  

°¢°¢ÀÇ ¿ù¿¡ µû¶ó ±×·¡ÇÁÀÇ ÇüÅÂ°¡ Å©°Ô º¯È­ÇÏÁö ¾ÊÀ¸¹Ç·Î, °¡°İÀÌ Áõ°¡ÇÏÁö ¾Ê¾Ò´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ´Ù. µû¶ó¼­ ÁıÀÌ °Å·¡µÈ ³¯Â¥°¡ ÃÖ±ÙÀÏ¼ö·Ï °¡°İÀÌ ³ô´Ù´Â °¡¼³Àº Æ²·È´Ù°í º¼ ¼ö ÀÖ´Ù.

***

5.  
![](https://ifh.cc/g/ztcgn.png)
```{r}
house_sample <- house_sample[house_sample$yr_renovated == 0, ]

ggplot(house_sample, aes(x=yr_built, y= price)) +geom_hex() 
```
renovated µÈ °æ¿ì¸£ Á¦¿ÜÇÏ±â À§ÇØ house_sample¿¡¼­ yr_renovated°¡ 0ÀÎ °æ¿ì¸¸À» ³²°å´Ù. ±× ÈÄ »öÀÇ Â÷ÀÌ¸¦ ÅëÇØ ºóµµ¸¦ ¾Ë ¼ö ÀÖ´Â geom_hex plotÀ» ÀÌ¿ëÇØ Áö¾îÁø ³âµµ ´ëºñ °¡°İÀ» ¾Ë ¼ö ÀÖ´Â ±×·¡ÇÁ¸¦ ±×·È´Ù.  
yr_built°¡ Ä¿Áü¿¡ µû¶ó ºóµµ¼ö°¡ ³ô¾ÆÁöÁö¸¸, priceÀÇ »ó½ÂÀº ¹Ì¹ÌÇÏ´Ù. Áï, Áö¾îÁø ³âµµ°¡ °¡°İ¿¡ ¿µÇâÀ» ¹ÌÄ¡Áö ¾Ê´Â´Ù´Â »ç½ÇÀ» ¾Ë ¼ö ÀÖ´Ù. 









