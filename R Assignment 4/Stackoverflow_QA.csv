"","Title","Date","Views","Question","Tags","Q_comments","Answer","A_Comments"
"1","Why is Git not considered a ¡°block chain¡±?","2017-09-13T08:16:52",17830,"Git's internal data structure is a tree of data objects, wherein each objects only points to its predecessor. Each data block is hashed. Modifying (bit error or attack) an intermediate block will be noticed when the saved hash und the actual hash deviate.

How is this concept different from block chain?
Git is not listed as an example of block chains, but at least in summaries, both data structure descriptions look alike: data block, single direction reverse linking, hashes, ...).

So where is the difference, that Git isn't called a block chain?","git hash blockchain","Git is not listed as an example of block chains When I first tried to learn what a blockchain was, I was referred to git as the most prominent example (I don't have the exact link now, but it was from the top of the list returned by Google search for ""blockchain"")OOOBoth Git and blockchain are using merkle trees as their fundamental underlying data structure. But that alone does not make Git a blockchain, or the other way around. <U+2013> If you do know Git (and its internals), you do know merkle trees though, which can be a very helpful revelation to understand how blockchains work.OOODear close voters, can you explain your reasons? I see 2 likes, good comments and an answer. Why is it opinion based? It's about data structures and algorithms, which seam to not qualify Git as a block chain.OOOIt's your opinion that ""it is NOT considered..."" bitcoin.stackexchange.com/a/43627/77469OOO@v.oddou Merkle trees exist since 1979. Just because two technologies are using Merkle trees prominently as part of their concept, that does not make them the same. It is incorrect to reduce either Git or block chains to just merkle trees as neither of them are merkle trees. They only use them. That makes the linked post completely irrelevant since it is actually talking about merkle trees, and not block chains.","
git is not an example of blockchain technology for several reasons (these were the first that came to mind):

In a blockchain implementation, every block is verified independently multiple times before it is added to the blockchain. This is indeed one of the most important things about blockchain technology and is what ensures its ""unhackability."" On the other hand, many git projects do not require independent verification and, when they do, they only require one person to sign off on a change before it is committed to the repository. Hence, with at most one point of validation that you must trust, git breaks one of the core tenets of blockchain technology.
A git repository is not necessarily duplicated on many servers. You can work from a git repository locally and if your local disk were corrupted, you would lose everything. Blockchain technology implies the reproduction of the ledger across servers.
You can rewrite git history. A git push <remote> <branch> --force where <branch> is set to a previous state than that at <remote> would rewrite the history. In blockchains, the ledger is an immutable history.
","""In blockchains, the ledger is an immutable history."" - So is the git history. When ""rewriting history"", you start from a point in the past and add new commits. The same is possible with block chains and in fact, it happens every time a fork occurs, even if it is later abandoned.OOOAs far as I understand block chains vs. Git, you can also rewrite block chains, unless you solve the hash collision problem. And for Git, yes you can rewrite, but all remotes still have the original history. Rewriting history creates new hashes and a different tree. If block chain doesn't over such an operation, that's not a valid argument, because I could implement it if I want to. Or in reverse I can reject forced pushes by setting a branch as protected.OOO@HolgerJust the git history is mutable. In doing a push --force on a single branch you are losing references to commits that are cleaned up by the garbage collector. This is different than a fork which is not a rewriting of history but rather an alternative development path.OOO@Paebbels when you rewrite history via a push --force the remote loses its history. The clones contain the original history until they do a pull at which point they lose it too (of course, these can be recovered for a short while after the pull until they are overwritten.OOO@Paebbels But, you are right. You can set up a git project, blocking forced pushes, having multiple verifiers, etc. such that it is an example of blockchain. I guess what I was trying to clarify in my answer was that the setting up git in such a way that it is an implementation of blockchain technology is not the normal use case.OOOA pull on a forced push will result in a merge preserving the old history as a predecessor branch, because no fast forward is possible. You would need a fetch plus reset in a client repo to accept the forced push.OOOCan we summarize, that Git could be operated in a block chain mode by applying a special workflow and forbidding several operations?OOO@Paebbels yes, I would agree with that. By default and in regular use it isn't, but with a special workflow it would be.OOOThat¡¯s kind of a bad argument though. There are blockchain filesystems, so you can pretty much do anything with blockchains if you adjust to its implications. That doesn¡¯t make Git more or less related (or more or less a blockchain application<U+2013>it isn¡¯t).OOOThe difficulty, for me at least, lies in the definition of what blockchain technology comprises. I would define it as being comprised of three technologies: 1) a distributed ledger, 2) public/private keys, and 3) a program that runs the validation of transactions and addition of blocks to the blockchain. git can be used in many ways that do not necessarily conform to this definition. However, in defining special processes it could. Perhaps you could be more explicit in outlining the holes in this argument? (I'm more than open to being wrong and would like to correct any wrongs in my logic)"
"2","Why is Git not considered a ¡°block chain¡±?","2017-09-13T08:16:52",17830,"Git's internal data structure is a tree of data objects, wherein each objects only points to its predecessor. Each data block is hashed. Modifying (bit error or attack) an intermediate block will be noticed when the saved hash und the actual hash deviate.

How is this concept different from block chain?
Git is not listed as an example of block chains, but at least in summaries, both data structure descriptions look alike: data block, single direction reverse linking, hashes, ...).

So where is the difference, that Git isn't called a block chain?","git hash blockchain","Git is not listed as an example of block chains When I first tried to learn what a blockchain was, I was referred to git as the most prominent example (I don't have the exact link now, but it was from the top of the list returned by Google search for ""blockchain"")OOOBoth Git and blockchain are using merkle trees as their fundamental underlying data structure. But that alone does not make Git a blockchain, or the other way around. <U+2013> If you do know Git (and its internals), you do know merkle trees though, which can be a very helpful revelation to understand how blockchains work.OOODear close voters, can you explain your reasons? I see 2 likes, good comments and an answer. Why is it opinion based? It's about data structures and algorithms, which seam to not qualify Git as a block chain.OOOIt's your opinion that ""it is NOT considered..."" bitcoin.stackexchange.com/a/43627/77469OOO@v.oddou Merkle trees exist since 1979. Just because two technologies are using Merkle trees prominently as part of their concept, that does not make them the same. It is incorrect to reduce either Git or block chains to just merkle trees as neither of them are merkle trees. They only use them. That makes the linked post completely irrelevant since it is actually talking about merkle trees, and not block chains.","
The reason why Git and blockchains appear similar is because they are both using merkle trees as their underlying data structure. A merkle tree is a tree where each node is labeled with the cryptographic hash value of their contents, which includes the labels of its children.

Git¡¯s directed acyclic graph is exactly that, a merkle tree where each node (tag, commit, tree, or blob object) is labeled with the hash of its content and the label of its ¡°child¡±. Note that for commits, the ¡°child¡± term conflicts a bit with Git¡¯s understanding of parents: Parent commits are the children of commits, you just need to look at the graph as a tree that keeps growing by re-rooting it.

Blockchains are very similar to this, since they also keep growing that way, and they are also using its merkle tree property to ensure data integrity. But usually, blockchains are understood as way more than just merkle trees which is where they are separating from the ¡°stupid content tracker¡± Git. For example, blockchains usually also means having a highly decentralized system on a block level (not all blocks need to be in the same place).

Understanding blockchains is kind of difficult (personally, I¡¯m still far away from understanding everything about it), but I consider understanding Git internals as a good way to understand merkle trees which definitely helps understanding a fundamental part about blockchains.
    ","I'm sorry but nowhere blockchains bring anything more than git does. blockchains are exactly as stupid as git. If you don't believe so, you are overhyped. The peer network and the consensus systems are a separate thing."
"3","Why is Git not considered a ¡°block chain¡±?","2017-09-13T08:16:52",17830,"Git's internal data structure is a tree of data objects, wherein each objects only points to its predecessor. Each data block is hashed. Modifying (bit error or attack) an intermediate block will be noticed when the saved hash und the actual hash deviate.

How is this concept different from block chain?
Git is not listed as an example of block chains, but at least in summaries, both data structure descriptions look alike: data block, single direction reverse linking, hashes, ...).

So where is the difference, that Git isn't called a block chain?","git hash blockchain","Git is not listed as an example of block chains When I first tried to learn what a blockchain was, I was referred to git as the most prominent example (I don't have the exact link now, but it was from the top of the list returned by Google search for ""blockchain"")OOOBoth Git and blockchain are using merkle trees as their fundamental underlying data structure. But that alone does not make Git a blockchain, or the other way around. <U+2013> If you do know Git (and its internals), you do know merkle trees though, which can be a very helpful revelation to understand how blockchains work.OOODear close voters, can you explain your reasons? I see 2 likes, good comments and an answer. Why is it opinion based? It's about data structures and algorithms, which seam to not qualify Git as a block chain.OOOIt's your opinion that ""it is NOT considered..."" bitcoin.stackexchange.com/a/43627/77469OOO@v.oddou Merkle trees exist since 1979. Just because two technologies are using Merkle trees prominently as part of their concept, that does not make them the same. It is incorrect to reduce either Git or block chains to just merkle trees as neither of them are merkle trees. They only use them. That makes the linked post completely irrelevant since it is actually talking about merkle trees, and not block chains.","
Cyber Currencies like Bitcoin, use a distributed consensuses cryptographic chain of blocks (merkle tree). Common usage has shortened this to 'blockchain'

While git uses a chain of blocks (merkle tree), it lacks the distributed consensuses cryptographic components that common usage of the term 'BlockChain' imply.
    ",NA
"4","Why is Git not considered a ¡°block chain¡±?","2017-09-13T08:16:52",17830,"Git's internal data structure is a tree of data objects, wherein each objects only points to its predecessor. Each data block is hashed. Modifying (bit error or attack) an intermediate block will be noticed when the saved hash und the actual hash deviate.

How is this concept different from block chain?
Git is not listed as an example of block chains, but at least in summaries, both data structure descriptions look alike: data block, single direction reverse linking, hashes, ...).

So where is the difference, that Git isn't called a block chain?","git hash blockchain","Git is not listed as an example of block chains When I first tried to learn what a blockchain was, I was referred to git as the most prominent example (I don't have the exact link now, but it was from the top of the list returned by Google search for ""blockchain"")OOOBoth Git and blockchain are using merkle trees as their fundamental underlying data structure. But that alone does not make Git a blockchain, or the other way around. <U+2013> If you do know Git (and its internals), you do know merkle trees though, which can be a very helpful revelation to understand how blockchains work.OOODear close voters, can you explain your reasons? I see 2 likes, good comments and an answer. Why is it opinion based? It's about data structures and algorithms, which seam to not qualify Git as a block chain.OOOIt's your opinion that ""it is NOT considered..."" bitcoin.stackexchange.com/a/43627/77469OOO@v.oddou Merkle trees exist since 1979. Just because two technologies are using Merkle trees prominently as part of their concept, that does not make them the same. It is incorrect to reduce either Git or block chains to just merkle trees as neither of them are merkle trees. They only use them. That makes the linked post completely irrelevant since it is actually talking about merkle trees, and not block chains.","
Unlike cryptocurrency blockchains; git doesn't have a p2p trustless consensus mechanism. 
    ","Why do you consider a trustless consensus system as part of a block chain? There are many ways to create trust in a block chain, for git it is just that you know that everything in your local copy cannot be removed by the next pull and you specifiy that you want the changes in the remote copy. You only need trustless consensus when it would otherwise be unclear what's right. In git multiple branches can be ""right"" and get eventuell merged together.OOO@allo GitHub is typically used as the central source of truth but what's stopping an admin from force pushing and overriding history? If there was no GitHub and you pulled from your peers then how do you handle merge conflicts? How do you determine whose right?OOONothing stops you from force pushing. But like a blockchain guarantees me, I can detect it because my chain cannot verify these commits as being based on it. That's the point with a blockchain, not the decentral consent. And in git I explicitely do not want to have a consent protocol for what I merge (development is not a democracy), but I actually read the new commits when merging them into my chain. So my copy is right, because it consists of stuff I already have and thus can verify (i.e. by seeing merge conflicts) and stuff I review and then accept into it.OOO@allo you're correct in that regard, however I stated in the answer ""cryptocurrency blockchains"", not blockchains in general, but I now that I think about it my answer doesn't really seem to fit the question being asked because I was thinking about the system as a whole rather than the underlying data structuresOOOYou're completely right about the difference of the block chains used in git and cryptocurrencies. It is just not an answer to the question why (or if) git is not considered a block chain, when using the term rigorouly. Even the currently accepted answer is similar to your answer. I still prefer the answer which got the bounty."
"5","Why is Git not considered a ¡°block chain¡±?","2017-09-13T08:16:52",17830,"Git's internal data structure is a tree of data objects, wherein each objects only points to its predecessor. Each data block is hashed. Modifying (bit error or attack) an intermediate block will be noticed when the saved hash und the actual hash deviate.

How is this concept different from block chain?
Git is not listed as an example of block chains, but at least in summaries, both data structure descriptions look alike: data block, single direction reverse linking, hashes, ...).

So where is the difference, that Git isn't called a block chain?","git hash blockchain","Git is not listed as an example of block chains When I first tried to learn what a blockchain was, I was referred to git as the most prominent example (I don't have the exact link now, but it was from the top of the list returned by Google search for ""blockchain"")OOOBoth Git and blockchain are using merkle trees as their fundamental underlying data structure. But that alone does not make Git a blockchain, or the other way around. <U+2013> If you do know Git (and its internals), you do know merkle trees though, which can be a very helpful revelation to understand how blockchains work.OOODear close voters, can you explain your reasons? I see 2 likes, good comments and an answer. Why is it opinion based? It's about data structures and algorithms, which seam to not qualify Git as a block chain.OOOIt's your opinion that ""it is NOT considered..."" bitcoin.stackexchange.com/a/43627/77469OOO@v.oddou Merkle trees exist since 1979. Just because two technologies are using Merkle trees prominently as part of their concept, that does not make them the same. It is incorrect to reduce either Git or block chains to just merkle trees as neither of them are merkle trees. They only use them. That makes the linked post completely irrelevant since it is actually talking about merkle trees, and not block chains.","
Blockchain is not just any chain of any blocks. 

Blockchain is when there is a way of determining the main chain when two or more are diverted, and when no central authority is needed for that determination.
    ",NA
"6","Why is Git not considered a ¡°block chain¡±?","2017-09-13T08:16:52",17830,"Git's internal data structure is a tree of data objects, wherein each objects only points to its predecessor. Each data block is hashed. Modifying (bit error or attack) an intermediate block will be noticed when the saved hash und the actual hash deviate.

How is this concept different from block chain?
Git is not listed as an example of block chains, but at least in summaries, both data structure descriptions look alike: data block, single direction reverse linking, hashes, ...).

So where is the difference, that Git isn't called a block chain?","git hash blockchain","Git is not listed as an example of block chains When I first tried to learn what a blockchain was, I was referred to git as the most prominent example (I don't have the exact link now, but it was from the top of the list returned by Google search for ""blockchain"")OOOBoth Git and blockchain are using merkle trees as their fundamental underlying data structure. But that alone does not make Git a blockchain, or the other way around. <U+2013> If you do know Git (and its internals), you do know merkle trees though, which can be a very helpful revelation to understand how blockchains work.OOODear close voters, can you explain your reasons? I see 2 likes, good comments and an answer. Why is it opinion based? It's about data structures and algorithms, which seam to not qualify Git as a block chain.OOOIt's your opinion that ""it is NOT considered..."" bitcoin.stackexchange.com/a/43627/77469OOO@v.oddou Merkle trees exist since 1979. Just because two technologies are using Merkle trees prominently as part of their concept, that does not make them the same. It is incorrect to reduce either Git or block chains to just merkle trees as neither of them are merkle trees. They only use them. That makes the linked post completely irrelevant since it is actually talking about merkle trees, and not block chains.","
The Goals are different for blockchain and git although both use merkle trees as data structure.

A blockchain is typically managed by a peer-to-peer network adhering to a protocol for inter-node communication and validating new blocks. Once recorded, the data in any given block cannot be altered retroactively without alteration of all subsequent blocks, which requires consensus of the network majority.

As According to Bitcoin whitepaper :


  A purely peer-to-peer version of electronic cash would allow online
  payments to be sent directly from one party to another without going
  through a financial institution. Digital signatures provide part of
  the solution, but the main benefits are lost if a trusted third party
  is still required to prevent double-spending. We propose a solution to
  the double-spending problem using a peer-to-peer network. The network
  timestamps transactions by hashing them into an ongoing chain of
  hash-based proof-of-work, forming a record that cannot be changed
  without redoing the proof-of-work. The longest chain not only serves
  as proof of the sequence of events witnessed, but proof that it came
  from the largest pool of CPU power. As long as a majority of CPU power
  is controlled by nodes that are not cooperating to attack the network,
  they'll generate the longest chain and outpace attackers. The network
  itself requires minimal structure. Messages are broadcast on a best
  effort basis, and nodes can leave and rejoin the network at will,
  accepting the longest proof-of-work chain as proof of what happened
  while they were gone


While Git is a distributed version-control system for tracking changes in source code during software development.It is designed for coordinating work among programmers, but it can be used to track changes in any set of files. Its goals include speed, data integrity, and support for distributed, non-linear workflows.

As according to Linus Torvalds:


  In many ways you can just see git as a filesystem <U+2013> it's
  content-addressable, and it has a notion of versioning, but I really
  designed it coming at the problem from the viewpoint of a filesystem
  person (hey, kernels is what I do), and I actually have absolutely
  zero interest in creating a traditional SCM system.

    ",NA
"7","Geth how to keep block chain status?","2018-03-05T03:00:29",963,"Fedora 27, CentOS 1708, Go-ethereum 1.8.1

I am trying to make private block chain and coin using that for study.

Genesis.json:

{
  ""config"": {
        ""chainId"": 42,
        ""homesteadBlock"": 0,
        ""eip155Block"": 0,
        ""eip158Block"": 0
    },
  ""alloc"": {},
  ""coinbase""   : ""0x0000000000000000000000000000000000000000"",
  ""difficulty"" : ""0x1000000"",
  ""extraData""  : """",
  ""gasLimit""   : ""0x2fefd8"",
  ""nonce""      : ""0x0000000012345678"",
  ""mixhash""    : ""0x0000000000000000000000000000000000000000000000000000000000000000"",
  ""parentHash"" : ""0x0000000000000000000000000000000000000000000000000000000000000000"",
  ""timestamp""  : ""0x00""
}


And I run geth in console with:

geth init genesis.json --datadir datadir
geth console --rpc --rpcport ""8080"" --rpccorsdomain ""*"" --datadir ""datadir"" --port ""30303"" --nodiscover --rpcapi ""db,eth,net,web3"" --networkid 7296


Then I made new account and started mining. It works. But when I restart geth, block chain state seems not saved.

INFO [03-05|11:39:03] Successfully sealed new block            number=21 hash=ef088f¡¦8b62cb
INFO [03-05|11:39:03] <U+0001F517> block reached canonical chain          number=16 hash=4dea2d¡¦c41401
INFO [03-05|11:39:03] <U+0001F528> mined potential block                  number=21 hash=ef088f¡¦8b62cb
INFO [03-05|11:39:03] Commit new mining work                   number=22 txs=0 uncles=0 elapsed=101.305¥ìs
> miner.stop()
true
> exit
INFO [03-05|11:39:28] IPC endpoint closed                      endpoint=/home/hansoli/.ethereum/geth.ipc
ERROR[03-05|11:39:28] Dangling trie nodes after full cleanup 
INFO [03-05|11:39:28] Blockchain manager stopped 
INFO [03-05|11:39:28] Stopping Ethereum protocol 
INFO [03-05|11:39:28] Ethereum protocol stopped 
INFO [03-05|11:39:28] Transaction pool stopped 
INFO [03-05|11:39:28] Database closed                          database=/home/hansoli/.ethereum/geth/chaindata
[hansoli@localhost ethereum]$ geth console --rpc --rpcport ""8080"" --rpccorsdomain ""*"" --datadir ""datadir"" --port ""30303"" --nodiscover --rpcapi ""db,eth,net,web3"" --networkid 7296
INFO [03-05|11:39:59] Maximum peer count                       ETH=25 LES=0 total=25
INFO [03-05|11:39:59] Starting peer-to-peer node               instance=Geth/v1.8.1-stable-1e67410e/linux-amd64/go1.9.4
INFO [03-05|11:39:59] Allocated cache and file handles         database=/home/hansoli/.ethereum/geth/chaindata cache=768 handles=512
INFO [03-05|11:39:59] Initialised chain configuration          config=""{ChainID: 42 Homestead: 0 DAO: <nil> DAOSupport: false EIP150: <nil> EIP155: 0 EIP158: 0 Byzantium: <nil> Engine: unknown}""
INFO [03-05|11:39:59] Disk storage enabled for ethash caches   dir=/home/hansoli/.ethereum/geth/ethash count=3
INFO [03-05|11:39:59] Disk storage enabled for ethash DAGs     dir=/home/hansoli/.ethash               count=2
INFO [03-05|11:39:59] Initialising Ethereum protocol           versions=""[63 62]"" network=1
WARN [03-05|11:39:59] Head state missing, repairing chain      number=21 hash=ef088f¡¦8b62cb
INFO [03-05|11:39:59] Rewound blockchain to past state         number=0  hash=7016ba¡¦d4738f
INFO [03-05|11:39:59] Loaded most recent local header          number=21 hash=ef088f¡¦8b62cb td=351436106
INFO [03-05|11:39:59] Loaded most recent local full block      number=0  hash=7016ba¡¦d4738f td=16777216
INFO [03-05|11:39:59] Loaded most recent local fast block      number=21 hash=ef088f¡¦8b62cb td=351436106
INFO [03-05|11:39:59] Loaded local transaction journal         transactions=0 dropped=0
INFO [03-05|11:39:59] Regenerated local transaction journal    transactions=0 accounts=0
INFO [03-05|11:39:59] Starting P2P networking 
INFO [03-05|11:39:59] RLPx listener up                         self=""enode://0482a34d9871d20c8beee1b227d7bd0b8e54a5c084d4f55afc86fac65e8d92c4ab51f669aee196c112a4ca6e6461e069ee111a82208f1fcaaff138c3d1a6254b@[::]:30303?discport=0""
INFO [03-05|11:39:59] IPC endpoint opened                      url=/home/hansoli/.ethereum/geth.ipc
Welcome to the Geth JavaScript console!

instance: Geth/v1.8.1-stable-1e67410e/linux-amd64/go1.9.4
INFO [03-05|11:39:59] Etherbase automatically configured       address=0x8eDE74913b1BbFA2be354B3B1E70635E96B6b158
coinbase: 0x8ede74913b1bbfa2be354b3b1e70635e96b6b158
at block: 0 (Thu, 01 Jan 1970 09:00:00 KST)
 datadir: /home/hansoli/.ethereum
 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

> eth.blockNumber
0
> 


How to solve it? Can I keep block chain status after exit geth?","go ethereum go-ethereum geth","The networkid should match the chainid in your genesis.json (output shows your node is connecting to Mainnet (network=1)). Make sure you¡¯re only running init once. And, why is your datadir in quotes? Output shows your saving to the default directory (database=/home/hansoli/.ethereum/geth/chaindata). There¡¯s nothing technically wrong with using the default directory, but you¡¯ll want to change so you can run different networks without stepping over each other.OOOAnd console should come at the end of your geth command.OOO@AdamKipnis Thanks for answer! I trying this command:  geth --rpc --rpcport 8080 --rpccorsdomain ""*"" --datadir datadir --port 30303 --nodiscover --rpcapi db,eth,net,web3 --networkid 42 console and I could confirm network number is 42 and datadir is my datadir directory in console. But it still doesn't work.OOODid you rerun your mining as well? Your output shows the mining went to the wrong datadir directory as well. I recommend starting over from the beginning. Wipe out the data directory, re-initialize your blockchain, mine some transactions, then restart your console. Double check the output after every command to make sure the correct data directory, keystore directory, and network id are being used. I've just repeated the steps and everything was working fine.OOO@AdamKipnis It seems a bug in geth. It works perfectly in geth 1.8.2 (released few days ago)","
maybe a bug in the current version...
start geth with option --gcmode ""archive""
    ","Thank you! It works perfectly in the new release."
"8","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
I think about the best I can do is give you a bunch of examples to study.
Javascript programmers are practically ranked by how well they understand scope.
It can at times be quite counter-intuitive.

A globally-scoped variable

// global scope
var a = 1;

function one() {
  alert(a); // alerts '1'
}

Local scope

// global scope
var a = 1;

function two(a) { // passing (a) makes it local scope
  alert(a); // alerts the given argument, not the global value of '1'
}

// local scope again
function three() {
  var a = 3;
  alert(a); // alerts '3'
}

Intermediate: No such thing as block scope in JavaScript (ES5; ES6 introduces let and const)

a.

var a = 1;

function four() {
  if (true) {
    var a = 4;
  }

  alert(a); // alerts '4', not the global value of '1'
}


b.

var a = 1;

function one() {
  if (true) {
    let a = 4;
  }

  alert(a); // alerts '1' because the 'let' keyword uses block scoping
}


c.

var a = 1;

function one() {
  if (true) {
    const a = 4;
  }

  alert(a); // alerts '1' because the 'const' keyword also uses block scoping as 'let'
}

Intermediate: Object properties

var a = 1;

function Five() {
  this.a = 5;
}

alert(new Five().a); // alerts '5'

Advanced: Closure

var a = 1;

var six = (function() {
  var a = 6;

  return function() {
    // JavaScript ""closure"" means I have access to 'a' in here,
    // because it is defined in the function in which I was defined.
    alert(a); // alerts '6'
  };
})();

Advanced: Prototype-based scope resolution

var a = 1;

function seven() {
  this.a = 7;
}

// [object].prototype.property loses to
// [object].property in the lookup chain. For example...

// Won't get reached, because 'a' is set in the constructor above.
seven.prototype.a = -1;

// Will get reached, even though 'b' is NOT set in the constructor.
seven.prototype.b = 8;

alert(new seven().a); // alerts '7'
alert(new seven().b); // alerts '8'



Global+Local: An extra complex Case

var x = 5;

(function () {
    console.log(x);
    var x = 10;
    console.log(x); 
})();


This will print out undefined and 10 rather than 5 and 10 since JavaScript always moves variable declarations (not initializations) to the top of the scope, making the code equivalent to:

var x = 5;

(function () {
    var x;
    console.log(x);
    x = 10;
    console.log(x); 
})();

Catch clause-scoped variable

var e = 5;
console.log(e);
try {
    throw 6;
} catch (e) {
    console.log(e);
}
console.log(e);


This will print out 5, 6, 5. Inside the catch clause e shadows global and local variables. But this special scope is only for the caught variable. If you write var f; inside the catch clause, then it's exactly the same as if you had defined it before or after the try-catch block.
","Not even close to being comprehensive, but this is maybe the must-know set of Javascript scope tricks one needs to effectively even READ modern javascript.OOOConsidering your remark on 'ranking', i guess i'll start reading more on this sort of thing. But its not as bad as i thought, i understood the logic behind it rather well. Although, about the object properties, if i declare it globally will it be referenced by object.prototype?OOOThanks, what i want to add is if you file is undefined try using new Array or new String an so onOOOVery helpful! I always keep in mind that JavaScript is NOT JAVA, especially when it comes to scope! Remember Javascript's functional heritage any time you have to think about scopeOOOA highly rated answer, not sure why. It's just a bunch of examples without proper explanation, then seems to confuse prototype inheritance (i.e. property resolution) with the scope chain (i.e. variable resolution). A comprehensive (and accurate) explanation of scope and property resolution is in the comp.lang.javascript FAQ notes.OOO@RobG It is highly rated because it is useful and comprehensible to a wide range of programmers, minor catachresis notwithstanding. The link you have posted, while useful to some professionals, is incomprehensible to most people writing Javascript today. Feel free to fix any nomenclature issues by editing the answer.OOO@triptych<U+2014>I only edit answers to fix minor things, not major. Changing ""scope"" to ""property"" will fix the error, but not the issue of mixing inheritance and scope without a very clear distinction.OOOAnother interesting case: for (var n = 4; false; ) {  } alert(n); will output ""4"" (not ""undefined"" as you may expect);OOOIf you define a variable in the outer scope, and then have an if statement define a variable inside the function with the same name, even if that if branch isn't reached it is redefined. An example - jsfiddle.net/3CxVmOOOTry out this learning quiz, it can help to understand variable scope in JS  madebyknight.com/javascript-scopeOOO@Triptych (thanks). For this fiddle (jsfiddle.net/H4LYm/3), does a 1 print out since a within function Seven is, by default, global?OOOis this not true for functions...if i define function inside a function the this still refers to window object but it's accessible in windows object.OOOThe closure example isn't the big picture because it's not required to have a local variable declaration in order to close over a variable. In example 5 you could put the 'var foo = 6' outside of all functions and still close over it. jsfiddle.net/Us56gOOORe. the last edit (example 8): This is exactly the same behaviour as example 2, function 2. You're simply attempting to use a local variable before you've assigned a value to it.OOO@MuhammadUmer<U+2014>each execution context (e.g. global, function, eval) has its own this parameter that is set by how the function is called or the use of bind. It has nothing to do with where or how the function is defined.OOOCan someone explain the last one, #9? Shouldn't the catch variable e shadow the original variable and print out the error?OOOwhy is #4 called ""object property"". did you mean ""method""? but there is not object anywhere in that example. I see that ""this"" === ""global"" but this has nothing to do with objects. can someone please explain? EDIT: I think you mean to use it as a constructor, as in var b = new five() not to invoke it on its own. is that right? in that case i see that ""this"" === ""b"". so I guess b is the object. but it still has no properties attached to it.OOO5. Closure example is not correct. Unless six() is called, the alert doesn't get executed.OOO@devnull - did you try it? It's correct as written (the function self-executes).OOO@Triptych In point 6,  // Won't get reached, because 'a' is set in the constructor above. seven.prototype.a = -1;  However, I think it's not that the statement won't get reached, but even although it executes, the this.a = 7 in constructor function will override the value of a to 7 because this.a = 7 executes after copying values from prototype.OOOIf the scoping rules are not precise/concise using var keyword, then do not use it. Use const or let keywordOOO@Triptych Appreciate your answer but don't you think that this answer needs to be updated as with the advent of let block level of scope is introduced in javascript and in point 3 you'd mentioned that ""No such thing as block scope in JavaScript "". Please check this blog as well javascriptissexy.com/¡¦OOOBasically, Javascript uses Lexical Scoping (Also known as Static Scoping) which says a variable defined in one part of your program may not be accessible to the other parts of the program. A variable declared in this fashion is sometimes called as a private variable. The opposite to this is  Dynamic Scoping which is not at all used by Javascript. fullstackgeek.blogspot.com/2019/01/¡¦"
"9","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Javascript uses scope chains to establish the scope for a given function. There is typically one global scope, and each function defined has its own nested scope. Any function defined within another function has a local scope which is linked to the outer function. It's always the position in the source that defines the scope.

An element in the scope chain is basically a Map with a pointer to its parent scope.

When resolving a variable, javascript starts at the innermost scope and searches outwards.
    ","Scope chains are another term for [memory] Closures... for those reading here to learn / get into javascript."
"10","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Variables declared globally have a global scope. Variables declared within a function are scoped to that function, and shadow global variables of the same name.

(I'm sure there are many subtleties that real JavaScript programmers will be able to point out in other answers. In particular I came across this page about what exactly this means at any time. Hopefully this more introductory link is enough to get you started though.)
    ","I'm afraid to even begin answering this question.  As a Real Javascript Programmer, I know how quickly the answer could get out of hand.  Nice articles.OOO@Triptych: I know what you mean about things getting out of hand, but please add an answer anyway. I got the above just from doing a couple of searches... an answer written by someone with actual experience is bound to be better. Please correct any of my answer which is definitely wrong though!OOOSomehow Jon Skeet is responsible for MY most popular answer on Stack Overflow."
"11","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Old school JavaScript

Traditionally, JavaScript really only has two types of scope : 

Global Scope : Variables are known throughout the application, from the start of the application (*)
Functional Scope : Variables are known within the function they are declared in, from the start of the function (*)
I will not elaborate on this, since there are already many other answers explaining the difference.

Modern JavaScript

The most recent JavaScript specs now also allow a third scope :

Block Scope : Variables are known within the block they are declared in, from the moment they are declared onwards (**)
How do I create block scope variables?

Traditionally, you create your variables like this :

var myVariable = ""Some text"";


Block scope variables are created like this :

let myVariable = ""Some text"";


So what is the difference between functional scope and block scope?

To understand the difference between functional scope and block scope, consider the following code :

// i IS NOT known here
// j IS NOT known here
// k IS known here, but undefined
// l IS NOT known here

function loop(arr) {
    // i IS known here, but undefined
    // j IS NOT known here
    // k IS known here, but has a value only the second time loop is called
    // l IS NOT known here

    for( var i = 0; i < arr.length; i++ ) {
        // i IS known here, and has a value
        // j IS NOT known here
        // k IS known here, but has a value only the second time loop is called
        // l IS NOT known here
    };

    // i IS known here, and has a value
    // j IS NOT known here
    // k IS known here, but has a value only the second time loop is called
    // l IS NOT known here

    for( let j = 0; j < arr.length; j++ ) {
        // i IS known here, and has a value
        // j IS known here, and has a value
        // k IS known here, but has a value only the second time loop is called
        // l IS NOT known here
    };

    // i IS known here, and has a value
    // j IS NOT known here
    // k IS known here, but has a value only the second time loop is called
    // l IS NOT known here
}

loop([1,2,3,4]);

for( var k = 0; k < arr.length; k++ ) {
    // i IS NOT known here
    // j IS NOT known here
    // k IS known here, and has a value
    // l IS NOT known here
};

for( let l = 0; l < arr.length; l++ ) {
    // i IS NOT known here
    // j IS NOT known here
    // k IS known here, and has a value
    // l IS known here, and has a value
};

loop([1,2,3,4]);

// i IS NOT known here
// j IS NOT known here
// k IS known here, and has a value
// l IS NOT known here


Here, we can see that our variable j is only known in the first for loop, but not before and after. Yet, our variable i is known in the entire function.

Also, consider that block scoped variables are not known before they are declared because they are not hoisted. You're also not allowed to redeclare the same block scoped variable within the same block. This makes block scoped variables less error prone than globally or functionally scoped variables, which are hoisted and which do not produce any errors in case of multiple declarations.

Is it safe to use block scope variables today?

Whether or not it is safe to use today, depends on your environment :

If you're writing server-side JavaScript code (Node.js), you can safely use the let statement.
If you're writing client-side JavaScript code and use a browser based transpiler (like Traceur or babel-standalone), you can safely use the let statement, however your code is likely to be anything but optimal with respect to performance.
If you're writing client-side JavaScript code and use a Node based transpiler (like the traceur shell script or Babel), you can safely use the let statement. And because your browser will only know about the transpiled code, performance drawbacks should be limited.
If you're writing client-side JavaScript code and don't use a transpiler, you need to consider browser support.

These are some browsers that don't support let at all :

Internet explorer 10 and below
Firefox 43 and below
Safari 9 and below
Android browser 4 and below
Opera 27 and below
Chome 40 and below
ANY version of Opera Mini & Blackberry Browser



How to keep track of browser support

For an up-to-date overview of which browsers support the let statement at the time of your reading this answer, see this Can I Use page.

(*) Globally and functionally scoped variables can be initialized and used before they are declared because JavaScript variables are hoisted. This means that declarations are always much to the top of the scope.

(**) Block scoped variables are not hoisted
    ","""IS NOT known"" is misleading, because the variable is declared there due to hoisting.OOOThe above example is misleading, variables 'i' and 'j' are not known outside the block. 'Let' variables has scope only in that particular block not outside of the block. Let has other advantages as well, you can't redeclare the variable again and it's hold the lexical scope.OOO@Oriol : Finally got to improving my answer and address hoisting. Thanks for pointing out my answer needed improvement. I made a few other improvements as well.OOO@zakir : Variables declared with let (block scope) are not known outside the block they're declared in. Variables declared with var (functional or global scope) are known outside the block they're declared in buth not known outside the function they're declared in, if they're declared inside a function. I thought I was pretty clear on that. Anyway, I added more info on differences in behavior with respect to hoisting and with respect to multiple declarations of the same variable within the same scope. Thanks for pointing that out.OOOThis was helpful, thanks! I think it would be even more helpful to be specific about what you mean by ""Modern JavaScript"" and ""Old school JavaScript""; I think these correspond to ECMAScript 6 / ES6 / ECMAScript 2015, and to earlier versions, respectively?OOO@JonSchneider : Correct! Where I say ""old school JavaScript"", I'm ineed talking about ECMAScript 5 and where I'm refering to ""modern JavaScript"", I'm taking about ECMAScript 6 (aka ECMAScript 2015). I didn't think it was really that important to go into detail here, though, as most people just want to know (1) what's the difference between block scope and functional scope, (2) what browsers support block scope and (3) whether it's safe to use block scope today for whatever project they're working on. So I focused my answer on addressing those issues.OOO@JonSchneider : (continued) Nevertheless, I just added a link to a Smashing Magazine article on ES6 / ES2015 for those who want to learn more about which features have been added to JavaScript during the last couple of years... of anyone else who might be wondering what I mean with ""modern JavaScript""."
"12","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Here's an example:

<script>

var globalVariable = 7; //==window.globalVariable

function aGlobal( param ) { //==window.aGlobal(); 
                            //param is only accessible in this function
  var scopedToFunction = {
    //can't be accessed outside of this function

    nested : 3 //accessible by: scopedToFunction.nested
  };

  anotherGlobal = {
    //global because there's no `var`
  }; 

}

</script>


You'll want to investigate closures, and how to use them to make private members.
    ",NA
"13","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
The key, as I understand it, is that Javascript has function level scoping vs the more common C block scoping.

Here is a good article on the subject.
    ",NA
"14","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
In ""Javascript 1.7"" (Mozilla's extension to Javascript) one can also declare block-scope variables with let statement:

 var a = 4;
 let (a = 3) {
   alert(a); // 3
 }
 alert(a);   // 4

    ","Yeah, but is it safe to use?  I mean would I realistically choose this implementation if my code will run in WebKit?OOO@Python: No, WebKit doesn't support let.OOOI guess the only valid use for this would be if you knew all the clients would be using a Mozilla browser like for a companies internal system.OOOOr if you are programming using the XUL framework, Mozilla's interface framework where you build using css, xml, and javascript.OOO@GazB even that is a horrid idea!   So today you know that your clients are using Mozilla then out comes a new memo stating that now they are using something else.   I.E. the reason our pay system sucks...   You must use IE8 and never IE9 or IE10 or Firefox or Chrome because it flat out wont work...OOO@buzzsawddog I agree and hate systems that are limited to one browser but unforchantly it does happen and I was only saying that's at that time as far as I can see this was the only valid use for this. :)OOOEcmaScript 6 draft introduces let, so other browsers will implement it. However, ES6 let behaves a bit different than mozilla's one."
"15","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
The idea of scoping in JavaScript when originally designed by Brendan Eich came from the HyperCard scripting language HyperTalk. 

In this language, the displays were done similar to a stack of index cards. There was a master card referred to as the background. It was transparent and can be seen as the bottom card. Any content on this base card was shared with cards placed on top of it. Each card placed on top had its own content which took precedence over the previous card, but still had access to the prior cards if desired.

This is exactly how the JavaScript scoping system is designed. It just has different names. The cards in JavaScript are known as Execution ContextsECMA. Each one of these contexts contains three main parts. A variable environment, a lexical environment, and a this binding. Going back to the cards reference, the lexical environment contains all of the content from prior cards lower in the stack. The current context is at the top of the stack and any content declared there will be stored in the variable environment. The variable environment will take precedence in the case of naming collisions.

The this binding will point to the containing object. Sometimes scopes or execution contexts change without the containing object changing, such as in a declared function where the containing object may be window or a constructor function.

These execution contexts are created any time control is transferred. Control is transferred when code begins to execute, and this is primarily done from function execution. 

So that is the technical explanation. In practice, it is important to remember that in JavaScript

Scopes are technically ""Execution Contexts""
Contexts form a stack of environments where variables are stored
The top of the stack takes precedence (the bottom being the global context)
Each function creates an execution context (but not always a new this binding)
Applying this to one of the previous examples (5. ""Closure"") on this page, it is possible to follow the stack of execution contexts. In this example there are three contexts in the stack. They are defined by the outer context, the context in the immediately invoked function called by var six, and the context in the returned function inside of var six's immediately invoked function.

i) The outer context. It has a variable environment of a = 1ii) The IIFE context, it has a lexical environment of a = 1, but a variable environment of a = 6 which takes precedence in the stackiii) The returned function context, it has a lexical environment of a = 6 and that is the value referenced in the alert when called.


    ",NA
"16","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
1) There is a global scope, a function scope, and the with and catch scopes. There is no 'block' level scope in general for variable's -- the with and the catch statements add names to their blocks.

2) Scopes are nested by functions all the way to the global scope.

3) Properties are resolved by going through the prototype chain.  The with statement brings object property names into the lexical scope defined by the with block.

EDIT: ECMAAScript 6 (Harmony) is spec'ed to support let, and I know chrome allows a 'harmony' flag, so perhaps it does support it..

Let would be a support for block level scoping, but you have to use the keyword to make it happen.

EDIT: Based on Benjamin's pointing out of the with and catch statements in the comments, I've edited the post, and added more.  Both the with and the catch statements introduce variables into their respective blocks, and that is a block scope. These variables are aliased to the properties of the objects passed into them.

 //chrome (v8)

 var a = { 'test1':'test1val' }
 test1   // error not defined
 with (a) { var test1 = 'replaced' }
 test1   // undefined
 a       // a.test1 = 'replaced'


EDIT: Clarifying example:

test1 is scoped to the with block, but is aliased to a.test1.  'Var test1' creates a new variable test1 in the upper lexical context (function, or global), unless it is a property of a -- which it is. 

Yikes!  Be careful using 'with' -- just like var is a noop if the variable is already defined in the function, it is also a noop with respect to names imported from the object!  A little heads up on the name already being defined would make this much safer.  I personally will never use with because of this.
    ","You have some mistakes here, for one JavaScript does have forms of block scoping.OOOMy ears (eyes) are open, Benjamin -- My statements above are how I've been treating Javascript scoping, but they are not based on reading the spec.  And I hope you aren't referring to the with statement (which is a form of object scoping), or Mozilla's special 'let' syntax.OOOWell, with statement is a form of block scoping but catch clauses are a much more common form (Fun fact, v8 implements catch with a with) - that's pretty much the only forms of block scoping in JavaScript itself (That is, function, global, try/catch , with and their derivatives), however host environments have different notions of scoping - for example inline events in the browser and NodeJS's vm module.OOOBenjamin -- from what I can see, both with and catch only introduce the object into the current scope (and thus the properties), but then after the respective block ends, the variables are reset.  But for example, a new variable introduced in a catch will have the scope of the enclosing function / method.OOOWhich is exactly what block scoping means :)OOOI think at this point we'd enter into a semantic argument.  But I'm glad to know about that little nuance anyway (even if it has never come up for me..)OOOMassive edit on the post -- my misunderstanding was actually with how properties work.  I also simplified what I was thinking about block scope to names defined just for the block."
"17","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
I found that many people new to JavaScript have trouble understanding that inheritance is available by default in the language and that function scope is the only scope, so far. I provided an extension to a beautifier I wrote at the end of last year called JSPretty. The feature colors function scope in the code and always associates a color to all variables declared in that scope. Closure is visually demonstrated when a variable with a color from one scope is used in a different scope.

Try the feature at:

http://prettydiff.com/jspretty.xhtml?c=white&jsscope
See a demo at:

http://prettydiff.com/jspretty.xhtml?c=white&jsscope&s=http://prettydiff.com/lib/markup_beauty.js
View the code at:

http://prettydiff.com/lib/jspretty.js
https://github.com/austincheney/Pretty-Diff/blob/master/lib/jspretty.js
Currently the feature offers support for a depth of 16 nested functions, but currently does not color global variables.
    ","Doesn't work for me with Firefox 26.  I paste code or load a file, click execute and nothing happens."
"18","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
JavaScript have only two type of scope : 

Global Scope : Global is nothing but a window level scope.Here, variable present throughout the application.
Functional Scope : Variable declared within a function with var keyword has functional scope.
Whenever a function is called, a variable scope object is created (and included in scope chain) which is followed by variables in JavaScript.

        a = ""global"";
         function outer(){ 
              b = ""local"";
              console.log(a+b); //""globallocal""
         }
outer();


Scope chain -->  

Window level - a and outer function are at top level in scope chain.
when outer function called a new variable scope object(and included in scope chain) added with variable b inside it.
Now when a variable a required it first searches for nearest variable scope and if variable is not there than it move's to next object of variable scope chain.which is in this case is window level.
    ","Not sure why this is not the accepted answer. There is actually just functional scope (prior to ECMA6 there was no ""local scope"") and global bindings"
"19","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Just to add to the other answers, scope is a look-up list of all the declared identifiers (variables), and enforces a strict set of rules as to how these are accessible to currently executing code.  This look-up may be for the purposes of assigning to the variable, which is an LHS (lefthand-side) reference, or it may be for the purposes of retrieving its value, which is an RHS (righthand-side) reference. These look-ups are what the JavaScript engine is doing internally when it's compiling and executing the code.

So from this perspective, I think that a picture would help that I found in the Scopes and Closures ebook by Kyle Simpson:



Quoting from his ebook:


  The building represents our program¡¯s nested scope ruleset. The first
  floor of the building represents your currently executing scope,
  wherever you are. The top level of the building is the global scope.
  You resolve LHS and RHS references by looking on your current floor,
  and if you don¡¯t find it, taking the elevator to the next floor,
  looking there, then the next, and so on. Once you get to the top floor
  (the global scope), you either find what you¡¯re looking for, or you
  don¡¯t. But you have to stop regardless.


One thing of note that is worth mentioning, ""Scope look-up stops once it finds the first match"".

This idea of ""scope levels"" explains why ""this"" can be changed with a newly created scope, if it's being looked up in a nested function.
Here is a link that goes into all these details, Everything you wanted to know about javascript scope 
    ",NA
"20","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
run the code. hope this will give an idea about scoping 

Name = 'global data';
document.Name = 'current document data';
(function(window,document){
var Name = 'local data';
var myObj = {
    Name: 'object data',
    f: function(){
        alert(this.Name);
    }
};

myObj.newFun = function(){
    alert(this.Name);
}

function testFun(){
    alert(""Window Scope : "" + window.Name + 
          ""\nLocal Scope : "" + Name + 
          ""\nObject Scope : "" + this.Name + 
          ""\nCurrent document Scope : "" + document.Name
         );
}


testFun.call(myObj);
})(window,document);

    ",NA
"21","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Global Scope :

Global variables are exactly like global stars (Jackie Chan, Nelson Mandela). You can access them (get or set the value), from any part of your application. Global functions are like global events (New Year, Christmas). You can execute (call) them from any part of your application.

//global variable
var a = 2;

//global function
function b(){
   console.log(a);  //access global variable
}


Local Scope :

If you are in the USA, you may know Kim Kardashian, infamous celebrity ( she somehow manages to make the tabloids). But people outside of the USA will not recognize her. She is a local star, bound to her territory.

Local variables are like local stars. You can only access them (get or set the value) inside the scope. A local function is like local events - you can execute only (celebrate) inside that scope. If you want to access them from outside of the scope, you will get a reference error

function b(){
   var d = 21; //local variable
   console.log(d);

   function dog(){  console.log(a); }
     dog(); //execute local function
}

 console.log(d); //ReferenceError: dddddd is not defined    


Check this article for in-depth understanding of scope 
    ",NA
"22","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
There are ALMOST only two types of JavaScript scopes:

the scope of each var declaration is associated with the most immediately enclosing function
if there is no enclosing function for a var declaration, it is global scope
So, any blocks other than functions do not create a new scope. That explains why for-loops overwrite outer scoped variables:

var i = 10, v = 10;
for (var i = 0; i < 5; i++) { var v = 5; }
console.log(i, v);
// output 5 5


Using functions instead:

var i = 10, v = 10;
$.each([0, 1, 2, 3, 4], function(i) { var v = 5; });
console.log(i,v);
// output 10 10


In the first example, there was no block scope, so the initially declared variables were overwritten. In the second example, there was a new scope due to the function, so the initially declared variables were SHADOWED, and not overwritten.

That's almost all you need to know in terms of JavaScript scoping, except:

try/catch introduce new scope ONLY for the exception variable itself, other variables do not have new scope
with-clause apparently is another exception, but using with-clause it highly discouraged (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with)
So you can see JavaScript scoping is actually extremely simple, albeit not always intuitive. A few things to be aware of:

var declarations are hoisted to the top of the scope. This means no matter where the var declaration happens, to the compiler it is as if the var itself happens at the top
multiple var declarations within the same scope are combined
So this code:

var i = 1;
function abc() {
  i = 2;
  var i = 3;
}
console.log(i);     // outputs 1


is equivalent to:

var i = 1;
function abc() {
  var i;     // var declaration moved to the top of the scope
  i = 2;
  i = 3;     // the assignment stays where it is
}
console.log(i);


This may seem counter intuitive, but it makes sense from the perspective of a imperative language designer.
    ",NA
"23","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Modern Js, ES6+, 'const' and 'let'

You should be using block scoping for every variable you create, just like most other major languages. var is obsolete. This makes your code safer and more maintainable.

const should be used for 95% of cases. It makes it so the variable reference can't change. Array, object, and DOM node properties can change and should likely be const.

let should be be used for any variable expecting to be reassigned. This includes within a for loop. If you ever change value beyond initialization, use let.

Block scope means that the variable will only be available within the brackets in which it is declared. This extends to internal scopes, including anonymous functions created within your scope.
    ",NA
"24","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
There are only function scopes in JS. Not block scopes!
You can see what is hoisting too.

var global_variable = ""global_variable"";
var hoisting_variable = ""global_hoist"";

// Global variables printed
console.log(""global_scope: - global_variable: "" + global_variable);
console.log(""global_scope: - hoisting_variable: "" + hoisting_variable);

if (true) {
    // The variable block will be global, on true condition.
    var block = ""block"";
}
console.log(""global_scope: - block: "" + block);

function local_function() {
    var local_variable = ""local_variable"";
    console.log(""local_scope: - local_variable: "" + local_variable);
    console.log(""local_scope: - global_variable: "" + global_variable);
    console.log(""local_scope: - block: "" + block);
    // The hoisting_variable is undefined at the moment.
    console.log(""local_scope: - hoisting_variable: "" + hoisting_variable);

    var hoisting_variable = ""local_hoist"";
    // The hoisting_variable is now set as a local one.
    console.log(""local_scope: - hoisting_variable: "" + hoisting_variable);
}

local_function();

// No variable in a separate function is visible into the global scope.
console.log(""global_scope: - local_variable: "" + local_variable);

    ","You can find more detailed data on: link"
"25","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
Try this curious example. In the example below if a were a numeric initialized at 0, you'd see 0 and then 1. Except a is an object and javascript will pass f1 a pointer of a rather than a copy of it. The result is that you get the same alert both times.

var a = new Date();
function f1(b)
{
    b.setDate(b.getDate()+1);
    alert(b.getDate());
}
f1(a);
alert(a.getDate());

    ",NA
"26","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
My understanding is that there are 3 scopes: global scope, available globally; local scope, available to an entire function regardless of blocks; and block scope, only available to the block, statement, or expression on which it was used. Global and local scope are indicated with the keyword 'var', either within a function or outside, and block scope is indicated with the keyword 'let'.

For those that believe there is only global and local scope, please explain why Mozilla would have an entire page describing the nuances of block scope in JS. 

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let
    ",NA
"27","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
In JavaScript there are two types of scope:

Local scope 
Global scope
The Below function has a local scope variable carName. And this variable is not accessible from outside of the function.

function myFunction() {
    var carName = ""Volvo"";
    alert(carName);
    // code here can use carName
}


The Below Class has a Global scope variable carName. And this variable is accessible from everywhere in the class.

class {

    var carName = "" Volvo"";

    // code here can use carName

    function myFunction() {
        alert(carName);
        // code here can use carName 
    }
}

    ",NA
"28","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
In EcmaScript5, there are mainly two scopes, local scope and global scope but in EcmaScript6 we have mainly three scopes, local scope, global scope and a new scope called block scope. 

Example of block scope is :-

for ( let i = 0; i < 10; i++)
{
 statement1...
statement2...// inside this scope we can access the value of i, if we want to access the value of i outside for loop it will give undefined.
}

    ",NA
"29","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
ECMAScript 6 introduced the let and const keywords. These keywords can be used in place of the var keyword. Contrary to the var keyword, the let and const keywords support the declaration of local scope inside block statements.

var x = 10
let y = 10
const z = 10
{
  x = 20
  let y = 20
  const z = 20
  {
    x = 30
    // x is in the global scope because of the 'var' keyword
    let y = 30
    // y is in the local scope because of the 'let' keyword
    const z = 30
    // z is in the local scope because of the 'const' keyword
    console.log(x) // 30
    console.log(y) // 30
    console.log(z) // 30
  }
  console.log(x) // 30
  console.log(y) // 20
  console.log(z) // 20
}

console.log(x) // 30
console.log(y) // 10
console.log(z) // 10

    ",NA
"30","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
ES5 and earlier:

Variables in Javascript were initially (pre ES6) lexically function scoped. The term lexically scoped means that you can see the scope of the variables by 'looking' at the code. 

Every variable declared with the var keyword is scoped to the function. However, if other function are declared within that function those functions will have access to the variables of the outer functions. This is called a scope chain. It works in the following manner:

When a function look to resolve a variable value it first looks at its own scope. This is the function body, i.e. everything between curly brackets {} (except for variables inside other functions which are in this scope).
If it cannot find the variable inside the the function body it will climb up to the chain and look at the variable scope in the function in where the function was defined. This is what is meant with lexical scope, we can see in the code where this function was defined and thus can determine the scope chain by merely looking at the code.
Example:



// global scope
var foo = 'global';
var bar = 'global';
var foobar = 'global';

function outerFunc () {
 // outerFunc scope
 var foo = 'outerFunc';
 var foobar = 'outerFunc';
 innerFunc();
 
 function innerFunc(){
 // innerFunc scope
  var foo = 'innerFunc';
  console.log(foo);
  console.log(bar);
  console.log(foobar);
  }
}

outerFunc();




What happens when we are trying to log the variables foo, bar, and foobar to the console is the following:

We try to log foo to the console, foo can be found inside the function innerFunc itself. Therefore, the value of foo is resolved to the string innerFunc.
We try to log bar to the console, bar cannot be found inside the function innerFunc itself. Therefore, we need to climb the scope chain. We first look in the outer function in which the function innerFunc was defined. This is the function outerFunc. In the scope of outerFunc we can find the variable bar, which holds the string 'outerFunc'. 
foobar cannot be found in innerFunc. . Therefore, we need to climb the scope chain to the innerFunc scope. It also cannot be found here, we climb another level to the global scope (i.e. the outermost scope). We find the variable foobar here which holds the string 'global'. If it wouldnot have found the variable after climbing the scope chain the JS engine would throw a referenceError.
ES6 (ES 2015) and older:

The same concepts of lexically scope and scopechain still apply in ES6. However a new ways to declare variables were introduced. There are the following:

let: creates a block scoped variable
const: creates a block scoped variable which has to be initialized and cannot be reassigned
The biggest difference between var and let/const is that var is function scoped whereas let/const are block scoped. Here is an example to illustrate this:



let letVar = 'global';
var varVar = 'global';

function foo () {
  
  if (true) {
    // this variable declared with let is scoped to the if block, block scoped
    let letVar = 5;
    // this variable declared with let is scoped to the function block, function scoped
    var varVar = 10;
  }
  
  console.log(letVar);
  console.log(varVar);
}


foo();




In the above example letVar logs the value global because variables declared with let are block scoped. They cease to exist outside their respective block, so the variable can't be accessed outside the if block. 
    ",NA
"31","What is the scope of variables in JavaScript?","2009-02-01T08:27:19",485363,"What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?","javascript function variables scope var","Here is another nice link to keep in mind this issue: ""Explaining JavaScript scope and closures"".OOOHere is an article that explains it very nicely. Everything you need to know about Javascript variable scopeOOOThe previously mentioned e-book of Kyle Simpson is available to read on Github, and it tells you all you need to know about JavaScript Scopes & Closures. You can find it here: github.com/getify/You-Dont-Know-JS/blob/master/¡¦ It's part of the ""You don't know JS"" book series, which is great for everybody who would like to know more about JavaScript.","
There are two types of scopes in JavaScript. 

Global scope: variable which is announced in global scope can be used anywhere in the program very smoothly. For example: 

var carName = "" BMW"";

// code here can use carName

function myFunction() {
     // code here can use carName 
}

Functional scope or Local scope: variable declared in this scope can be used in its own function only. For example:

// code here can not use carName
function myFunction() {
   var carName = ""BMW"";
   // code here can use carName
}

",NA
"32","BlockChain: Private block chain technologies [closed]","2017-06-19T13:01:51",657,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       As far as i understand, private block chains are built for an enterprise or a group of organizations.

While i am trying to explore, i came across few technologies like Hyperledger fabric, OpenChain, multiChain. 


  What are the technologies using which a private Block Chain can be built?
  Is Hyperledger fabric a technology for private BlockChain? (As per this link, its public....hence confusing)","private blockchain hyperledger-fabric",NA,"
An implementation of Blockchain could be private or public (open source), like all applications/projects.

Then, each implementation could be:

Private (permissioned)
Public (permisionless)
Bitcoin is a permisionless Blockcahin, anyone could take part on it.

Hyperledger Fabric is a project for creating permissioned Blockchains. In these Blockchains, there is someone who allows you to take part in the network. Once in the network, all the menbers share the same ledger. However, this Blockchains allow you to create your own Blockchain inside the network. So, some information could be accesible for only some members.

Then, you can use the Blockchain for whatever you want: to trace a product through the supply chain, to control a vote system...
    ",NA
"33","BlockChain: Private block chain technologies [closed]","2017-06-19T13:01:51",657,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       As far as i understand, private block chains are built for an enterprise or a group of organizations.

While i am trying to explore, i came across few technologies like Hyperledger fabric, OpenChain, multiChain. 


  What are the technologies using which a private Block Chain can be built?
  Is Hyperledger fabric a technology for private BlockChain? (As per this link, its public....hence confusing)","private blockchain hyperledger-fabric",NA,"
Blockchain networks are deployed in various domains including universal basic income programs, financial sector and even for humanitarian purposes. IBM saw the potential and launched its own ¡°Blockchain as a service¡± by implementing a first of its kind enterprise ready blockchain. 

IBM¡¯s blockchain is based on The Linux Foundations' open source Hyperledger fabric. This fabric is like an operating system for data sharing networks, marketplaces, micro-currencies and decentralized digital communities. This further reduces cost and complexities involved in routine activities in various domains. 

The applications and solutions developed under Hyperledger project follow a modular architecture where Hyperledger Fabric allows consensus and membership services to be plugged and play. Also, the component of smart contracts in Hyperledger host ¡°chain code¡± that comprises of application logic system. Further, Hyperledger Fabric is a product of contributions by Digital Asset and IBM.

Blockchain technology at IBM aims at helping customers to create, deploy and manage blockchain network via cloud-based services. To bring blockchain technologies for commercial adoption, an open software development framework and approach is required which can ensure interoperability, longevity, transparency, and support. 

For secure services to enterprise users, IBM has added another layer of security services and a highly auditable way of tracking activities. 

At present, IBM isn¡¯t just limited to enterprise mode of the blockchain; in 2015 IBM along with Samsung present a proof of concept for implementing blockchain with IoT, this was named as ¡°Autonomous Decentralized Peer-to-Peer Telemetry¡±. This will be a revolutionary step for future of digital security and transparency.

You can learn more about IBM BlockChain and develop your own BlockChain @ https://www.ibm.com/developerworks/cloud/library/cl-ibm-blockchain-101-quick-start-guide-for-developers-bluemix-trs/index.html
    ",NA
"34","BlockChain: Private block chain technologies [closed]","2017-06-19T13:01:51",657,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       As far as i understand, private block chains are built for an enterprise or a group of organizations.

While i am trying to explore, i came across few technologies like Hyperledger fabric, OpenChain, multiChain. 


  What are the technologies using which a private Block Chain can be built?
  Is Hyperledger fabric a technology for private BlockChain? (As per this link, its public....hence confusing)","private blockchain hyperledger-fabric",NA,"
The private block chain is a bit different than what we learn from Bitcoin, it has its own way of operating. For example, hyper ledger project from Linux and IBM focus on the building BaaS(BlockChain as a service). Where you can build e-e application using IBM Bluemix tool for your intranet work. It may have N number of application. The private blockchain is essential to those who want to build blockchain on top of their existing product.IBM Blockchain solution using their hyper ledger fabric enabling you to focus on powerful features of Blockchain for business https://console.bluemix.net/catalog/services/blockchain
    ",NA
"35","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
The previous answers were accurate, but perhaps too terse.
I will try to add some examples.

First of all, the word ""proxy"" describes someone or something acting on behalf of someone else.

In the computer realm, we are talking about one server acting on the behalf of another computer.

For the purposes of accessibility, I will limit my discussion to web proxies - however, the idea of a proxy is not limited to websites.

FORWARD proxy

Most discussion of web proxies refers to the type of proxy known as a ""forward proxy.""

The proxy event, in this case, is that the ""forward proxy"" retrieves data from another web site on behalf of the original requestee.

A tale of 3 computers (part I)

For an example, I will list three computers connected to the internet.

X = your computer, or ""client"" computer on the internet
Y = the proxy web site, proxy.example.org
Z = the web site you want to visit, www.example.net
Normally, one would connect directly from X --> Z.

However, in some scenarios, it is better for Y --> Z on behalf of X,
which chains as follows: X --> Y --> Z.

Reasons why X would want to use a forward proxy server:

Here is a (very) partial list of uses of a forward proxy server:

1) X is unable to access Z directly
because

a) Someone with administrative authority over X's internet connection has decided to block all access to site Z.

Examples:

The Storm Worm virus is spreading by tricking people into visiting familypostcards2008.com, so the system administrator has blocked access to the site to prevent users from inadvertently infecting themselves.
Employees at a large company have been wasting too much time on facebook.com, so management wants access blocked during business hours.
A local elementary school disallows internet access to the playboy.com website.
A government is unable to control the publishing of news, so it controls access to news instead, by blocking sites such as wikipedia.org. See TOR or FreeNet.


b) The administrator of Z has blocked X.

Examples:

The administrator of Z has noticed hacking attempts coming from X, so the administrator has decided to block X's IP address (and/or netrange).
Z is a forum website.  X is spamming the forum. Z blocks X.



REVERSE proxy

A tale of 3 computers (part II)

For this example, I will list three computers connected to the internet.

X = your computer, or ""client"" computer on the internet
Y = the reverse proxy web site, proxy.example.com
Z = the web site you want to visit, www.example.net
Normally, one would connect directly from X --> Z.

However, in some scenarios, it is better for the administrator of Z to restrict or disallow direct access and force visitors to go through Y first.
So, as before, we have data being retrieved by Y --> Z on behalf of X, which chains as follows: X --> Y --> Z.

What is different this time compared to a ""forward proxy,"" is that this time the user X does not know he is accessing Z, because the user X only sees he is communicating with Y.
The server Z is invisible to clients and only the reverse proxy Y is visible externally. A reverse proxy requires no (proxy) configuration on the client side.

The client X thinks he is only communicating with Y (X --> Y), but the reality is that Y forwarding all communication (X --> Y --> Z again).

Reasons why Z would want to set up a reverse proxy server:

1) Z wants to force all traffic to its web site to pass through Y first.

a) Z has a large web site that millions of people want to see, but a single web server cannot handle all the traffic. So Z sets up many servers and puts a reverse proxy on the internet that will send users to the server closest to them when they try to visit Z. This is part of how the Content Distribution Network (CDN) concept works.

Examples:

Apple Trailers uses Akamai
Jquery.com hosts its JavaScript files using CloudFront CDN (sample).
etc.



2) The administrator of Z is worried about retaliation for content hosted on the server and does not want to expose the main server directly to the public.

a) Owners of Spam brands such as ""Canadian Pharmacy"" appear to have thousands of servers, while in reality having most websites hosted on far fewer servers. Additionally, abuse complaints about the spam will only shut down the public servers, not the main server.

In the above scenarios, Z has the ability to choose Y.

Links to topics from the post:

Content Delivery Network

Lists of CDNs

http://www.mytestbox.com/miscellaneous/content-delivery-networks-cdn-list/
http://blog.streamingmedia.com/the_business_of_online_vi/2008/01/updated-list-of.html

Forward proxy software (server side)

PHP-Proxy
cgi-proxy
phproxy  (discontinued)
glype
Internet censorship wiki: List of Web Proxies
squid  (apparently, can also work as a reverse proxy)
Reverse proxy software for HTTP (server side)

Apache mod_proxy (can also work as a forward proxy for HTTP)
nginx  (used on hulu.com, spam sites, etc.)
HAProxy
Caddy Webserver
lighthttpd
perlbal (written for livejournal)
portfusion
pound
varnish cache (written by a FreeBSD kernel guru)
repose
Reverse proxy software for TCP (server side)

balance
delegate
pen
portfusion
pure load balancer (web site defunct)
python director
See also:

Wikipedia - Content Delivery Network
Wikipedia - Category:Reverse_proxy
Wikipedia - Load Balancing
Wikipedia - Scalability
","TAM (tivoli access manager) is also a reverse proxy server, right?OOOwhat about open-proxy??OOOConceptually then, we could refer to or think of a ""reverse proxy"" then as a ""forced"" proxy?OOOAnything about the position of the firewall and its justification?OOOHAProxy can act as both HTTP and TCP reverse proxy.  A reverse proxy can also add basic http authentication to your system (you may have a web server or device with integrated web service, then you can use HAProxy to add authentication, if device does not have any.).  You do also use reverse proxy to make more robust system.OOO""that will send users to the server closest to them"" - What is the point? All the traffic will go through that proxy server, right? So it does not matter where location of 'local' server behind it is. Or I am missing something?OOOAre reverse proxy server and the main server are on the same server or can they be different?OOO@Pavel probably ""server closest to them"" isn't the best description. More like ""distribute load to pool of servers"" is better description. This example was describing a reverse proxy load balancer.OOO@qyb2zm302 What is different this time compared to a ""forward proxy,"" is that this time the user X does not know he is accessing Z But since Z is example.com, wouldn't the user not know he is actually accessing X? This seems like it implies that the user has visited Y = the reverse proxy web site, proxy.example.com?OOOYou can almost think of a reverse proxy as load balancing.OOOWouldn't the forward proxy software be client side?  You mentioned:  forward proxy software (server side)OOOSquid should also appear in reverse proxy... It's a good product as reverse proxy too. Was first used by yahoo and I believe still is.OOOYour point says but the reality is that Y forwarding all communication to  Z again so what is the  use of reverse proxy if the requests hits Z again ? What does the multiple servers in Y does ?OOOProbably repeated somewhere in comments but you state the difference of reverse is that the user X is unaware of Z. Isn't the same true in the forward proxy?  The other answers saying acting on behalf of client or server combined with your examples is a good explanation imo. (I think more times than not, you assume X is unaware) ""Y"" would either act on behalf of X or behalf of Z. So maybe it's more Y is aware of X or Y is aware of Z.OOOso when specific web sites are restricted by ISP , reverse proxy will allow user to access them , right?OOOthat local elementary school is so cruel!OOOThis was the key for me:- forward: (X --> Y) --> Z, reverse: X --> (Y --> Z).OOOThat was the best post I've ever seen on stack overflow.  Well done.  (stands and claps).  Really appreciate the effort that went into that.OOOI'm adding this explanation to our Developer / DevOps Playbook. Excellent explanation, thank you. What exactly is a SOCKS 5 proxy for? Example: shadowsocks.org/en/index.htmlOOOIf they use both forward and reverse this is how I think of it x <--> (Px <--> Pz) <--> z"
"36","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
A pair of simple definitions would be:

Forward Proxy: Acting on behalf of a requestor (or service consumer)

Reverse Proxy: Acting on behalf of  service/content producer.
    ",NA
"37","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
I found the diagram below to be very helpful. It just shows the architecture of a forward vs. reverse proxy setup from client to server over the Internet. This image will help you to understand qyb2zm302's answer and other answers better.



You can also watch this video from F5's DevCentral by Peter Silva.

Picture Source: Quora. However, as per Martijn Pieters, this image could be from Pulse Secure Community or Julien Pauli's site (in French) at developpez.com.

It reminded me of the classic proverb:


  A picture is worth 1000 words.

    ","This is really all you need to look at. Setting up a proxy in your browser so that Netflix doesn't know what country you're in is a forward proxy; an upstream service that directs an incoming request (perhaps you want to send one request to two servers) is a reverse proxy.OOOForward proxy can be on internet as wellOOOThe best picture in the last answer. Thanks. :) A reverse proxy is also known as ""Load Balancer"" and acts on the server-side (distribute load to different servers), while a forward proxy supports the client side.OOOI am trying to understand the second picture. As said Reverse proxy server has multiple servers in it , but main server which is hidden from public should sit back of multiple servers , but i can't see the main sever in picture ?OOONotice that ""A load balancer can balance traffic from layer 3 upwards to layer 7, but a reverse proxy is HTTP specific."" For more: serverfault.com/questions/127021/¡¦OOOThe quora author is not the original author of the image, as this page from 2013 with a single revision is a year older.OOOIt may be that this french tutorial from 2009 is the source; the 2009 web archive copy is having javascript issues (continued redirects), and the images were only archived in 2017, but the source references the same image URLs as later sources.OOOThanks for the info @MartijnPieters. I will update my answer accordingly."
"38","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Forward Proxy vs. Reverse Proxy (2012) explains the difference between forward and reverse proxies very clearly.

qyb2zm302's answer nicely details applications of proxies, but it slips up on the fundamental concept between forward and reverse proxies. For the reverse proxy, X ¡æ Y ¡æ Z, X knows about Y and not Z, rather than vice versa.

A proxy is simply a middleman for communication (requests + responses). Client <-> Proxy <-> Server

Client proxy: ( client <-> proxy ) <-> server
The proxy acts on behalf of the client. The client knows about all three machines involved in the chain. The server doesn't.

Server proxy: client <-> ( proxy <-> server )
The proxy acts on behalf of the server. The client only knows about the proxy. The server knows the whole chain.

It seems to me that forward and reverse are simply confusing, perspective-dependent names for client and server proxy. I suggest abandoning the former for the latter, for explicit communication.

Of course, to further complicate the matter, not every machine is exclusively a client or a server. If there is an ambiguity in context, it's best to explicitly specify where the proxy lies, and the communications that it tunnels.
    ","This answer is in line with httpd.apache.org/docs/2.0/mod/mod_proxy.html#forwardreverse and helps explain it clearlyOOOit seems that the most relevant feature in this comparison is who-knows-who. forward proxy: client knows both proxy (it has it configured in fact) and target server (as it makes request to url of server), while, in the case of reverse proxy, the client knows of the proxy as a target server (it does not know what the proxy is actually calling; it can be one server or more). with a forward proxy, the server does not know who the clients really are, as the proxy ""forwards"" request to it. forward proxy: hide client(s). reverse proxy: hide server(s).OOO@Protongun ""..A proxy is simply a middleman for communication (requests + responses).."" what's the need of proxy in first place ? Please clarify. IMHO this answer should have been the accepted oneOOOThe first link in this post makes it clear and easy to understand for everybodyOOO@Belun Well explained in utmost simple words/terms."
"39","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Some diagrams might help:

Forward proxy



Reverse proxy


    ","Is it? They look the same! What is so special about re-writing a response that makes a proxy a ""reverse"" proxy?OOO@8bitjunkie Its about perspective. Notice that, for the forward proxy, the client knows it is communicating with a proxy server. For the reverse proxy, the client thinks it is communicating directly with home.com.  The proxies also have different implementations. The reverse proxy can be pretty stupid. All it has to do is change the address and pass the call along. More networking logic on client, less on the proxy.  The forward proxy, on the other hand, needs to somehow know that a request for proxy.com() requires a call to service.com. Less networking logic on client, more on the proxy.OOOWhat is meant by ""translate myhome.myhosting.com to hom.com"" I don't get the translate part. Like re-write part of the response header or something?OOOAlso one of the reasons for reverse proxy (based on what I understood from the accepted answer) is that the purpose of doing this is to divide heavy incoming traffic amongst multiple servers. Where in this chain does that happen? Is that another ""inbound rule""?OOO@1252748 about 1), the translation would simply mean mapping the URLs and issuing a request to the appropriate URL. about 2), yes, you can configure the server to, for instance, use round robin to load balance the requests among servers.OOOIs it your own diagram? Or is there a source?OOO@PeterMortensen they are my own"
"40","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
The difference is primarily in deployment. Web forward and reverse proxies all have the same underlying features. They accept requests for HTTP requests in various formats and provide a response, usually by accessing the origin or contact server.

Fully featured servers usually have access control, caching, and some link-mapping features.

A forward proxy is a proxy that is accessed by configuring the client machine. The client needs protocol support for proxy features (redirection, proxy authentication, etc.). The proxy is transparent to the user experience, but not to the application.

A reverse proxy is a proxy that is deployed as a web server and behaves like a web server, with the exception that instead of locally composing the content from programs and disk, it forwards the request to an origin server. From the client perspective it is a web server, so the user experience is completely transparent.

In fact, a single proxy instance can run as a forward and reverse proxy at the same time for different client populations.
    ","Just to be sure, a forward proxy is client-side and a reverse proxy is server-side?OOO@yves. a proxy is also a server. It is just that client need a local configuration so that they can communicate. While a reverse proxy requires configuration at the server itself. Their physical nodes  are both at the 'server side'.OOOJust for general info, not all proxies can operate as forward and reverse, e.g., SOCKS can, but not HTTP proxies."
"41","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Proxy: It is making the request on behalf of the client. So, the server will return the response to the proxy, and the proxy will forward the response to the client. In fact, the server will never ""learn"" who the client was (the client's IP address); it will only know the proxy. However, the client definitely knows the server, since it essentially formats the HTTP request destined for the server, but it just hands it to the proxy.



Reverse Proxy: It is receiving the request on behalf of the server. It forwards the request to the server, receives the response and then returns the response to the client. In this case, the client will never ""learn"" who was the actual server (the server's IP address) (with some exceptions); it will only know the proxy. The server will or won't know the actual client, depending on the configurations of the reverse proxy.


    ","I feel like I could copy and paste your definitions backwards and that they would still be true. I don't think this explains any key difference or clarifies what is so ""reverse"" about a reverse proxy?"
"42","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
The best explanation is here with diagrams:

While a forward proxy proxies on behalf of clients ( or requesting hosts ), a reverse proxy proxies on behalf of servers.

In effect, whereas a forward proxy hides the identities of clients, a reverse proxy hides the identities of servers.
    ",NA
"43","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
A proxy server proxies (and optionally caches) outgoing network requests to various not-necessarily-related public resources across the Internet. A reverse proxy captures (and optionally caches) incoming requests from the Internet and distributes them to various internal private resources, usually for high availability purposes.
    ",NA
"44","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","

  Cloudflare has a great article with images explaining this in details.
  
  Check here:
  What Is A Reverse Proxy? | Proxy Servers Explained





    ",NA
"45","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Proxy (Forward Proxy):

When computers on your LAN connect to a proxy server that accesses the Internet. Benefits include only the server being exposed to the Internet. People on the outside are unable to access the computers directly.
Forward proxies can improve Internet access for users by caching downloads. They can also be used to restrict access to certain sites. Also, only the proxy server would need a public address, not the clients connecting to it.

Reverse Proxy:

A reverse proxy is the opposite of a forward proxy. Instead it acts as a proxy on behalf of the servers being connected to. Instead of accessing a remote server directly, a user would go through the reverse proxy and get directed to the appropriate 
server from there. Only the reverse proxy would need an SSL certificate, only one public IP address would be needed, and it can handle load balancing of incoming requests to enhance the overall user experience. 



Image Source: Creating a Forward Proxy Using Application Request Routing
    ","IMHO, simplest/best answer."
"46","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
My understanding from an Apache perspective is that proxy means that if site x proxies for site y, then requests for x return y.

The reverse proxy means that the response from y is adjusted so that all references to y become x.

So that the user cannot tell that a proxy is involved...
    ",NA
"47","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
As per my understanding...

To start with, as everyone knows, proxy means ""the authority to represent someone else"". Now there are two things, forward and reverse proxy. 

Forward proxy

Suppose you want to access ""Google"" and ""Google"" in turn will have n number of servers to respond to that particular request.

Now in this case, while you are requesting for something from Google and you don¡¯t want Google to see your IP address, then you will use a forward proxy, as explained below.

A ¡æ B ¡æ C

Now here you are A, sending a request through B. So C will think that the request is coming from B, not A. In this way you can prevent your clients IP address not to be exposed to outer world.

Reverse proxy

Now in this case, to make you understand, we will take the same case of forward proxy. Here you have requested for something to Google, which in turn going to send the one request to the app server or another proxy server to get the response. So these things will happen as explained below.

A  ¡æ B  ¡æ C

C  ¡æ D

C  ¡ç D

A ¡ç B ¡ç C

From the above diagram you can see that a request has been sent to C from B, not from A. Then from C there will be one request send to D. Similarly the response will go to C from D and then to B and A.

The above diagram says it's only the context which matters although both the proxies are acting the same way, but the client-side proxy is hiding the client information whereas the server-side proxy will hide server-side information.
    ",NA
"48","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Forward proxies grant the client anonymity (i.e, think Tor).

Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).
    ","aarvy.me/blog/2019/09/30/¡¦"
"49","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Here's an example of a reverse proxy (as a load balancer).

A client surfs to website.com and the server it hits has a reverse proxy running on it. The reverse proxy happens to be Pound. Pound takes the request and sends it to one of the three application servers sitting behind it. In this example, Pound is a load balancer. That is, it is balancing the load between three application servers.

The application servers serve up the website content back to the client.
    ",NA
"50","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
A forward proxy serves users: it helps users access the server.

A reverse proxy serves the server: it protects the server from users.
    ",NA
"51","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
If no proxy

To see from the client side and server side are the same:

Client   ->   Server

Proxy

From the client side:

Client  ->  proxy -> Server

From the server side:

Client  ->  Server

Reverse proxy

From the client side:

Client  ->  Server

From the server side:

Client  ->  proxy -> Server

So I think if it set up by a client user£¬it is called a proxy£» if it set up by a server manager it is a reverse proxy.

Because the purposes and reasons for setting it up are different, they deal with data in different ways and use different software.

   User side          |      Server side
client  <->  proxy  <-->  reverse_proxy <-> real server

    ","It would be better if its Graphical Representation but nice content.@tinyhare"
"52","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Looking from the perspective of the user: when sending a request to a proxy or reverse proxy server:

proxy - requires two arguments: 1) what to get and 2) which proxy server to use an intermediate
reverse proxy - requires one argument: 1) what to get
A reverse proxy fetches contents from another server unbeknownst to the user and returns the result as if it originated from the reverse proxy server.
    ",NA
"53","What's the difference between a proxy server and a reverse proxy server?","2008-10-22T06:27:32",548859,"What is the difference between a proxy server and a reverse proxy server?","proxy webserver terminology reverse-proxy","It's well explained in Apache docs, too.OOO@Paolo that made it much easier to understand than the Wikipedia article. Perhaps I should get around to editing some of that info into the Wikipedia article eventually...OOOLets say I have host A which needs to connect to host C, but doesn't directly. Instead, it is configured as a with host entry or possibly dns, to call B which forwards the request to C. C doesn't care or know about B.  Is this a forward proxy or a reverse proxy?OOOIf host A can't get to host C without being configured to first contact host B, then host B is a traditional forward or ""outbound"" proxy server.OOOForward proxies grant the client anonymity (i.e, think Tor). Reverse proxies grant back end servers anonymity (i.e, think servers behind a DMZ).","
Most of the previous answers are good, but in my opinion none comes very close to addressing well enough the ""reverse"" quality that differentiates the two. To do that, some way of visualizing the ""reverse"" nature of what is essentially the same thing (a proxy) needs to be given, and it needs to be given in a well abstracted way.

A proxy (implicitly ""forward proxy"") connects multiple local clients to any one remote server:

c--
   |--p--s
c--


A reverse proxy connects multiple local servers to any one remote client (notice how the layout reverses):

s--
   |--p--c
s--


It is a matter of perspective really and properly understanding the concept requires abstracting away non-essential (to the particular concept) details though they may be very important when it comes to the pragmatics of proxy operation. Such details include the fact that in both scenarios the reality is that multiple clients connect to multiple servers, that clients and servers may not really be local or remote, where the Internet cloud is located or what kind of visibility exists between client and server.
    ","""multiple local servers to any one remote client"" - hm, why not multiple servers to multiple clients? I mean - the server itself does not connect to clients anyway, it only responds to any client requests, no matter if those are multiple clients or the same single client.OOORead again - especially the last paragraph and try to understand ""any one remote client"" as one of many instances of operationOOOThe text is ok, it's just that the second diagram made me suddenly think ""hey, where did the other client go?"" when I compared it to the first diagram.OOOYeah, it's because that client is not any of the other two. Developers tend to think in very concrete and specific terms because this is what helps when you're implementing stuff however that same way of thinking is not very helpful when thinking about abstractions."
"54","recover lost data in block-chain","2018-10-01T17:38:47",74,"i'm new to block-chain and a question is blowing my mind.

if some body change data in a block of block-chain, so the hash will change and the next block will understand because it has previous block hash.

So how to recover those lost data which were changed?
is there any idea or some solution.","blockchain data-recovery",NA,"
For an example, if we take a simple Blockchain where the Blocks will keep data such as

Transfer Amount
Transfer From
Transfer To
Previous block hash
current block hash
Check this Image : Simple Blockchain Example


Lets say, If some one was able to change the Last Block and manipulate the data, it is really unlikely that he is able to add this change in to the block chain (check this question and its answers to understand why its unlikely that this can be achieved : This Question : Why is Blockchain so Secure) The manipulator will need enormous computing power and the majority 51% of the nodes consent 

So since this can not be done, the data will not be changed. If a new block is added to the blockchain,  that will be in the block chain and never be changed. 
    ",NA
"55","recover lost data in block-chain","2018-10-01T17:38:47",74,"i'm new to block-chain and a question is blowing my mind.

if some body change data in a block of block-chain, so the hash will change and the next block will understand because it has previous block hash.

So how to recover those lost data which were changed?
is there any idea or some solution.","blockchain data-recovery",NA,"
That is the whole thing about blockchain, that you do not maintain a single copy of the ledger. A blockchain is a decentralised distributed ledger. Hence every node stores a copy of the ledger. 

If someone maliciously does modify the ledger, the affected node can check from other honest nodes and revert back to the original state. For an attack to be carried out successfully, it must result in modification of at-least a majority of the nodes maintaining the ledger.  
    ","and the majority is 51% of the network."
"56","Chrome extension issue in block-chain transaction","2018-05-04T10:28:10",47,"Basically I want a chrome extension which takes data from block-chain and display in browser content-script also when user click on that data one transaction happen which will increase the count in block-chain.

I am able to retrieve data from block-chain please check the below code.

async componentDidMount(){
    const ads = await advertiserAbi.methods
                     .getSpecificAdvertiserDetail(
                     ""any address"").call();
    this.setState({ads});
}


But the problem is coming in performing transaction. Please check the below code.

async onSubmitForUpdate() {
    console.log(""Hello"");
    await userAbi.methods
      .setStatistics(""any address"")
      .send({
      from: ""any address""
    });
}


Below is the error which I am getting.

POST https://rinkeby.infura.io/<--specific address--> 405 ()

Uncaught (in promise) Error: Invalid JSON RPC response: """"
at Object.InvalidResponse (content.js:108391)
at XMLHttpRequest.request.onreadystatechange (content.js:119211)","reactjs google-chrome-extension blockchain","Google says ""HTTP 405 Method Not Allowed response status code indicates that the request method is known by the server but has been disabled and cannot be used.""",NA,NA
"57","Diffrence between block chain smart contract platforms ?!!","2017-02-22T13:52:14",251,"kinda new to block chain technologies and going to work on a project of a smart contract based on block-chain .

i was wondering what are the platforms available ? 
what is the difference between them ? (points of comparison)

Help plz :) !!","platform blockchain smartcontracts",NA,"
I understand that the term ¡°Contract¡± it has not communicated clearly. Assuming you have the fair understanding on ¡°what is Blockchain¡±. Let me give a perspective <U+2013> it is contact between parties stored on the Blockchain or any computation that takes place on a Blockchain. Referring to some of technical forums, the answer to contract platforms depends on the what type of ¡°Contract¡±? Mainly any one of the two types of contract (generally refers to the capabilities you looking for). 

Smart contract code: This is to identify a specific technology <U+2013> code that is stored, verified, and executed on a Blockchain. Example, Ethereum or Eris platform, whose primary purpose is to be a platform for smart contract code. The platform provides code that could articulate a conditional financial transaction, While the code could articulate a conditional financial transaction (¡°send 1 Ether from Alice to Bob on Jan 1, 2017¡±), it could also be a governance application that controls account permissions (¡°if Alice has voted yes, remove Bob¡¯s voting rights over Application X and notify the following accounts¡¦¡±). 
You can make smart contract code using Ethereum or Eris Blockchain-based application. Please refer to their respective website. You will find lots of materials. There are may others as well.

And the other type of smart contract,

Smart legal contracts (the real world): This is to a specific application of that technology <U+2013> as a complement, or substitute, for legal contracts. This type of contract does not limit only to be executed using Blockchain platform.  It is still a debatable¡¦ as many commercial, clauses may not be always suitably represented using code. But in future the integration of 1 & 2 would most likely replace some of traditional legal contract languages. 
","it's a legal contract between the insurer and insurance."
"58","Diffrence between block chain smart contract platforms ?!!","2017-02-22T13:52:14",251,"kinda new to block chain technologies and going to work on a project of a smart contract based on block-chain .

i was wondering what are the platforms available ? 
what is the difference between them ? (points of comparison)

Help plz :) !!","platform blockchain smartcontracts",NA,"
Bitcoin Blockchain itself can be used for developing Smart Contracts, though it is a little bit challenging for beginners.

Bitcoin Contracts

Ethereum is one of the most widely used Blockchain Platform for writing smart contracts. 

Solidity Smart Contracts

You can also use Hyperledger for writing smart contracts / chain codes. 

Smart Contracts on IBM Blockchain

NEO is emerging as another popular Blockchain platform for authoring smart contracts. 

Developing Smart Contracts in NEO
    ",NA
"59","Where litecoin client downloads the block chain?","2014-01-29T13:56:05",354,"I have synced the litecoin block chain on my pc using litecoin client. I wish to mine on other pc too.  

Can I copy that block chain and paste it into new pc ? if yes please tell me process.

PS : It will be nice if someone can create litecoin tag.","bitcoin",NA,"
if using windows you will find blockchain under appdata > roaming > litecoin copy blk0001.dat and blkindex.dat in the same folder on another computer 

on linux it can be found under litecoin folder and then blockchain there you will find many files like blk0001.dat blk0002.dat etc you have to copy all of them
    ","i will verify it and will accept it then."
"60","Where litecoin client downloads the block chain?","2014-01-29T13:56:05",354,"I have synced the litecoin block chain on my pc using litecoin client. I wish to mine on other pc too.  

Can I copy that block chain and paste it into new pc ? if yes please tell me process.

PS : It will be nice if someone can create litecoin tag.","bitcoin",NA,"
On centos and redhat current litecoin trunk from github https://github.com/litecoin-project/litecoin
installs to
    /root/.litecoin/

for adjustments to the configuration edit

/root/.litecoin/conf/litecoin.conf


litecoin engineers donations offered here
LTC Web Miner #Share rejected reason job not found
    ",NA
"61","write tiny amount of data to block chain? and what block chain are available","2019-04-04T05:11:22",24,"I need to write my hash to block chain to make my document legit for life time (want to know how to do that)? Want to know how many block chains are out there and which few are the best ones with least expenses?","blockchain",NA,"
You can make a commitment in a Bitcoin transaction in at least a few ways.

1 - including your preimage in OP_RETURN data in an zero value output. This can be done by creating your own transaction manually, but you will have to pay the transaction fee. You could also use a service which aggregates many commitments into one final hash, then you share the fee (or don't pay one at all). One example is OpenTimestamps.

2 - Pedersen commitment - use your preimage to generate an EC public key along with a blinding factor. Does not use extra space in your transaction, therefore can be included in a transaction without additional fees.

3 - Pay-to-contract signature - including another preimage the nonce used in your transaction signature. This also does not take extra space in your transaction, therefore can be included in a transaction without additional fees.

Resources

A good resource is waxwing's blog: https://joinmarket.me/blog/blog/finessing-commitments/
Another good readup on this subject can be found here: https://blog.eternitywall.com/2018/04/13/sign-to-contract/
James Chiang's Teach Bitcoin curriculum: https://teachbitcoin.io/presentations/ecdsa.html#/
And wikipedia: Commitment Scheme
",NA
"62","block chain? What are the solutions for? [closed]","2017-08-27T01:10:24",46,"Closed. This question needs details or clarity. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Add details and clarify the problem by editing this post.                                                  Closed 2 years ago.                                                                                                                       What are the mathematic equations used for cruptocurrency block chain?

No one has been able to answer the question.

As what is the whole picture if their is one and who gives up the coin for the reward?","bcrypt",NA,"
To be simple, you need to solve 'Next Block X' in a problem like this:

HashFunction(BlockContent + Next Block X) 
    < HashFunction(CurrentBlockContent + Current Block X)


Since it's a hash function then there is no way to do it, currently, without trying every possible value of X.

When a node begin to solve the problem, it includes the reward to it in the block content first, then solve the problem, if X is valid, and the reward is a reasonable number (transaction fee + block reward) then other nodes will accept that block, means that node got the reward. (no body gives the reward).
    ","Thank you for the quick response. I'm trying to see what the problem to be solved is for? Is it part of an AI solution or cure for cancer? No one has been able to zone in and answer exactly what the equations are for or their origin although I know they are from anonymous entities. Hence the reward part is way to lure the The Who and What for.OOONo, the problem is made difficult so that only 1 can solve in an amount of time to avoid double spending. It doesn't cure cancer or even get you to bed on time...OOOThat makes more sense but still not an answer of what the actually problem is for...OOOIs for avoiding double spending... Because solving the problem takes time, in 10 minutes, only 1 node can solve the problem and broadcast the result to other nodes to continue solving the next problem and the transactions included in that solution are valid. Imagine that attacker spend the same coin on 2 transactions T1 and T2. Node N1 included first transaction in the block and solve the problem and broadcast the solution across network. Hence T1 is valid and T2 is dropped. There is very small possibility that another node include T2 and solve the problem at the same time as N1.OOOYes I'm very clear on the process but what is the solution(s) for? Are these equations for NASA? Are they for A logarithm that's part of a chain to solve the molecular answer to get to the fifth dimension? I just can't seem to find anyone to answer the specific question what are the equations ultimately for.? Make sense?"
"63","How PBFT applied in block chain?","2018-02-08T22:56:43",699,"I am trying to understand how PBFT(practical byzantine fault tolerance) applied in block chain. After reading paper, I found that process for PBFT to reach a consensus is like below:


  A client sends a request to invoke a service operation to the primary
  The primary multicasts the request to the backups
  Replicas execute the request and send a reply to the client
  The client waits for f + 1 replies from different replicas with the same result; this is the result of the operation.
  

This is how I understand how it is applied in block chain:  

At first, the elected primary node wants to write transaction A to chain, it will broadcast transaction A to other nodes. 
Any node receives the transaction checks if the transaction legal. If the transaction is thought as legal, the node will broadcast a legal signal to all of nodes in this round of consensus.
Any node that receives equal or greater than f + 1 responds will write the transaction to the its own chain.  
Here are my questions:  

For malfunctioned nodes, if they keep failing to write block into its chain, they will hold a different chains with healthy node. In next consensus, the existing chain will be picked up at first. How do nodes know which one is the correct chain?

In step 1, the elected node send transaction to other nodes. Does ""other nodes"" means all nodes in the network? How to make sure if all nodes included in the consensus because there is not a centralized agency.","blockchain fault-tolerance",NA,"

  How do nodes know which one is the correct chain?


For tolerating Byzantine faulty nodes, It needs at least 3f+1 nodes in the network. PBFT is one of the algorithms which can tolerate Byzantine failure. So PBFT can tolerate up to f Byzantine nodes. 
f number of malicious nodes can be tolerated if you use PBFT. If there are f number of malicious nodes which keep failing to write block into its chain, resulting in inconsistency with correct nodes, then one can figure that the same chains from rest 2f + 1 nodes are correct. (Correct nodes always output exactly same data to the same request in same order).


  Does ""other nodes"" means all nodes in the network? How to make sure if all nodes included in the consensus because there is not a centralized agency.


In PBFT setup, identities of all nodes should be established. To do that, there should be central authority to determine whether a node can join the network or not. (Important: central authority only engages in identity management, not the algorithm itself)

Why this is needed? It's because PBFT works by voting mechanism and voting is not secure when anyone (including malicious node) can join the network. For example, a proposed value by the primary only can be recorded to all nodes in the way of state machine replication, which it means that there needs at least 2f + 1 agreed matching messages for the value to be accepted to the correct nodes. 

Without the trusted identity management, Sybil attack is possible. And this is the main reason why PBFT is not for the open blockchain which allows any node can freely join or leave the network.
    ",NA
"64","Correct approch for block chain base application","2017-07-31T13:09:54",99,"I want to implement a block chain based application for transport industry. 

Lets take an example/scenario , we need to transport some items which are temperature sensitive. In this case the manufacturer,transport companies and purchaser are the parties and payment will be done when the agreed temperature maintained through out items journey from manufacturer's warehouse to purchaser's warehouse. 

Through out the journey, the temperature can be view/monitored via a mobile app.

Now the problems I have

Does all the parties have to their own block chain server/service where they maintained the data or it will be a centralized location? Only the involved parties can access block chain server/service.
How does the agreed temperature will be entered into the ledger? I mean, will all the parties will enter the data or only one party will enter the data and rest will agree on that.
On what condition/situation, it will be considered as trsaction is started and ended?
How all parties will validate the data?
I can visualize my application model on traditional DB base schema, but not this case, I get stuck first 2 points. and point 3,4 comes after I have solution of first 2.","blockchain",NA,"

  Does all the parties have to their own block chain server/service where they maintained the data or it will be a centralized location?
  Only the involved parties can access block chain server/service.
  

First of all, you have to understand what it is Blockchain: briefly, a descentralized data base.

So, all the parties should have their node. All the nodes of the Blockchain will store the samen information.
Depending on the implementation of the Blockchain that you use, the blockchain data will be opened or not. You can read more about it here.

  How does the agreed temperature will be entered into the ledger? I mean, will all the parties will enter the data or only one party will
  enter the data and rest will agree on that.
  

The Blockchain is composed by many members. All of them should be able to write in the Blockchain. So, each of one will enter the temperature that he measures.


  On what condition/situation, it will be considered as trsaction is started and ended?
  

A transaction is started when someone sends it. It is ended when the transaction is stored in a block and the block is validated by all the nodes of the Blockchain and added to the chain. This also depends on the implementation of Blockchain that you will use.


  How all parties will validate the data?
  

First of all, all the parties will have the same code, so the transactions are executed against the same code.
Secondly, when someone sends a transaction, the transaction is sent to many parties, so they validate it.
Finally, when the parties get a block, the verify the data of the block and the transactions of the block.
    ",NA
"65","Ethereum Block chain with java api for non payment application","2017-11-05T05:37:21",271,"I'm newer to the blockchain. I'm trying to create a java project for health care backed by ethereum block chain. 
I've looked on web3j which is dealing with payment solution. Another one I found is ethereumj But I didn't found any practical solution.
Anybody please help me on this . I'm looking for the sample non payment application with java and ethereum block chain technology. 
Hi team please share your thoughts.","java spring spring-boot blockchain ethereum",NA,"
You can find more detail info for your case.
https://community.oracle.com/docs/DOC-1011373
Hope it help.
    ",NA
"66","Ethereum Block chain with java api for non payment application","2017-11-05T05:37:21",271,"I'm newer to the blockchain. I'm trying to create a java project for health care backed by ethereum block chain. 
I've looked on web3j which is dealing with payment solution. Another one I found is ethereumj But I didn't found any practical solution.
Anybody please help me on this . I'm looking for the sample non payment application with java and ethereum block chain technology. 
Hi team please share your thoughts.","java spring spring-boot blockchain ethereum",NA,"
I have create android application using web3j in android.You can check this on playstore may be this will help you to understand.
https://play.google.com/store/apps/details?id=multi.erc20.devgenesis.token.wallet&hl=en

Creating new ethereum wallet

     //Path of the folder where you want to save youe wallet keystor or utc file
        String filePath = Environment.getExternalStorageDirectory().toString() + 
        ""/.CoinXion"";
//passPhrase will be used in future to unlock your wallet file
        String fileName = WalletUtils.generateNewWalletFile(passPhrase, newFile(filePath), false);
     Credentials credentials = WalletUtils.loadCredentials(
                            pass_phrase,
                            filePath+""/""+fileName);
            String publicAddress = credentials.getAddress();
            String privateKey = credentials.getPrivateKey().toString(16);


Recovery you wallet from the private key

     BigInteger privateBigi = Numeric.decodeQuantity(""0x0"" + privaeKey);
             ECKeyPair keyPair = ECKeyPair.create(privateBigi); 
    //if you don't want to generate utc file       
             Credentials credentials = Credentials.create(keyPair);
   // or, if you want to generate utc file 
            Credentials credentials = WalletUtils.loadCredentials(passphrase,sourceDirectory)

    ",NA
"67","How Language(except Go) is corresponded to Bluemix Block Chain?","2017-02-12T14:17:11",62,"How Language(except Go) is corresponded to Bluemix Block Chain ?

I want to use Python or Java or so on in developing Blockchain service.","java python ibm-cloud blockchain","Your question is so general that it will not likely find an answer here. A good place to start would be the Bluemix Blockchain documentation. Once you have a specific question about something you are doing while developing a Blockchain service, you can find an answer here.","
For interacting with a blockchain network, there is the Hyperleder Fabric Client for Node.js.  This SDK can be used for operations such as deploying, invoking, and querying chaincode.  Hyperledger Fabric version 1.0 is currently under development and work is being done on a Java SDK.

Chaincode can also be written in Java, but this has not been used very much with Hyperledger Fabric version 0.6.1.  There is a limitation that Java chaincode will not work with a security-enabled blockchain network when using this version.
    ",NA
"68","Which programming language and tool I should choose to develop block chain","2018-06-12T06:17:28",138,"I am not sure it is good or not to ask this question here, hope i can get a helpful answer. i almost know nothing about block chain, but I am a senior developer. So which one I should choose if I want to develop software in block chain field ?

Thanks a lot.","block blockchain chain",NA,"
You first need to select which platform are you planning to begin with.
The 2 most established ones are Ethereum and Hyperledger.

You need to learn Ethereum Platform and Solidity language to write smart contracts in Ethereum Platform   

(or)  

You need to learn Hyperledger Fabric Platform and Go language (preferable though Java is also supported) to write smart contracts in Hyperledger Fabric Platform.
    ","Thanks. how about C# or Python?"
"69","Which programming language and tool I should choose to develop block chain","2018-06-12T06:17:28",138,"I am not sure it is good or not to ask this question here, hope i can get a helpful answer. i almost know nothing about block chain, but I am a senior developer. So which one I should choose if I want to develop software in block chain field ?

Thanks a lot.","block blockchain chain",NA,"
Your question is bit unclear because you are saying you want to ""develop blockchain"" and then more generic, ""develop in blockchain field"". There is a difference between:

Developing your own blockchain. You can do that in basically any Turing complete language.
Developing on existing blockchain platform (smart contracts). I think this is what you are looking for. There's few choices you can make here, but the easiest way to get started is by writing Ethereum Solidity smart contracts as its currently leading smart contract platform with many tutorials trying to explain things in simple way.
",NA
"70","Can block chain store tabular data other than account balance£¿","2017-10-20T11:17:59",65,"In normal cases, block chain can store tractions. If I want to store complex data structure like tabular data in a data base, can any open source project do it without modifying too many codes?","bitcoin blockchain hyperledger-fabric ethereum",NA,"
I will let someone answer for other platforms, but for Hyperledger Fabric, you can maintain application state in an arbitrary data model in a database such as CouchDB (plans for supporting additional databases are being developed). 

The Marbles sample application is a decent example of managing more complex data model than a single account value.
    ",NA
"71","Hyperledger Block Chain Sample build error","2016-09-16T22:36:22",106,"I am trying to setup an IBM Block Chain setup in my local environment.

I am referring to the below manual for setup : 
https://console.ng.bluemix.net/docs/services/blockchain/ibmblockchain_tutorials.html

When following these steps:

1) Setup the environment

Install GoLang
SETUP GOROOT & GOPATH 

2) SETUP GITHUB
Under GITHUB setup, at point 6, When I try to run the command go build ./

It should give No errors/text. But it is giving an exception. Please have a look at below screenshot for an exact exception.

Exception-screenshot.

Can anyone help me, how can I solve this error, Ideally build should be successful.","blockchain hyperledger",NA,"
The error is pretty obvious.
Replace 
stub *shim.ChaincodeStub with stub shim.ChaincodeStubInterface everywhere in your chaincode_start.go file.

Furthermore, read the following issue on github as it will really help,
https://github.com/IBM-Blockchain/ibm-blockchain-issues/issues/29
    ","Thanks Sufiyan, It compiled the code successfully."
"72","Block Chain Ethereum Error NoMethodError: undefined method `keys' for nil:NilClass","2017-04-13T16:46:11",72,"I am integrating Block chain with my Rails App , so I am using Ethereum gem 
  to host the data to the blockchain. 

I am getting the below error when i am trying to implement Ethereum to my Rails App.

I am using the following gem enter link description here

While i am trying the following command 

init = Ethereum::Initializer.new(""#{ENV['PWD']}/SimpleNameRegistry.sol"", client)


I am getting the below error

 NoMethodError: undefined method `keys' for nil:NilClass


when I try to debug inside the gem I received the following error code in the below line.

Error Line:

sol_output = @client.compile_solidity(@file)


Error Code: 

{""jsonrpc""=>""2.0"", ""error""=>{""code""=>-32600, ""message""=>""EOF""}}


Please help me to get out of this error as I am stuck with this.
  Please also suggest me with an easy implementation of block chain with rails.","ruby-on-rails ruby blockchain ethereum",NA,NA,NA
"73","how to modify the stored data in a block chain?","2018-02-18T05:10:16",67,"I am trying to implement a blockchain using python. and I have a block like below

{
    studentId:100,
    marks:200
}


I just want to update this marks to 300. so can i do this in a block chain. I heard that we couldn't update a bockchain","python python-3.x cryptography blockchain blockchain.info-api","Just recalculate the block and everything after it.","
One of the foundations of a blockchain is that the data in the blocks, once written, are immutable. The only way to ""change"" blockchain data is to add data to a new block that states that there has been a change. So instead of code that modifies an existing block to change marks from 200 to 300, you need to add a new point of data that states that student 100 has marks that are equal to 300. 
    ","Thank you Yserbius. My doubts is , I always store the above data to a variable called ""studentMarks"". so get the student's latest mark , should i take the last block always . Right? also If i want to reduce 100 marks from 300 . I must create anew block and save it to ""studentMarks"". Right"
"74","How to get list of orderers,peers,organizations participated in block chain network?","2019-02-14T11:00:07",145,"What are the commands required to get the above information from the installed block chain network?","hyperledger-fabric blockchain",NA,"
Fabric v1.2 introduced a Service Discovery that allows applications to query about the Peers, endorsement policies etc. 


  The discovery service can respond to the following queries:
  
  Configuration query: Returns the MSPConfig of all organizations in the
  channel along with the orderer endpoints of the channel. 
  Peer membership query: Returns the peers that have joined the channel.
  Endorsement query: Returns an endorsement descriptor for given
  chaincode(s) in a channel. 
  Local peer membership query: Returns the local membership information
  of the peer that responds to the query.
  By default the client needs to be an administrator for the peer to
  respond to this query.
  

So the command that you are looking for is the discover command.

Refer: https://hyperledger-fabric.readthedocs.io/en/release-1.4/discovery-overview.html

and for Commands: https://hyperledger-fabric.readthedocs.io/en/release-1.4/discovery-cli.html#
    ","Thanks for the reply as the above information helped us .But i need some clarification .Do we need to have any configuration file to execute 'discovery 'command ?.when i try to execute 'discover' command ,i got a error like command 'discover ' not found.Can u help me with this ?@Harshit"
"75","How to create contracts on Ethereum block-chain in python?","2016-08-16T12:50:00",922,"I want to create contract on Ethereum to store data. I'm beginner on this domain...Do we have a better solution ? 

In this post, someone tell me to download a plugin. This is one way to do it, but I want to insert data in a block-chain with python (or other language).

I don't know where to start ... download Ethereum? Create an account?

Does it incur any cost? How much?

If contracts can be update, can I use Ethereum contract to prove work?","python storage blockchain ethereum",NA,"

  I don't know where to start ... download Ethereum? Create an account?


Install the command line tools. ethereum.org/cli

I would not recommend to start with the pyethapp (Python) or the eth (C++) client. Use geth (Golang) or parity (Rust). They are good to get started with and well documented.
Create a hello world contract. ethereum.org/greeter

greeter is the most simple smart contract deployed using the command line. 

contract mortal {
    /* Define variable owner of the type address*/
    address owner;

    /* this function is executed at initialization and sets the owner of the contract */
    function mortal() { owner = msg.sender; }

    /* Function to recover the funds on the contract */
    function kill() { if (msg.sender == owner) selfdestruct(owner); }
}

contract greeter is mortal {
    /* define variable greeting of the type string */
    string greeting;

    /* this runs when the contract is executed */
    function greeter(string _greeting) public {
        greeting = _greeting;
    }

    /* main function */
    function greet() constant returns (string) {
        return greeting;
    }
}

Come back here if you have specific issues with a client, with a contract source code or with deploying them on the blockchain.
Hope that helps getting you bootstrapped :)
    ","Thank for your answer!!!! How many cost to insert contract in blockchain?OOOThis contract is estimated to need 172 thousand gas to deploy. Gas preis is 20 Gwei. 20 Gwei * 172000 Gas = 0.00344 Ether which is around ~ 0.0379 USD at the time of writing.OOOok thank you !!! But if contracts can be update, can use it to prove of work?OOOMust I pay each time when I update or add data into the contract?OOOYou can't update contracts, they're immutable. You can however have a proxy contract in front of the real contract(s), which simply calls to a contract adress that you have defined as a variable in the proxy contact.OOO@baloo, tank for your answer! Do you know if I need to create an account after I downloaded ethereum command line before create contract? What is the diferents between connection to the private testnet and the public network?"
"76","How to create contracts on Ethereum block-chain in python?","2016-08-16T12:50:00",922,"I want to create contract on Ethereum to store data. I'm beginner on this domain...Do we have a better solution ? 

In this post, someone tell me to download a plugin. This is one way to do it, but I want to insert data in a block-chain with python (or other language).

I don't know where to start ... download Ethereum? Create an account?

Does it incur any cost? How much?

If contracts can be update, can I use Ethereum contract to prove work?","python storage blockchain ethereum",NA,"
You may also use (py)ethereum and serpent - in order to keep the python spirit - If it is ok for you, you may take a look at ""A Programmer¡¯s Guide to Ethereum and Serpent"".
Regards
    ",NA
"77","How to Deploy Hyperledger Block Chain to IBM Bluemix [closed]","2016-06-10T11:46:42",964,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed 2 years ago.                                                                                                                       Before I jump onto the question directly, I would like to talk about how I encountered this question.

Basically, I'm working with the IBM blockchain technology right now, not only to use the block chain service in Bluemix, but also to modify the Hyperledger peer source code. You can find the Hyperledger project from https://github.com/hyperledger/fabric. It's a Linux platform app written by GO.

After the modification, we had a testing at local vagrant VM servers. All the changes are fine.

Now I try to deploy the updated code to IBM Bluemix via CF App channel. The action failed in compile phase because the basic environment is missing.

Here come my questions:

For bluemix, when I start the Block Chain service, what actually happens behind? Does bluemix start a few VM for me to run the peer nodes?
Anyone has ever tried to push peer via cf app channel? How to settle the buildpack for peer node?
When the peer node is running, it's listening on 3 ports other than 8080. In my local VM server it's fin. But how can I enable those ports in bluemix?
Thanks for your ideas and contribution.","ibm-cloud cloudfoundry blockchain hyperledger","The Bluemix environment runs the fabric and provides you some peers and security user profiles to work with. You cannot push fabric changes today.  You can write chaincode and deploy it to those peers. The Bluemix deployment is also several commit numbers behind hyperledger, so if you use some some newer features in your contract (like GetTxnTimestamp for example), it will fail.","
We thought about running Hyperledger node as an application in Cloud Foundry. It possible to create buildpack with Go, RocksDB, executable files for Docker and other necessary dependencies included. Nevertheless there are several challenges in configuration:

In addition to ¡°peer¡± application, the Docker demon should also be started inside CF container (I haven¡¯t been testing if Docker works inside CF container)
As far as CF application by default exposes just 1 network port - We cannot start REST endpoint in the same container where validation peer is started. Workaround - we can run ¡°Membership service¡±, ¡°Validation peer¡± and ¡°REST client¡± as different applications in CF using -c option at application deploy time.
CF Router supports limited number of protocols, it possible that the will be an issues on this level either. 
On an application level there is a problem with Enrolment Certificate (it can be issued just once), in case if CF restarts your application - Validation Peer will not be able to apply for another Enrolment certificate using the same credentials. 
Workaround - It possible to save Certificates in external persistent storage and load them at start time. In any case VP will have just 1 instance in CF (scalability will not be used)

As a result we can hardly use such CF benefits like scalability and automatic failover without customisation to Fabric core.
    ","Hi, my apologies in advance for I am very new to hyperledger as well. May i know how do you managed to open multiple ports to your Peer in Cloud Foundry?OOORight now you cannot open more then one port in public Cloud Foundry deployments. But it should be possible to deploy Fabric components as separate applications: Membership service as an application with 50051 port open, Validation peer can expose just one port 30303, Client or not validation peer will open port for REST requests. As a result each of these components will use just one network port in Cloud Foundry.OOOI'm assuming we are talking about Hyperledger fabric 0.6. I'm not terribly familiar with CloudFoundry, but I'm not sure what you are trying to do is possible in a sensible manner. Fabric 0.6 peers manage their chaincode execution environments themselves - i.e. the lifecycle of the Docker containers that they use for chaincode execution. Can a container in CF do that? I know that ""Docker nesting"" is possible, but does CF support this? (Let alone the fabric environment.) What worked for us is setup and deployment into VMs (AWS). That leaves in place most of the known ""deployment logic"".OOOCF should be able to do this as of early 2017 because it has container-to-container networking so can enable multiple ports.   Also multiple external ports are an experimental features supportable with the TCP router."
"78","How to Deploy Hyperledger Block Chain to IBM Bluemix [closed]","2016-06-10T11:46:42",964,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed 2 years ago.                                                                                                                       Before I jump onto the question directly, I would like to talk about how I encountered this question.

Basically, I'm working with the IBM blockchain technology right now, not only to use the block chain service in Bluemix, but also to modify the Hyperledger peer source code. You can find the Hyperledger project from https://github.com/hyperledger/fabric. It's a Linux platform app written by GO.

After the modification, we had a testing at local vagrant VM servers. All the changes are fine.

Now I try to deploy the updated code to IBM Bluemix via CF App channel. The action failed in compile phase because the basic environment is missing.

Here come my questions:

For bluemix, when I start the Block Chain service, what actually happens behind? Does bluemix start a few VM for me to run the peer nodes?
Anyone has ever tried to push peer via cf app channel? How to settle the buildpack for peer node?
When the peer node is running, it's listening on 3 ports other than 8080. In my local VM server it's fin. But how can I enable those ports in bluemix?
Thanks for your ideas and contribution.","ibm-cloud cloudfoundry blockchain hyperledger","The Bluemix environment runs the fabric and provides you some peers and security user profiles to work with. You cannot push fabric changes today.  You can write chaincode and deploy it to those peers. The Bluemix deployment is also several commit numbers behind hyperledger, so if you use some some newer features in your contract (like GetTxnTimestamp for example), it will fail.","
I agree with above instructions, Docker works inside CF container only when we have peer application.rest you IBMBluemix should have proper VM configuration as CF have limited ports. 
    ",NA
"79","I am trying to see the Block chain of twister","2016-01-13T06:31:29",54,"I am trying to parse the blk00000.bat file in my Ubuntu system . I am following the this document for help https://www.cryptocoinsnews.com/block-parser-how-read-bitcoin-block-chain/  .
When i run the sight . py  code as : python sight.py blk00000.dat'
It show the error:


  Traceback (most recent call last):   File ""sight.py"", line 25, in 
      main()   File ""sight.py"", line 20, in main
      parse(blockchain)   File ""sight.py"", line 11, in parse
      block = Block(blockchain)   File ""/home/amit-b3/Amit_Repo/blocktools-master/block.py"", line 28, in
  init
      tx = Tx(blockchain)   File ""/home/amit-b3/Amit_Repo/blocktools-master/block.py"", line 58, in
  init
      output = txOutput(blockchain)   File ""/home/amit-b3/Amit_Repo/blocktools-master/block.py"", line 95, in
  init
      self.pubkey = blockchain.read(self.scriptLen) MemoryError


Please Help me.","twitter-bootstrap python-2.7 bitcoin bitcoind","You should post the code where you think the problem is occurring. Here the traceback gives you the exact line in which the program throws an error.",NA,NA
"80","IBM Block Chain- Car Lease Demo state database location?","2017-06-12T21:38:06",218,"I was working on IBM block chain examples and I deployed car-lease-demo sample on a Linux system. I am not able to understand how the database is storing. I see that there is a location ""/var/hyperledger/production"" where the database is located but I did not find any location like that. 
         Can anyone explain me how the data is stored and how hyperledger fabric uses the database to store key-value pairs and where is the location of the db where all the data is stored?

Also I would like to know if we can use a different db configuration like NOSQL databases like Neo4j, MongoDB ??","blockchain hyperledger hyperledger-fabric",NA,"
The default implementation uses LevelDB as the backend store for data and is present on all peer nodes. You can enter the docker container in cli mode and see it for yourself.

Yes, you can change the default DB to any other NoSQL DB. Here's is an example of setting up CouchDB with Hyperledger fabric. 

As you can see, CouchDB is hosted in a separate container linked to the peer node via an open port (Look at the Docker compose file for details of connection). You can do the same for any other NoSQL DB and use the correct PUT and GET APIs in chain code to access them. But you will have to make sure that data gets replicated in all the DBs in time to maintain the consistency of the Blockchain network
    ","Thank you for the response. Can you help me with the command to check the conents inside the db as I am not sure where is the db file located and how to access it.OOOIn case you are using CouchDB, you can use their web interface called Fauxton hosted on port 5984. Refer this for the same: couchdb.apache.org/fauxton-visual-guide/#introOOOLevelDB does not have a web interface but you can use 3rd party services that give a command line access to the same. A sample 3rd party service is this: github.com/0x00A/ldbOOO@gonephishing - are you sure we can use any other nosql database? or it has to be couchdb onlyOOOas far as i remember, it can be any nosql db, but i haven't been following the trends recently"
"81","Do we need PBFT algorithm support in permissioned Block chain networks?","2018-04-03T09:46:42",120,"I am new to BCT. My question is why do we need a consensus algorithm such as PBFT in a permission based Block chain network where the nodes are trusted nodes. Is it only to find a way when nodes fail or is there any other use case.  Can anyone explain a scenario for requirement of PBFT in permission based BCT network.","blockchain fault-tolerance consensus",NA,"
First you must define the resilience in your system. 

Do you expect Byzantine behavior from the nodes (i.e. nodes behaving arbitrarily, deviating from the protocol, and possibly intentionally harming the system)? Or you just need the system to be crash-fault tolerant? (i.e. nodes going to sleep, offline or disconnecting).

If you stick to the higher ""Byzantine"" resilience, you are most likely looking at a PBFT-variant consensus, assuming your system is permissioned (i.e. only nodes with the right credentials can participate in the consensus protocol). In most cases, the requirement for a ""safe"" and ""live"" consensus is 66% ""honest"" nodes. On the other hand, if you just assume crash-tolerance, then the requirement is 51% ""online"" nodes.

A real example is Hyperledger, where some of its frameworks are only crash-fault tolerant (e.g. Hyperledger Fabric) but others are also Byzantine-fault tolerant (e.g. Hyperledger Indy).
    ","Thanks nicely explained."
"82","How to get bitcoins for testin in my block chain wallet?","2017-11-02T07:14:36",81,"I'm creating a website and i'm using the block chain web socket but i need test bitcoins to do lots of tests to see if the site works correctly, I tried using testnet not sure how to get the bitcoins into my wallet or if there is anyway to do this, what would be the best way to do this?","bitcoin blockchain","I'm voting to close this question as off-topic because it is not about programming. You should post things like this on bitcoin.stackexchange.com","
There is some websites called ""faucets"" where you just need to type your bitcoin address and they generate and send you coins to test.

For example:
   https://testnet.coinfaucet.eu/en/
    ",NA
"83","Cipher Block Chaining: XOR implementation in Java","2017-05-04T20:27:26",658,"How you implement the XOR from CBC (Cipher Block Chaining) in Java? 
I know how to do it when both of my values are booleans, but what do I do if I have numbers instead of booleans?

For Example:

i1 = 15
i2 = 4


How do I XOR i1 and i2?","java cryptography xor cbc-mode","Possible duplicate of Creating a ""logical exclusive or"" operator in JavaOOOyeah but I dont want to XOR booleans. I want to XOR numbers :DOOOIt works on boolean and integral types.OOOSo, whats wrong with using i1 ^ i2  ?","
Java has a bitwise XOR operator build in, see the Java Language Specification. The XOR works on all primitive integral types (i.e. types that directly represent numbers for you and me): byte, short, int, long and char. This XOR operator will do a bitwise XOR of the bits at identical positions, and then output the result. There is also the ^= which will store the result back in the left hand variable.

Now it depends on your implementation of CBC if you would do this on bytes or on 32 bit integers (int). Normally you would use bytes, but if you've implemented AES using 32 bit constructs you would use integers. Integers would be slightly faster, but the time that XOR takes will pale in comparison with the block cipher operation anyway.

So you can simply have a for loop (up to the block size in bytes) and XOR each and every byte of the last ciphertext with the next plaintext during encryption or the last ciphertext with the result - after decryption - of the next ciphertext during decryption.

You may need to cast back to a byte when using the XOR operation on two byte values, as Java automatically upcasts the operands - and therefore the result - to 32 bit integers (int):

byte x = 0b0011; // 0b indicates a binary literal
byte y = 0b0101; 
byte r = (byte) (x ^ y); // results in 0b0110 or the value 6 in decimals


Bytes are signed values in Java, meaning that you may get negative values. That's OK though, you can simply ignore this as long as you just use bitwise operations. It's only of importance during mathematical operations such as addition or multiplication.
    ","Thanks go to Ammar for indicating that you need to downcast back to bytes or shorts again."
"84","Cipher Block Chaining: XOR implementation in Java","2017-05-04T20:27:26",658,"How you implement the XOR from CBC (Cipher Block Chaining) in Java? 
I know how to do it when both of my values are booleans, but what do I do if I have numbers instead of booleans?

For Example:

i1 = 15
i2 = 4


How do I XOR i1 and i2?","java cryptography xor cbc-mode","Possible duplicate of Creating a ""logical exclusive or"" operator in JavaOOOyeah but I dont want to XOR booleans. I want to XOR numbers :DOOOIt works on boolean and integral types.OOOSo, whats wrong with using i1 ^ i2  ?","
using short integers :

short s1 = ...
short s2 = ...
short result = (short) (s1 ^ s2);


This is the most efficient way to XOR two shorts together. It does not run into the overhead of creating BigIntegers and the cast will never cause an overflow issue as both s1 and s2 are shorts to begin with.
    ","There is however absolutely no reason to use shorts."
"85","Block Chain in RxKotlin and Proceed","2019-05-14T12:39:54",58,"I have a chaining operation in my application, Where i have a list of some data, i will iterate through the list with iteratable observable once the iteration completes, i will perform some other operation which does not depends on the previous list, so what i need is in between these two operation i need to block(or barrier) until the first completes and proceed with second one.

Example

Observable.fromIterable(listOf(""A"",""B"",""C"",""D""))
          .map{
            doSomeTask(it)
          } 
   // I need a blocking here, once this iteration completes i will proceed with the below task, but i don't need of toList() to block since i don't want the data,       
          .map{
            doSomeOtherTask()
          }


Can anyone help me out with this ?","android kotlin rx-java2 rx-kotlin2",NA,"
Use doOnNext if you want to propagate each of the values, or doOnComplete when you want to do something at the end of the iteration.
    ",NA
"86","Block Chain in RxKotlin and Proceed","2019-05-14T12:39:54",58,"I have a chaining operation in my application, Where i have a list of some data, i will iterate through the list with iteratable observable once the iteration completes, i will perform some other operation which does not depends on the previous list, so what i need is in between these two operation i need to block(or barrier) until the first completes and proceed with second one.

Example

Observable.fromIterable(listOf(""A"",""B"",""C"",""D""))
          .map{
            doSomeTask(it)
          } 
   // I need a blocking here, once this iteration completes i will proceed with the below task, but i don't need of toList() to block since i don't want the data,       
          .map{
            doSomeOtherTask()
          }


Can anyone help me out with this ?","android kotlin rx-java2 rx-kotlin2",NA,"
What you could do is below:

Observable.fromIterable(listOf(""A"", ""B"", ""C"", ""D""))
        .subscribeBy(
            onNext = {
                doSomeTask(it)
            },
            onComplete = {
                doSomeOtherTask()
            }
        )


This way you'll achieve the expected result. Cheers!
    ",NA
"87","Firebase Promise chain terminate in catch block","2017-12-16T04:20:10",431,"I need to exit http function if first catch block is reached.
I'm doing following

    .then() <- start work related with database
            .then()
            .then()
            .catch(error => { <- Here I want to catch errors with firebase database and exit function.
              console.log(error)
              response.status(500).send(error)
            })
            .then() <- Here I want to send FCM message if there was no database errors
            .catch(error => {
              console.log(error)
              response.status(200).send(""Success"") <- Main work with database was finished. I still want to send http 200 and don't care about FCM errors.
           })
           .then(() => {
              response.status(200).send(""Success"")
           }) <-This catch block should be fired if there was an issue with FCM


Problem is that function continue to run after first catch block. How to stop this chain properly in first catch block? Thanks","javascript firebase google-cloud-functions","erm. What the actual what ?OOOI have 2 catch blocks in Promise chain. And if first catch block was triggered, I don't want to continue. If not triggered, do other stuff...OOOHave a look at how to use Promise.all, also see Firebase batch functions if using firestore.OOORon Royston, I know what is Promise.all. I still want to have 2 catch blocks. One for database stuff and one for FCM stuff. I don't want to merge them into one catch block","
Something like this should work, using a combination a propagated values and a top-level sentinel:

let bail = false

doWork()
.then(result => {
    console.log(result)
    return true  // indicate success
})
.catch(error => {
    console.error(error)
    return false  // indicate error
})
.then(isPriorSuccessful => {
    if (!isPriorSuccessful) {
        bail = true
        return null
    }
    else {
        // do more stuff here, return a promise
        return doMoreWork()
    }
})
.catch(error => {
    console.error(error)
})
.then(() => {
    if (bail) {
        res.status(500).send(""NOT OK"")
        return
    }
    console.log(""Just before the end"")
    res.send(""OK"")
})

    ","Late to the party, and with apologies if I'm misunderstanding something, but would another approach be to set the sentinel in the catch and return Promise.reject(), forcing it to jump to the next catch, wherein the sentinel can be checked to see whether console output is required?"
"88","AES cipher block chaining in RPGLE","2015-09-28T16:16:30",877,"I am looking for any clues as to how I can achieve cipher blocking chaining in RPGLE as I wish to encrypt data than is larger than 16 bytes.
My understanding is that this is a necessity for AES to ensure it is split into only 16 byte blocks.

I am using the Qc3EncryptData() API

  *******************************************************************
  *Data definitions
  *******************************************************************
  *ALGD0200 algorithm description structure
 DQC3D0200         DS
  *                                             Qc3 Format ALGD0200
 D QC3BCA                  1      4B 0
  *                                             Block Cipher Alg
 D QC3BL                   5      8B 0
  *                                             Block Length
 D QC3MODE                 9      9
  *                                             Mode
 D QC3PO                  10     10
  *                                             Pad Option
 D QC3PC                  11     11
  *                                             Pad Character
 D QC3ERVED               12     12
  *                                             Reserved
 D QC3MACL                13     16B 0
  *                                             MAC Length
 D QC3EKS                 17     20B 0
  *                                             Effective Key Size
 D QC3IV                  21     52
  *                                             Init Vector
  *ALGD0300 algorithm description structure
 DQC3D0300         DS
  *                                             Qc3 Format ALGD0300
 D QC3SCA                  1      4B 0
  *                                             Stream Cipher Alg
  *ALGD0400 algorithm description structure
 DQC3D0400         DS
  *                                             Qc3 Format ALGD0400
 D QC3PKA                  1      4B 0
  *                                             Public Key Alg
 D QC3PKABF                5      5
  *                                             PKA Block Format
 D QC3ERVED00              6      8
  *                                             Reserved
 D QC3SHA                  9     12B 0
  *                                             Signing Hash Alg
  *ALGD0500 algorithm description structure
 DQC3D0500         DS
  *                                             Qc3 Format ALGD0500
 D QC3HA                   1      4B 0
  *                                             Hash Alg
  *DATA0200 array data format structure
 DQC3A0200         DS
  *                                             Qc3 Format DATA0200
 D QC3DP                   1     16*
  *                                             Data Ptr
 D QC3DL                  17     20B 0
  *                                             Data Len
 D QC3ERVED01             21     32
  *                                             Reserved
  *KEYD0200 key description format structure
 DQC3D020000       DS
  *                                             Qc3 Format KEYD0200
 D QC3KT                   1      4B 0
  *                                             Key Type
 D QC3KSL                  5      8B 0
  *                                             Key String Len
 D QC3KF                   9      9
  *                                             Key Format
 D QC3ERVED02             10     12             inz(x'000000')
  *                                             Reserved
  *QC3KS                  13     13
  *
  *                                variable length
  *******************************************************************

  * API error structure
 D APIERR          DS
 D  ERRPRV                       10I 0 INZ(272)
 D  ERRLEN                       10I 0
 D  EXCPID                        7A
 D  RSRVD2                        1A
 D  EXCPDT                      256A
 D
  *Encrypt Data (OPM, QC3ENCDT; ILE, Qc3EncryptData) API protects
  *data privacy by scrambling clear data into an unintelligible form.
  *Qc3EncryptData  Pr                  ExtProc('Qc3EncryptData')
 D Qc3EncryptData  Pr                  ExtPgm('QC3ENCDT')
 D clrDta                       100a
 D clrDtaLen                     10I 0
 D clrDtaFmt                      8
 D algorithm                           like(QC3D0200)
 D algorithmFmt                   8
 D key                                 like(KeyC)
 D keyFmt                         8
 D srvProvider                    1
 D deviceName                    10
 D encryptedData                100a
 D encryptedBufL                 10I 0
 D encryptedRtnL                 10I 0
 D errcde                              like(APIERR)

  * Decrypt Data (OPM, QC3DECDT; ILE, Qc3DecryptData) API restores
  * encrypted data to a clear (intelligible) form.
  *Qc3DecryptData  Pr                  ExtProc('Qc3DecryptData')
 D Qc3DecryptData  Pr                  ExtPgm('QC3DECDT')
 D encryptedData                100a
 D encryptedDtaL                 10I 0
 D algorithm                           like(QC3D0200)
 D algorithmFmt                   8
 D key                                 like(keyC)
 D keyFmt                         8
 D srvProvider                    1
 D deviceName                    10
 D clrDta                       100a
 D clrDtaBufL                    10I 0
 D clrDtaRtnL                    10I 0
 D errcde                              like(APIERR)

 DQc3GenPRNs       Pr                  ExtPRoc('Qc3GenPRNs')
 D PrnDta                       512
 D PrnDtaLen                     10I 0
 D PrnType                        1
 D PrnParity                      1
 D errcde                              like(APIERR)

 D PrnDta          S            512
 D PrnDtaLen       S             10I 0
 D PrnType         S              1    inz('1')
 D PrnParity       S              1    inz('1')

 D clrDta          S            100a
 D clrDtaLen       S             10I 0
 D clrDtaFmt       S              8    inz('DATA0100')
 D algorithm       S                   like(QC3D0200)
 D algorithmFmt    S              8    inz('ALGD0200')
 D key             S                   like(KeyC)
 D keyFmt          S              8    inz('KEYD0200')
 D srvProvider     S              1    inz('1')
 D deviceName      S             10    inz(*blanks)
 D encryptedData   S            100a
 D encryptedDtaL   S             10I 0
 D encryptedBufL   S             10I 0
 D encryptedRtnL   S             10I 0
 D clrDtaBufL      S             10I 0
 D clrDtaRtnL      S             10I 0

 D KeyString       S            256
 D KeyC            S            256

 C* Block cipher algorithm
  * 20 DES
  * 21 Triple DES
  * 22 AES
 C                   Eval      QC3BCA = 22
  *Block length
  *  8  DES
  *  8  Triple DES
  * 16  AES
 C                   Eval      QC3BL  = 16
  *Mode
  * 0 ECB
  * 1 CBC
  * 2 OFB. Not valid with AES.
  * 3 CFB 1-bit. Not valid with AES.
  * 4 CFB 8-bit. Not valid with AES.
  * 5 CFB 64-bit. Not valid with AES
 C                   Eval      QC3MODE = '1'
  * Pad Option
  * 0 No padding is performed.
  * 1 Use the character specified in the pad character field for padding
  * 2 The pad counter is used as the pad character.
 C                   Eval      QC3PO   = '1'

  * Pad Character
 C                   Eval      QC3PC   = X'00'
  * Reserved
 C                   Eval      QC3ERVED = X'00'
  * MAC Length
  * This field is not used on an encrypt operation and must be set to
  * null(binary 0s).
 C                   Eval      QC3MACL  = X'00000000'
  * Effective key size
  * This field must be set to 0.
 C                   Eval      QC3EKS   = 0
  * Initialization vector
  * The initialization vector (IV). An IV is not used for mode ECB,
  * and must be set to NULL (binary 0s).
 C                   Eval      QC3IV = *AllX'00'
 C***                Reset                   encryptedData
 C****               Eval      encryptedBufL = %len(encryptedData)

 C*                  Eval      algorithm = %addr(QC3D0200)
 C                   Eval      algorithm = QC3D0200
  * Key Type            KeyFormat  KeyLength
  * 20 DES                     0          8(7 bits used,rightmost setbit
  * 21 Triple DES              0    8,16,24(7 bits used,rightmost setbit
  * 22 AES                     0   16,24,32
  * 30 RC4-compatible          0    1<->256
  * 50 RSA public              1
  * 51 RSA private             1
 C                   Eval      QC3KT = 22

  * Key Format
 C                   Eval      QC3KF = '0'
  * Key String
 C                   Eval      KeyString = pKeyString
  * Key Length
 C                   Eval      QC3KSL = %len(%trim(KeyString))
 C                   Eval      KeyC = QC3D020000 + %trim(KeyString)
 C                   Eval      Key  = KeyC


  * Encrypt
 C                   Select
 C                   When      pAction = 'E'
 C                   Eval      clrDta = pClrDta
 C                   Eval      clrDtaLen = %len(%trim(clrDta))
 C                   Eval      EncryptedData = *blanks
 C                   Eval      encryptedBufL = %size(encryptedData)
 C                   callP     Qc3EncryptData(
 C                                clrDta        :
 C                                clrDtaLen     :
 C                                clrDtaFmt     :
 C                                algorithm     :
 C                                algorithmFmt  :
 C                                key           :
 C                                keyFmt        :
 C                                srvProvider   :
 C                                deviceName    :
 C                                encryptedData :
 C                                encryptedBufL :
 C                                encryptedRtnL :
 C                                APIERR
 C                             )
 C                   ExSr      ChkErrCde
 C                   Eval      pEncDta = EncryptedData
  * Decrypt
 C                   When      pAction = 'D'
 C****               Eval      EncryptedData = %Trim(pEncDta)
 C                   Eval      EncryptedData = pEncDta
 C                   Eval      EncryptedDtaL = %len(%trim(EncryptedData))
 c                   If        EncryptedDtaL <> 16
 C                   Eval      EncryptedDtaL = 32
 C                   Endif
 C                   Eval      clrDta = *blanks
 C                   Eval      clrDtaBufL = %size(clrDta)
 C                   callP     Qc3DecryptData(
 C                                encryptedData :
 C                                encryptedDtaL :
 C                                algorithm     :
 C                                algorithmFmt  :
 C                                key           :
 C                                keyFmt        :
 C                                srvProvider   :
 C                                deviceName    :
 C                                clrDta        :
 C                                clrDtaBufL    :
 C                                clrDtaRtnL    :
 C                                APIERR
 C                             )
 C                   ExSr      ChkErrCde
 C                   Eval      pclrDta = ClrDta

 C                   Other
 C                   Eval      *InLr = *On
 C                   Endsl

 C                   Return
  **********************************************************************","encryption aes ibm-midrange rpgle cbc-mode","I'm confused.  Are you trying to use the Qc3EncryptData() API?","
You prototypes aren't the best...

Assuming a recent version of IBM i, you can have a char field of 16M, this is how you'd code a prototype that could handle encrypting up to 16MB of data

 D Qc3EncryptData  Pr                  ExtPgm('QC3ENCDT')
 D clrDta                          a   len(16733104) options(*varsize) const
 D clrDtaLen                     10I 0     


In your QC3D0200 algorithm description structure, you tell the API whether or not to pad (QC3PO) and what character to pad with (QC3PC).

With the above prototype and the proper settings, you can encrypt data upto 16MB.  If you pass for instance 100 bytes, the algorithm will automatically pad to 112 bytes...   

You'd need to make sure that you allow for the automatic padding in your encrypted value buffer.
    ","Thanks, I'll test this and provide an update shortly"
"89","Explanation of Self-healing property of CBC (Cipher Block Chaining)","2014-10-11T19:28:00",3872,"Wikipedia: 


  CBC mode has the self-healing property:  if one block of the cipher is
  altered, the error propagates for at most two blocks.


Made up Example:

Let the block size be 64 bits. The original plaintext is:

3231343336353837  3231343336353837  3231343336353837  <U+2022> <U+2022> <U+2022>


The correct cipher text is:

ef7c4bb2b4ce6f3b  f6266e3a97af0e2c  746ab9a6308f4256 <U+2022> <U+2022> <U+2022>


If the ciphertext is corrupted, with the byte '0x4b' changed to '0x4c': 

ef7c4cb2b4ce6f3b  f6266e3a97af0e2c  746ab9a6308f4256  <U+2022> <U+2022> <U+2022>


Then it is decrypted to:

efca61e19f4836f1  3231333336353837  3231343336353837  <U+2022> <U+2022> <U+2022>


Question:

I am having hard time understanding the self-healing property of CBC (Cipher Block Chaining), I thought that a made up example might help but I am now more confused. Any help would be great.","encryption cryptography cbc-mode","Your question would be even better, if you would provide the code to generate your example, including the IV and key, so others would know how to reproduce your example. I assume you have used DES?","
Personally, I find the decryption graphics very helpful for such kind of questions. From the Wikipedia (public domain image):



Now let's add some corruption:



The red dots represent partial corrupted inputs, while the solid red line represents complete block corruption.

Some notation before we start: I'll number the original plaintext blocks as p1 through p3, the corrupted ones as p1' through p3', the correct ciphertext blocks as c1 through c3 and the corrupted ones as c1' through c3':

3231343336353837  3231343336353837  3231343336353837  <U+2022> <U+2022> <U+2022>
       p1                p2                 p3

ef7c4bb2b4ce6f3b  f6266e3a97af0e2c  746ab9a6308f4256  <U+2022> <U+2022> <U+2022>
       c1                c2                 c3

ef7c4cb2b4ce6f3b  f6266e3a97af0e2c  746ab9a6308f4256  <U+2022> <U+2022> <U+2022>
       c1'               c2'=c3             c3'=c3

efca61e19f4836f1  3231333336353837  3231343336353837  <U+2022> <U+2022> <U+2022>
       p1'               p2'                p3'=p3


There is also some IV that you have not given in your example.

Let's take a look at the first block: Three bits in the input of the block cipher are changed (0x4b ^ 0x4c = 0x07 = 4+2+1). As a block cipher is designed to be a pseudo random permutation - that is a bijective function being indistinguishable from a random function (without knowledge of the key k) - we get a completely (pseudo) random block as output of the decryption function:

    dec(      c1        ,k) =         p1       XOR IV
<=> dec(ef7c4bb2b4ce6f3b,k) = 3231343336353837 XOR IV
    dec(      c1'       ,k) =         p1'      XOR IV
<=> dec(ef7c4cb2b4ce6f3b,k) = efca61e19f4836f1 XOR IV


As a next step the IV is XORed, so we end up with 

    dec(      c1        ,k) XOR IV =         p1       
<=> dec(ef7c4bb2b4ce6f3b,k) XOR IV = 3231343336353837 
    dec(      c1'       ,k) XOR IV =         p1'      
<=> dec(ef7c4cb2b4ce6f3b,k) XOR IV = efca61e19f4836f1 


which shows that the whole block was destroyed (complete red block at the bottom).

Now, on to the second block: We start again by decrypting the ciphertext block, which works fine as no corruption has occurred in the block:

    dec(      c2        ,k) =         p2       XOR         c1
<=> dec(f6266e3a97af0e2c,k) = 3231343336353837 XOR ef7c4bb2b4ce6f3b
                                                    ^


Notice that this formula uses non-corrupted blocks everywhere. As a reminder, this block was generated like this during encryption:

             c2      = enc(        p2       XOR         c1      ,k)
<=> f6266e3a97af0e2c = enc(3231343336353837 XOR ef7c4bb2b4ce6f3b,k)


The next step is again the application of the XOR with the previous block (this time not the IV, but c1'). This previous block c1' is corrupted:

    dec(      c2        ,k) XOR       c1'        =         p2       XOR         c1       XOR        c1'
<=> dec(f6266e3a97af0e2c,k) XOR ef7c4cb2b4ce6f3b = 3231343336353837 XOR ef7c4bb2b4ce6f3b XOR ef7c4cb2b4ce6f3b


Now we can actually calculate c1 XOR c1' (the error) as c1 XOR c1' = 0000007000000000 and replace that everywhere:

    dec(      c2        ,k) XOR       c1'        =         p2       XOR 0000007000000000
<=> dec(f6266e3a97af0e2c,k) XOR ef7c4cb2b4ce6f3b = 3231343336353837 XOR 0000007000000000


And at last simplify p2 XOR 0000007000000000 = p2':

    dec(      c2        ,k) XOR       c1'        =         p2'      
<=> dec(f6266e3a97af0e2c,k) XOR ef7c4cb2b4ce6f3b = 3231333336353837


You see that the original corruption (0x07) to the first ciphertext block c1' is transferred verbatim to the the second plaintext block p2', but it remains otherwise intact (as is visualized by a mostly white block in the graphic, with a single square being red). This peculiar property of CBC can lead to attacks against real world systems, like padding oracle attacks.

The third block is boring as hell: No inputs to the decryption and XOR have changed, thus p1=p1' and everything is fine there.
    ",NA
"90","Explanation of Self-healing property of CBC (Cipher Block Chaining)","2014-10-11T19:28:00",3872,"Wikipedia: 


  CBC mode has the self-healing property:  if one block of the cipher is
  altered, the error propagates for at most two blocks.


Made up Example:

Let the block size be 64 bits. The original plaintext is:

3231343336353837  3231343336353837  3231343336353837  <U+2022> <U+2022> <U+2022>


The correct cipher text is:

ef7c4bb2b4ce6f3b  f6266e3a97af0e2c  746ab9a6308f4256 <U+2022> <U+2022> <U+2022>


If the ciphertext is corrupted, with the byte '0x4b' changed to '0x4c': 

ef7c4cb2b4ce6f3b  f6266e3a97af0e2c  746ab9a6308f4256  <U+2022> <U+2022> <U+2022>


Then it is decrypted to:

efca61e19f4836f1  3231333336353837  3231343336353837  <U+2022> <U+2022> <U+2022>


Question:

I am having hard time understanding the self-healing property of CBC (Cipher Block Chaining), I thought that a made up example might help but I am now more confused. Any help would be great.","encryption cryptography cbc-mode","Your question would be even better, if you would provide the code to generate your example, including the IV and key, so others would know how to reproduce your example. I assume you have used DES?","
When decrypting in CBC mode a block is decrypted by first deciphering the block in question using the key, and then XOR it with the previous block in the ciphertext. Take a look at the CBC mode drawing on wiki

As you only need the current and previous block for decryptin in CBC mode, the effect of a changed byte in the ciphertext, would only affect the block it's in, and the following block (if that exists).
    ",NA
"91","Private block chain static time between blocks","2018-02-19T15:47:48",40,"I'm using geth to create a new private blockchain and I was wondering if there is a way to adjust the difficulty algorithm in order to have a constant time between blocks of around ~5 minutes instead of the standard 13 seconds.
What section of the code should I change?
Thanks in advance","blockchain ethernet geth","ethereum.stackexchange.com/a/7159/31148",NA,NA
"92","Execute a smart contract from outsite the block chain","2019-06-03T16:35:54",22,"I have private-permissioned blockchain and I need to allow people from the external world outside the chain to be able to query some specific parts of the data stored in the chain. Is it possible and what is the best method to do that? I am thinking about creating a smart contract with public functions with anyone can execute the contract that the public function will query the chain and return the results. Is it a doable thing?","blockchain smartcontracts","why wouldn't it be doable? what are your concerns?OOOCan you kindly point such example or code pieceOOOthis question is too broad to be able to help you, you need to give more context and some code that you have tried.OOOare you using Hyperledger Burrow or something like that?OOO@Malintha The question is very broad to answer, usually best methods depends on some sort of things. However, what you are trying to achieve is doable if speed of transactions is faster.",NA,NA
"93","Reply to block chain in smart card for T=1","2016-06-30T05:32:09",332,"The is a question related to T=1 protocol for smartcard. The scenario is as follows: The interface device has to send, say 5 chained I-blocks to the card. So the M-bit is set for the first four blocks and cleared for the last one. 

Can the card, say during the transfer of 2nd I-Block send an IFS or WTX request as response? OR the card MUST reply with R-blocks always for chained I-Blocks.

Regards,
Jain.","smartcard chaining blockchain",NA,"
ISO 7816-3, section 11.6.2.2 Chaining, appears clear to me in that respect:

You have to sent (ISO-speak shall) a R-block with either positive or negative acknowledge.

It's neither a sensible time for an IFS (field size negotiation must have happend before, otherwise the terminal would not know, at which position to chain), nor a WTX (card processing only starts after the complete APDU has been received).
    ","It is interesting that under T=CL as defined in ISO 14443-4: ""The PICC is allowed to send an S(WTX) block instead of an I-block or an R(ACK) block.""...As far as I understand the latter case (i.e. when the S(WTX) is sent instead of R(ACK)) happens during the chaining..."
"94","How block-chain is so secure? [closed]","2018-09-21T17:53:09",151,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       Yesterday I read about an article on Blockchain and according to it, blockchain are very secured? I am not able to understand how it is secure?
How blockchain makes data secure even it is available to normal people?","blockchain","You might consider looking at the Wikipedia page for a what blockchain is and an overview of how it works: en.wikipedia.org/wiki/Blockchain","
@saurabh provided a very good explanation, 
Its a complex topic and require a detailed explanation, please read more about different consensus and proof of work algorithms to actually figure out the beauty of blockchains. There are tons of good blogs present on internet for you to explore.  Let me try to provide you a brief summary with my limited knowledge of distributed ledgers.

Blockchain is actually theoretically tamperproof (Someone can still make a 51% attack on blockchain, but that would require huge computational power)

Why is it so? Two reasons :

A cryptographic fingerprint unique to each block

consensus protocol, the process by which the nodes in the network agree on a shared history.

The fingerprint, called a hash, takes a lot of computing time and energy to generate initially(This time and energy increases or decreases depending upon the total computing power present with the miners). It thus serves as a proof that the miner who added the block to the blockchain did the computational work to earn a bitcoin reward (for this reason, Bitcoin is said to use a ¡°proof-of-work¡± protocol). This hash is just a merkle hash of all the transactions included in this block. It also serves as a kind of seal, since altering the block would require generating a new hash. Verifying whether or not the hash matches its block, however, is easy, and once the nodes have done so they update their respective copies of the blockchain with the new block. This is the consensus protocol.

The final security element is that the hashes also serve as the links in the blockchain: each block includes the previous block¡¯s unique hash. So if you want to change an entry in the ledger retroactively, you have to calculate a new hash not only for the block it¡¯s in but also for every subsequent block. And you have to do this faster than the other nodes can add new blocks to the chain (On an average a new block is added every 10 minutes). So unless you have computers that are more powerful than the rest of the nodes combined (and even then, success isn¡¯t guaranteed), all the alterations needs to be done in 10 minutes window, any blocks you add will conflict with existing ones, and the other nodes will automatically reject your alterations. This is what makes the blockchain tamperproof, or ¡°immutable.¡±

What would happen if you deploy your own blockchain with proof of work?
It really depends how many blocks are already present on your blockchain and difficulty of your proof of work algorithm. If complexity is low and few miners are competing for the next block, anybody with more computational power with all the miners combined can make their own valid fork,  with transactions suited to their needs. 

I want to manipulate a transaction at n-10th block?

lets say the number of blocks in Bitcoin blockchain as of this instant is n,  and you want to alter a transaction at  n-10th block, thats is 10 blocks back in time. 

Miners will compete to put the next block n+1 th block, the time frame for which is approximately 10 minutes, you can also compete but for you to win you must have computational power as compared to miners which is around  51200544 TH/s.
Probabilistically speaking if you have 1TH/s mining power, your chance of solving a block is 1/ 51200544, Lets say the hardware to calculate 1TH/s costs around  1000$, just calculate the cost to have an idea .

As already mentioned, Every block has a merkle hash included in the header which is turn depends upon every transaction included in the block and a difficulty which needs to be solved (The stuff miners calculate). This merkle root is included in the header of next block.

so if you want to change a transaction or multiple transactions at n-10th block, You need to do two things for n-10th block.
1. Calculate the merkle root again as transactions have changed.
2. Solve the difficulty.

Since the merkle root has changed, you need to solve the difficulty of every block following this block till this very time instant, to make it a valid branch.

The time frame to do all this is just 10 minutes, because in next 10 minutes , another block will be pushed by miners in the chain.
    ","Hi Saurav, The part you told me is clear, I wanted to know if I am an attacker and I would try to alter a recorder and recalculate the hash of all the subsequent chains. Then what are the challenges that will stop me or make me impossible to alter the data?"
"95","How block-chain is so secure? [closed]","2018-09-21T17:53:09",151,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       Yesterday I read about an article on Blockchain and according to it, blockchain are very secured? I am not able to understand how it is secure?
How blockchain makes data secure even it is available to normal people?","blockchain","You might consider looking at the Wikipedia page for a what blockchain is and an overview of how it works: en.wikipedia.org/wiki/Blockchain","
Basic concept of block chain: a distributed database that maintains a continuously growing list of ordered record. 

Growing list of records are called blocks, which are linked and secured using cryptography. Each block contains a cryptographic hash of previous block, a timestamp and transaction data. 

It is an open distributed ledger that can record transactions between two parties efficiently and in a verifiable way.    

For use a distributed  ledger, a blockchain  is typically managed by a peer-to-peer network collectively adhering to a protocol for inter-node communication and validating new blocks. Once recorded, the data in any given block cannot be altered retroactively without alternation of all subsequent blocks, which require consensus of the network majority.
    ",NA
"96","How block-chain is so secure? [closed]","2018-09-21T17:53:09",151,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       Yesterday I read about an article on Blockchain and according to it, blockchain are very secured? I am not able to understand how it is secure?
How blockchain makes data secure even it is available to normal people?","blockchain","You might consider looking at the Wikipedia page for a what blockchain is and an overview of how it works: en.wikipedia.org/wiki/Blockchain","
For an example: In a Blockchain, ""Data that  is available to Normal People"" are similar to below

Amount : Transaction amount
From : Who sent the amount
To : Who received the amount
Previous Block Hash 
Current Block Hash
Blockchain Data


In this scenario these are data that can be used to verify a transaction. Knowing these data is not harmful for anyone who is involved and, no one can manipulate the transactions or the blockchain just because they have access to these data. 

If someone wants to change/manipulate the data in Block 2 (please refer to the Image) and add it to the Block chain, it is a really hard thing to achieve like @GraphicalDot explained. 
    ",NA
"97","How block-chain is so secure? [closed]","2018-09-21T17:53:09",151,"Closed. This question needs to be more focused. It is not currently accepting answers.                                                                                                                                                                                                                                                                                           Want to improve this question? Update the question so it focuses on one problem only by editing this post.                                                  Closed last year.                                                                                                                       Yesterday I read about an article on Blockchain and according to it, blockchain are very secured? I am not able to understand how it is secure?
How blockchain makes data secure even it is available to normal people?","blockchain","You might consider looking at the Wikipedia page for a what blockchain is and an overview of how it works: en.wikipedia.org/wiki/Blockchain","
For example, Bitcoin Network needs a bootstrap from the very beginning, in that stage, you cannot say the network is secure. From year to year, more and more miners join the game, which means one is hardly to take over the whole network (which is very expensive considering the cost it takes). But it does not mean that someone may try to compromise it at any cost would fail. 
    ",NA
"98","How to chain nested promises containing then and catch blocks?","2019-05-21T13:47:59",89,"How to chain ES6 nested Promises with each Promise in the nesting having then and catch blocks?  

For example, what will be the Promise then and catch blocks chaining implementation equivalent for following nested AJAX calls implementation handled by success and error callbacks, considering every API call returns a Promise?

$.ajax({ 
    url: 'url1', 
    success: function() {
        console.log('URL1 call success');
        $.ajax({    
            url: 'url2',
            success: function() {
                console.log('URL2 call success');
            },
            error:function() {
                console.log('URL2 call error');
            }
         })
    },
    error: function() {
        console.log('URL1 call error');
        $.ajax({
            url: 'url3',
            success: function() {
                console.log('URL3 call success');
            },
            error:function() {
                console.log('URL3 call error');
            }
         })
    }})","javascript ecmascript-6 promise es6-promise",NA,"
If you want to chain promises, you can have each handler return a promise, and then chain the then and catch functions from there. I believe this demonstrates what you're looking to do:



const getPromise = (time, reject=false) => new Promise((res, rej) => {
  setTimeout(() => reject ? rej() : res('done'), time);
});

getPromise(500)
  .then(() => {
    console.log('first response');
    return getPromise(500, false);
  })
  .then(() => {
    console.log('second response');
    return getPromise(500, true);
  })
  .catch((error) => {
    console.log('you can have catch statements return promises, too');
    return getPromise(700, true)
  })
  .then(() => {
    // this structure falls down here; is this a response to the promise returned from
    // the catch, or the promise returned from the 'second response' part?
    console.log('third response');
  })
  .catch(() => {
    console.error('hit an error');
  });




However, it's important to realise that this is a chain with no branching logic. With the structure handle success -> handle error -> handle success, once your error handlers return valid promises, the remainder of the chain cannot tell whether what came before was a result of the success or error handlers. There's no branching logic here and you need nesting of promises to achieve that.

There are two main alternatives here. First you could throw different error types and handle each different error in a single catch handler. Second, you could use async/await syntax instead. Either may work for you but I think that they'd warrant a separate question.
    ","Here the last catch block is common to all preceding then blocks, I guess. But that is not what I am required. I need each Promise in the nesting have there own individual then and catch block pair. Here, I think only then blocks chained are respective to their Promises but not catch block. Having Individual catch block will help if we have different error handling for each Promise in the nesting.OOO@AbhinandanKhilari Then it sounds as though you're describing behavior that is inherently nested; perhaps if you could give an example of what the syntax to describe such a chain would look like, then we might be able to this of ways to make that possibleOOOPlease refer to the snippet mentioned in the question. I have logged messages in the success and error callbacks to identify which API call has been succeeded or failed. I want to know how to achieve the same with Promises. And for example of chaining syntax, you can refer to the snippet posted by you. There I need have each then block its own catch block, so it can be recognized exactly which Promise is rejected in the chain. For example, I guess there would same number of catch blocks as of then blocks with logs like, 'first error', 'second error', ... Just need to know how to chain them.OOOI have seen the snippet but aside from saying ""you put the new api call which returns a promise in the then/catch statement"" there's not much more to say. You can't have a chain of promises which have branching logic like your example above without putting the subsequent calls in the then/catch statementOOOIt means if we have to put API calls in then and catch blocks then the structure will be like a callback hell. It will be exactly opposite in nature of Promise as Promise are used to avoid callback hell caused by callback functions structure, right?OOO@AbhinandanKhilari I've updated my answer to do what I think you're asking for."
"99","How to chain nested promises containing then and catch blocks?","2019-05-21T13:47:59",89,"How to chain ES6 nested Promises with each Promise in the nesting having then and catch blocks?  

For example, what will be the Promise then and catch blocks chaining implementation equivalent for following nested AJAX calls implementation handled by success and error callbacks, considering every API call returns a Promise?

$.ajax({ 
    url: 'url1', 
    success: function() {
        console.log('URL1 call success');
        $.ajax({    
            url: 'url2',
            success: function() {
                console.log('URL2 call success');
            },
            error:function() {
                console.log('URL2 call error');
            }
         })
    },
    error: function() {
        console.log('URL1 call error');
        $.ajax({
            url: 'url3',
            success: function() {
                console.log('URL3 call success');
            },
            error:function() {
                console.log('URL3 call error');
            }
         })
    }})","javascript ecmascript-6 promise es6-promise",NA,"
This can be written like this :

function makeAjaxCall(url){
    return new Promise((s, f) => {
        $.ajax({ 
            url: url, 
            success: s,
            error: f
        })
    })
}
makeAjaxCall('url1')
.then((data) => {
    console.log('URL1 call success');
    return makeAjaxCall('url2')
}, (error) => {
    console.log('URL1 call error');
    return makeAjaxCall('url3')
})
.then(() => {
    //It Could be Either url2 success or url3 success
}, () => {
    //It Could be Either url2 failure or url3 falure
})

    ","But here the last then and catch block loses context for which Promise they are belonging. What if we have different implementation for resolved and reject of each Promise in the nesting and so need to have exclusive pair of then and catch blocks for each of them?"
"100","How to chain nested promises containing then and catch blocks?","2019-05-21T13:47:59",89,"How to chain ES6 nested Promises with each Promise in the nesting having then and catch blocks?  

For example, what will be the Promise then and catch blocks chaining implementation equivalent for following nested AJAX calls implementation handled by success and error callbacks, considering every API call returns a Promise?

$.ajax({ 
    url: 'url1', 
    success: function() {
        console.log('URL1 call success');
        $.ajax({    
            url: 'url2',
            success: function() {
                console.log('URL2 call success');
            },
            error:function() {
                console.log('URL2 call error');
            }
         })
    },
    error: function() {
        console.log('URL1 call error');
        $.ajax({
            url: 'url3',
            success: function() {
                console.log('URL3 call success');
            },
            error:function() {
                console.log('URL3 call error');
            }
         })
    }})","javascript ecmascript-6 promise es6-promise",NA,"
have you tried .done and .fail ?

You can re-write the code as below



const doAjaxCall = (url) => $.ajax({ url })

const callURL = (url) => doAjaxCall(url)
  .done(() => console.log(`${url} is ok!`) )
  .fail(() => console.log(`${url} failed!`) );

doAjaxCall('/url1')
.done(() => {
  console.log('url1 is ok!');
  callURL('/url2');
 })
.fail(callURL('url3'));
<script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js""></script>



    ","Actually I am looking for solution in ES6 implemetion of Promises"
"101","Deployment of block chain in cloud","2018-02-22T10:22:31",68,"I have create cordapp in azure VM. now i want to deploy that cordapp into Azure cloud server so that client from anywhere can hit cordapp. but i confused whether i have to use webapps or inbuilt Blockchain module in marketplace. if so, how to do deploy?","azure cloud corda",NA,"
You can deploy a node to a cloud server by following the instructions here: https://docs.corda.net/deploying-a-node.html.

You can then interact with your node remotely, using either:

An RPC client (e.g. https://github.com/corda/cordapp-template-java/blob/release-V3/clients/src/main/java/com/template/Client.java)
A server (e.g. https://github.com/corda/cordapp-template-java/tree/release-V3/clients/src/main/java/com/template/webserver)
The node shell over SSH (Corda V3 onwards - see https://docs.corda.net/head/shell.html#the-shell-via-ssh)
","It's to help people quickly set up networks of Corda nodes on Azure. It is not required.OOOi checked docs.corda.net/deploying-a-node.html for deploying in windows server.i can see deploying nodes using NSSM Manager.      1.when i deploy nodes, how it will access my application which is placed as a jar under /opt/corda /CordaApp.jar      2. Also, When i run nssm.bat file under each nodes , my cmd is going on running with the first cmd and not stopping. Nothing proceed after that.OOOCould you raise these as separate questions please?"
"102","Decrypting cipher-block-chain XOR ¡°encryption¡±","2017-09-17T14:00:42",229,"I got a challenge from my friend.
He said that I need to reverse the function, and I need to find inputs.
But, I am stuck for hours thinking the logic and how to write what I think in a code.

He gave me this algorithm:

def hash_cbc(input):
    initial = 'a'
    key = 'netsos'

    output = [ord(initial)]

    def enc(c, key, i):
        z = key[i % len(key)]
        return (c + ord(z)) ^ ord(z)

    for i in range(len(input)):
        prev_char = output[i]
        next_char = enc(prev_char, key, i) ^ ord(input[i])
        output.append(next_char)

    return output


the output of this algorithm must be:

97, 194, 299, 411, 533, 654, 768, 873, 965, 1066, 1164, 1272, 1399, 1512, 1603, 1706, 1792, 1895, 1994, 2110, 2215, 2310, 2404, 2517, 2645, 2762


I need to reverse the function so I can get inputs. Inputs must be a string.

Please help me, I have been stuck for hours and with no results.
I was thinking to reverse the XOR function, but really confused how to write it.

I was thinking these algorithm doing this

enc(prev_char, key, i) ^ 1st ordinal input = 1st output
enc(prev_char, key, i) ^ 2nd ordinal input = 2nd output
enc(prev_char, key, i) ^ 3rd ordinal input = 3rd output


etc doing that in a loop

but I am not sure how to reverse because there is 
""enc(prev_char, key, i)"" part that makes me confusing

I also tried to make my own reverse code

def enc(c, key, i):
Awalan = input(""Insert numbers: "")
Awalan_split = Awalan.split (', ')
Awalan_len = len(Awalan_split)

initial = 'a'
key = 'netsos'
output = [ord(initial)]
z = key[i % len(key)]
return (c + ord(z)) ^ ord(z)

for i in range(Awalan_len):
    prev_char = output[i]
    next_char = int(Awalan_split[i]) ^ enc(prev_char, key, i)
    char_convert = chr(next_char)
    return(char_convert)

print(char_convert)


but no luck, it just give me empty output.
What's wrong with my code?","python function reverse","And where in your attempts to solve this do you need help exactly?OOOi was trying to reverse XOR (^) function, but no luck... maybe you can give me algorithm suggestionOOOWriting a program that does a given thing for you is not what we do here. StackOverflow exists to be a Q&A knowledgebase -- a collection of canonical questions (that someone other than you might face) and answers to them. If you can find a question in where you're stuck that has potential to be more widely applicable, removing the elements that are peripheral to that question to make that applicability more clear (and focusing the title on that question, vs what you're trying to do) would be helpful.OOOAh thanks before.... so I need to be more ""general"" in this forum?OOOTrying to reverse XOR is a reasonable thing to ask about. Can you find the smallest possible example that illustrates your problem? For instance, can take out the code that operates on strings, and just focus on the first character, or even the first number (factoring out the ordinal conversion, unless you've established that the ordinal conversion is part of what doesn't work correctly?) Or is it only in the string code, and not the general XOR code, where things break down?OOOGeneral in a sense, specific in a sense. General in that we want questions to be as reusable by others as possible (the ideal is we get as close as we can to a state where there's no more need to post more questions because they've all been asked and answered and can be searched). Specific in that we want each question posted to focus on exactly one well-specified question, providing the simplest possible code/inputs/&c. that can illustrate it.OOOFirst step, can you explain (to yourself) what this code does, every step of the way? What is its purpose, how does it work, what's the end result? Next step, pick a very simple example (e.g. one character) and on paper perform both the forward and reverse calculations. Performing the operations by hand will help you understand how to code it up.","
XOR reverses itself.  A^B=C, C^B=A. Example:

>>> 123 ^ 456
435
>>> 435 ^ 456
123


The 2nd value of the result, 194, was computed by XORing the unknown original character with the result of the enc() function, so XORing 194 again with the enc() function should produce the original value.  Remember that initial is 'a' and the last parameter of enc is the current index into the original string, so 0:

>>> 194 ^ enc(ord('a'),'netsos',0)
99
>>> chr(99)
'c'


The 3rd value of the result, 299, was XORed with the encryption function using the previous value and the next character of the sequence, so XORing with the encryption function again should produce it:

>>> 299 ^ enc(194,key,1) # index (last parm) incremented
105
>>> chr(105)
'i'


Following this pattern, then unencrypt function should be:

output = []
for i in range(len(inp) - 1): # original will be one shorter.
    prev_char = inp[i]
    next_char = enc(prev_char, key, i) ^ inp[i+1]
    output.append(next_char)


Then just convert the ordinals generated back to characters:

return ''.join(chr(n) for n in output)


Here's everything tied together:

# factor out common stuff
initial = 'a'
key = 'netsos'
def enc(c, key, i):
    z = key[i % len(key)]
    return (c + ord(z)) ^ ord(z)

def hash_cbc(inp):
    output = [ord(initial)]

    for i in range(len(inp)):
        prev_char = output[i]
        next_char = enc(prev_char, key, i) ^ ord(inp[i])
        output.append(next_char)

    return output

def unhash_cbc(inp):
    output = []
    for i in range(len(inp) - 1):
        prev_char = inp[i]
        next_char = enc(prev_char, key, i) ^ inp[i+1]
        output.append(next_char)

    return ''.join(chr(n) for n in output)

expected_result = [97, 194, 299, 411, 533, 654, 768, 873, 965, 1066, 1164, 1272, 1399, 1512, 1603, 1706, 1792, 1895, 1994, 2110, 2215, 2310, 2404, 2517, 2645, 2762]

u = unhash_cbc(expected_result)
h = hash_cbc(u)
print(h == expected_result)
print(u)


Output:

True
cipheringblockingchaining

    ","THANK YOU ! Very helpful & detailed explanation :D"
"103","What will happen if the receiver lost the IV in CBC (cipher block chaining) or didn't receive at all?","2019-04-14T14:55:37",34,"In Cipher Block Chaining cryptography system
If I encrypted a message in Cipher Block Chaining!
The receiver in any way lost the IV or didn't receive the IV at all? 
What will happen?","c#","Obviously the first block can't be decrypted.",NA,NA
"104","What are block chain-based anti censorship tools?","2018-01-02T18:00:02",354,"After Telegram (a social network app or messaging service like whats-app and...) was blocked in our country, the CEO and the founder of this app told: 


  We are working on blockchain-based anti-censorship tools and the
  results will be announced in Q1 2018.


Now my question is what are blockchain-based anti-censorship tools and how they could Resist blocking(restricting) this app in a country.

After embedding this technology or tools in the Telegram, if my country urges on blocking the app, could it again block it?","block",NA,"
I've found this. Not a lot of info though. Here's the section about TON Proxy:


  TON Proxy is a network proxy/anonymizer layer used to hide the
  identity and IP addresses of TON nodes. Similar to I2P (Invisible Internet Project), this layer can be used to create
  decentralized VPN services and blockchain-based TOR alternatives to
  achieve anonymity and protect online privacy. In conjunction with the
  TON P2P Network and TON DNS, TON Proxy can make any service, including
  Telegram, effectively immune to censorship.

    ",NA
"105","Is Quorum Blockchain environment a subset of Ethereum Blockchain environment with some extra capabilities?","2018-09-12T14:40:14",48,"Is Quorum Block chain environment a subset of Ethereum Block chain environment with some extra capabilities?","blockchain ethereum quorum",NA,"
Yes. Quorum is the J.P.Morgan's implementation of Etheruem Virtual Machine (EVM) with some features allowing use of private transactions. As it's github page says: 
A permissioned implementation of Ethereum supporting data privacy
    ",NA
"106","How to backup block-chain network data?","2019-01-30T05:22:04",143,"I implemented hyper ledger fabric network on single machine and I am worry about backup of ledger data.
As blockchain network is secure and transaction can not be altered but as a backed developer How can we secure data as backup ?","hyperledger-fabric blockchain",NA,"
There are two ways to do that:

Create a new network or node which has access to the same channels as the node whose data you want to backup. This new node will then rebuild its ledger and state DB for all these channels.
Manual backup: Login to peers and go to /var/hyperledger/production and backup the folders like chaincodes , ledgersData and transientStore
You can refer to this JIRA Add ledger backup/restore to Operations Guide
    ",NA
"107","(block chain marbles sample) Error: Missing parameter. Must have a username","2018-05-09T07:21:25",60,"I am new to block chain and hyperledger-fabric, I am trying to setup Marbles sample application. I followed tutorial
Use Local Hyperledger Network

While executing this command (node enrollAdmin.js) i got following error.

Node version : v6.2.1 
Npm Version : 3.9.3 
Docker Version: 18.03.1-ce

$ node enrollAdmin.js

Store path:/opt/blockchain/fabric-samples/fabcar/hfc-key-store
Successfully enrolled admin user ""admin""
error: [Client.js]: Error: Missing parameter. Must have a username.
at _setUserFromConfig (/opt/blockchain/fabric-samples/fabcar/node_modules/fabric-client/lib/Client.js:1280:27)
at Promise (/opt/blockchain/fabric-samples/fabcar/node_modules/fabric-client/lib/Client.js:1432:11)
at setUserContext (/opt/blockchain/fabric-samples/fabcar/node_modules/fabric-client/lib/Client.js:1413:10)
at promise.then.then.then.then (/opt/blockchain/fabric-samples/fabcar/node_modules/fabric-client/lib/Client.js:1692:17)
Error: Failed to load key or certificate and save to local stores.
at promise.then.then.then.then.then.catch (/opt/blockchain/fabric-samples/fabcar/node_modules/fabric-client/lib/Client.js:1702:19)
Failed to enroll admin: Error: Failed to enroll admin
Could anyone help me to resolve this error?

Thanks in advance.","node.js hyperledger-fabric blockchain",NA,"
it got worked when i ran following command

$ sudo node enrollAdmin.js

    ",NA
"108","Ethereum private chain resets back to block 0 when restarted","2018-02-16T13:24:35",560,"I am currently running the latest Geth 1.8.1 Iceburg version. I setup a private Ethereum network following a tutorial and everything including mining works fine, but every time I restart Geth, the chain resets back to block number 0 all the mining transactions have gone missing and no ETH balance as well but transactions are recorded in the logs. 

commands used:

geth --datadir ""$ethereum_home/EthMasterChain"" console 2>console.log

geth --datadir ""$ethereum_home/EthMasterChain"" init ""$ethereum_home/genesis.json""


json file used:

{
    ""config"": {
    ""chainId"": 1234,
        ""homesteadBlock"": 0,
        ""eip155Block"": 0,
        ""eip158Block"": 0
    },
    ""nonce"": ""0x0000000000000045"",
    ""timestamp"": ""0x0"",
    ""parentHash"": ""0x0000000000000000000000000000000000000000000000000000000000000000"",
    ""gasLimit"": ""0x8900000"",
    ""difficulty"": ""0x400"",
    ""mixhash"": ""0x0000000000000000000000000000000000000000000000000000000000000000"",
    ""coinbase"": ""0xbe8d5fce9f60ab06b527dd177eed96eb95ee4138"",
    ""alloc"": {
        ""0xbe8d5fce9f60ab06b527dd177eed96eb95ee4138"" : {""balance"" : ""10000000000000000000""}
    }

}","ethereum go-ethereum geth","Edit your post to include your scripts.OOOI assume (hope) you aren't running init each time, right? As the name implies, init initializes the blockchain (creates block 0). If you run it multiple times, it will overwrite your previous blockchain (unless you specify a different datadir).OOONo I am not running init command multiple timess just onceOOOYou need to include --networkid 1234 when you start geth console. Otherwise, you'll be connecting to mainnet. However, I'm not sure if that's the cause of your blockchain resetting. Give that a try and see if it helps.OOOThanks everyone just figured out the issue. Problem is with the geth 1.8 Iceberg version it resets the blockchain everytime u close the console I downgraded to 1.7.3 stable and the issue is solved :) Do not use the 1.8 geth version yet",NA,NA
"109","Chain ExceptT with different Left in do block","2017-01-30T12:10:44",76,"I have a couple of computations to run which throw different kinds of exceptions. How can I chain them in a do block without evaluating every single one and then pattern matching the result as Either ex result?

type IntComp ex = ExceptT ex IO Int

local :: IntComp IOException
local = ExceptT $ map length <$> tryIO (readFile ""file"")

web :: IntComp WebException
web = ExceptT $ map length <$> tryAny (getWebsite ""file"")

comp :: (Exception ex) => IntComp ? -> IntComp ? -> IntComp ?
comp local web = ExceptT $ do
res1 <- local
res2 <- web
return (res1 + res2)


Since they all have an instance of Exception I would think there must be some way to write a comp function in similar fashion?","haskell error-handling monads monad-transformers","Since they throw different kinds of exceptions, this is going to be more troublesome.OOOI see. After some reading it seems I am trying to emulate functionality of MonadThrow?OOOFor such a simple example, just use withExceptT to change the type of one or both exceptions - withExceptT Left and withExceptT Right are 'simple' choices.","
If you have two exception types EOne and ETwo, you could do it like this:

twoExceptions :: ExceptT (Either EOne ETwo) m a
twoExceptions = do
    fmapL Left computationThatFailsWithEOne -- :: ExceptT EOne m b
    fmapL Right computationThatFailsWithETwo -- :: ExceptT ETwo m c
    ...

    ",NA
"110","Chain ExceptT with different Left in do block","2017-01-30T12:10:44",76,"I have a couple of computations to run which throw different kinds of exceptions. How can I chain them in a do block without evaluating every single one and then pattern matching the result as Either ex result?

type IntComp ex = ExceptT ex IO Int

local :: IntComp IOException
local = ExceptT $ map length <$> tryIO (readFile ""file"")

web :: IntComp WebException
web = ExceptT $ map length <$> tryAny (getWebsite ""file"")

comp :: (Exception ex) => IntComp ? -> IntComp ? -> IntComp ?
comp local web = ExceptT $ do
res1 <- local
res2 <- web
return (res1 + res2)


Since they all have an instance of Exception I would think there must be some way to write a comp function in similar fashion?","haskell error-handling monads monad-transformers","Since they throw different kinds of exceptions, this is going to be more troublesome.OOOI see. After some reading it seems I am trying to emulate functionality of MonadThrow?OOOFor such a simple example, just use withExceptT to change the type of one or both exceptions - withExceptT Left and withExceptT Right are 'simple' choices.","
comp :: (Exception ex1, Exception ex2) => IntComp ex1 -> IntComp ex2 -> IntComp SomeException
comp local web = do
    res1 <- withExceptT toException local
    res2 <- withExceptT toException web
    return (res1 + res2)

    ",NA
"111","What are Components involved to process a block chain transaction?","2018-05-05T16:36:48",52,"I started studying blockchain. Can any one clarify some basic concepts. 
What is the difference in  mining node (miners), block and node in blockchain network.
When an end user initiate transaction who is the first component in blockchain who receives this request and this node forwards to whom and how ?
Question seems very basic but i am not finding exact answer. 
Please don't devote if question felt silly.","hyperledger-fabric blockchain ethereum","Hi SHAHID, is your question targeting to a specific platform, eg. hyperledger or ethereum? or both of them??","
This answer generally uses Hyperledger Fabric as a reference for explaining different terms.


  What is the difference in mining node (miners), block and node in blockchain network


A block is actually a unit in a blockchain that contains the value of an asset, a unique hash and a hash to its previous block in the chain. A block can also have one or more transactions. Each transaction contains a read-write set which modifies one or more key/value pairs (Asset values).
Nodes are the communication entities of the blockchain. A ¡°node¡± is only a logical function in the sense that multiple nodes of different types can run on the same physical server. What counts is how nodes are grouped in ¡°trust domains¡± and associated to logical entities that control them.
There are three types of nodes:

Client or submitting-client: a client that submits an actual transaction-invocation to the endorsers, and broadcasts transaction-proposals to the ordering service.
Peer: a node that commits transactions and maintains the state and a copy of the ledger. Besides, peers can have a special endorser role.
Ordering-service-node or orderer: a node running the communication service that implements a delivery guarantee, such as atomic or total order broadcast..
The term mining / miners is referred in Public Blockchains such as Bitcoin. In Public Blockchain Networks, an end-user submits a transaction, which is verified (endorsed as authentic transaction) by majority of the nodes participating in the network. Specifically for Bitcoin network, all the nodes in the network compete to verify all the incoming transactions (termed as Proof-Of-Work) and the winning node is rewarded with an increase of balance in their crypto-wallets. This concept is called Mining. 

However, in private or permissioned blockchains (such as Hyperledger), There's no Mining or Proof-Of-Work. Instead all the nodes participating in the network come to a state of agreement that a specific transaction is valid or invalid (termed as Consensus).


  When an end user initiate transaction who is the first component in blockchain who receives this request and this node forwards to whom and how ?


The answer depends on the underlying blockchain platform being used. For Hyperledger Fabric, Who will receive the request is decided by the endorsement policy as which and how many participating nodes are required to verify the transaction. For example, if the endorsement policy states that each peer from each organization should endorse a transaction, the request will be received by all the peers participating in the network. The peers validate the transaction and replies with an endorsement response containing the endorser signatures and the read/write sets of that transaction. When the client receives the endorsement response, it assembles the endorsements into a transaction and submits it to the ordering service node, which orders the transactions chronologically into blocks and deliver these blocks to all the peers in the network.

For Hyperledger Fabric, you can see the detailed and self explanatory Transaction Flow Here. 
    ",NA
"112","Scala - Chaining Futures Try blocks?","2013-07-28T11:35:29",10070,"Is it possible to chain scala.util.Try and scala.concurrent.Future? They both effectively provide the same monadic interface, but attempting to chain them results in a compile error.

For example. Given the two signatures below

def someFuture:Future[String] = ???
def processResult(value:String):Try[String] = ???


is it possible to do something like the following?

val result = for( a <- someFuture; b <- processResult( a ) ) yield b;
result.map { /* Success Block */ } recover { /* Failure Block */ }


This obviously results in a compile error, because Future and Try are unable to be flatMapp'ed together.

It would however be a nice feature to be able to chain them - is this at all possible? Or do I need to combine them into a Future[Try[String]]?

(In particular, I'm interested in having a single 'recover' block to catch exceptions in either the future or the try).","scala exception-handling future",NA,"
When faced with a problem like this, where you want to use differing types in a for comprehension, one solution can be to try and select one of the types and map the other type to it.  For your situation, given the unique properties (async) of futures, I would select Future as the lowest common denominator and map the Try to the Future.  You can simply do that like this:

val result = for{
  a <- someFuture
  b <- tryToFuture(processResult(a)) 
}  yield b
result.map { /* Success Block */ } recover { /* Failure Block */ }

def tryToFuture[T](t:Try[T]):Future[T] = {
  t match{
    case Success(s) => Future.successful(s)
    case Failure(ex) => Future.failed(ex)
  }
}


Now if you found this to be a very common situation and you did not like constantly having to add in the explicit conversion, I suppose you could define the tryToFuture method as implicit on some helper object and import it where needed like this:

object FutureHelpers{
  implicit def tryToFuture[T](t:Try[T]):Future[T] = {
    t match{
      case Success(s) => Future.successful(s)
      case Failure(ex) => Future.failed(ex)
    }
  }
}

import FutureHelpers._
val result = for{
  a <- someFuture
  b <- processResult(a) 
}  yield b
result.map { /* Success Block */ } recover { /* Failure Block */ }


Just remember that calling Future.success and Future.failed has an impact on whatever ExecutionContext is in scope in that it will submit another task to it under the hood.

EDIT

As Viktor pointed out in the comments, the process of converting a Try to aFuture is even easier if you just use Future.fromTry like in the updated example from below:

val result = for{
  a <- someFuture
  b <- Future.fromTry(processResult(a)) 
}  yield b
result.map { /* Success Block */ } recover { /* Failure Block */ }


This is probably your best bet versus doing stuff with implicits or rolling your own conversion logic. 
    ","there is currently a discussion on scala-user about this exact problem of converting a Try to a Future. Maybe an helper like this should be included in the standard library somewhere.OOOFuture.fromTry?OOO@ViktorKlang, yes you are right. I updated my answer to include that approach. Thanks for the heads up."
"113","Scala - Chaining Futures Try blocks?","2013-07-28T11:35:29",10070,"Is it possible to chain scala.util.Try and scala.concurrent.Future? They both effectively provide the same monadic interface, but attempting to chain them results in a compile error.

For example. Given the two signatures below

def someFuture:Future[String] = ???
def processResult(value:String):Try[String] = ???


is it possible to do something like the following?

val result = for( a <- someFuture; b <- processResult( a ) ) yield b;
result.map { /* Success Block */ } recover { /* Failure Block */ }


This obviously results in a compile error, because Future and Try are unable to be flatMapp'ed together.

It would however be a nice feature to be able to chain them - is this at all possible? Or do I need to combine them into a Future[Try[String]]?

(In particular, I'm interested in having a single 'recover' block to catch exceptions in either the future or the try).","scala exception-handling future",NA,"
How about 

val result = for( a <- someFuture) yield for( b <- processResult( a ) ) yield b;


Although it does not look neat.
    ",NA
"114","Scala - Chaining Futures Try blocks?","2013-07-28T11:35:29",10070,"Is it possible to chain scala.util.Try and scala.concurrent.Future? They both effectively provide the same monadic interface, but attempting to chain them results in a compile error.

For example. Given the two signatures below

def someFuture:Future[String] = ???
def processResult(value:String):Try[String] = ???


is it possible to do something like the following?

val result = for( a <- someFuture; b <- processResult( a ) ) yield b;
result.map { /* Success Block */ } recover { /* Failure Block */ }


This obviously results in a compile error, because Future and Try are unable to be flatMapp'ed together.

It would however be a nice feature to be able to chain them - is this at all possible? Or do I need to combine them into a Future[Try[String]]?

(In particular, I'm interested in having a single 'recover' block to catch exceptions in either the future or the try).","scala exception-handling future",NA,"
Perhaps the problem is old but currently you can:

  implicit def tryToFuture[T](t:Try[T]):Future[T] = Promise.fromTry(t).future

    ",NA
"115","Scala - Chaining Futures Try blocks?","2013-07-28T11:35:29",10070,"Is it possible to chain scala.util.Try and scala.concurrent.Future? They both effectively provide the same monadic interface, but attempting to chain them results in a compile error.

For example. Given the two signatures below

def someFuture:Future[String] = ???
def processResult(value:String):Try[String] = ???


is it possible to do something like the following?

val result = for( a <- someFuture; b <- processResult( a ) ) yield b;
result.map { /* Success Block */ } recover { /* Failure Block */ }


This obviously results in a compile error, because Future and Try are unable to be flatMapp'ed together.

It would however be a nice feature to be able to chain them - is this at all possible? Or do I need to combine them into a Future[Try[String]]?

(In particular, I'm interested in having a single 'recover' block to catch exceptions in either the future or the try).","scala exception-handling future",NA,"
  implicit def convFuture[T](ft: Future[Try[T]]): Future[T] =
ft.flatMap {
  _ match {
    case Success(s) => Future.successful(s)
    case Failure(f) => Future.failed(f)
  }
}

    ",NA
"116","Scala - Chaining Futures Try blocks?","2013-07-28T11:35:29",10070,"Is it possible to chain scala.util.Try and scala.concurrent.Future? They both effectively provide the same monadic interface, but attempting to chain them results in a compile error.

For example. Given the two signatures below

def someFuture:Future[String] = ???
def processResult(value:String):Try[String] = ???


is it possible to do something like the following?

val result = for( a <- someFuture; b <- processResult( a ) ) yield b;
result.map { /* Success Block */ } recover { /* Failure Block */ }


This obviously results in a compile error, because Future and Try are unable to be flatMapp'ed together.

It would however be a nice feature to be able to chain them - is this at all possible? Or do I need to combine them into a Future[Try[String]]?

(In particular, I'm interested in having a single 'recover' block to catch exceptions in either the future or the try).","scala exception-handling future",NA,"
There is also

Future.fromTry(Try { ... })


So you could do

 val result = for {
   a <- someFuture
   b <- Future.fromTry(processResult(a)) 
 } yield b;

    ",NA
"117","Error while Fetching Hash value for a block chain","2018-02-05T11:59:54",49,"I am working on a sample blockchain implementation with dummy data. I have  One method is createGenesisBlock() for creating first block and other method is Makeblock() for blockchain. The code is written in python 3.6

I am facing issue with Makeblock when retrieving the Hash Value created in Genesis Block and stored in a text file.

Below is the error Message :

parentHash=parentBlock[u'hash']
TypeError: string indices must be integers


Code Snippet are below :

*def makeBlock(self,txns, parentBlock):
    parentBlock=parentBlock.strip(parentBlock[0])
    parentblocklen=len(parentBlock)
    parentBlock=parentBlock.strip(parentBlock[parentblocklen-1])
    parentHash=parentBlock[u'hash']
    blockNumber = parentBlock[u'contents'][u'blockNumber'] + 1
    blockContents = {u'blockNumber': blockNumber, u'parentHash': parentHash, u'RCount': len(txns), 'records': txns}
    blockHash = hashMe(blockContents)
    block = {u'hash': blockHash, u'contents': blockContents}
    return block*


Above, method makeBlock() is taking below string as 2nd argument . But while fetching the hash from the below string is resulting in error.

************string starts*********

{'hash': 'af12f6148f5d328d1272e81393f199a6', 'contents': {'blockNumber': 0, 'parentHash': None, 'RCount': 2, 'records': [{'Patient ID': (b'\xa6\xe0<""\x18\x18F~-.g\x1cX\xf3\r\x86\xc0\x04hUG\xa7PT\xa2\x85\'\x06S?\xab3\xf4T$I\xcf\x94\xcc \xc8\x1b\xfb\xfe\nTw!\x80q\x1ae1\x99\x9e\xbf\xbc^D\xea\xe9X\x06\x8f\x8es\xb3\x02sAdf07\xdc\xdd\xf0\x17M\xf5\xeep\xbd\xeb\x88V\xd6\x86\xd4\9e\xcf\x93\x06p\xc4\x1a\xe8\r\xc5\xa2\xd6j\xc4\xff\xc7\xfb\x81\xfaa_\xe0C\x97#f3Zu7\xb2\x07YO\xe3',), 'Insurance ID': (b'\xaa\x1bJ\x84z\xe9\r\x8e\`IC\x9f\xf9\x03\xf4\xf5/\x1ceXW\x01\xf3\x03\r~yTi\xff:\xa3\x05\xcf\x84xl\xf9r\x95C\xc1f\xe6\xec\xbc\tz\xa9\xd0J\xe6#\xe6\xc5\xf8\xbb\xb1\x05flY\xc6\xa3\xfdy+\xa2Eq\xbb\xebe\x8dm?404T\xe9\xb2\x85_\x89\xc4&\xa2<\xac\xbf\xc2\xd8z\xee\x9e\xd2\xfc\xf8\xa2<.(i\x07\x10o\x9f\xf9\xa9\x1bH\xda\xd4?\xd9\x7f\xb4G\xeb\x15\x13\xbaW\x9b\r\xc3',), 'DOS': ""'19-09-2216'"", 'Claim Amount': ""'2280.00'"", 'Claim ID': ""'9348'"", 'Provider ID': (b'q\x8a!\xfce\xb7\x8e\xeax\x8a\xc9h\xd4\\x02P\xb5j\xdc\xb2\xe5\xa4\xc6#\xbd\xda\x1e,;)\x83\xe7\x98\x15\xe2\xe7\xe4c\xd5\x9e\x99k\x8a\x97\xdd@\x803\xc0\xbbY3\xa7\xfe\xeb&\x0f\xa3/\x1e\x96\xdf}\x83\x00euX\xd4J\r\xd1\xd91\xb3\x89\xc9I\x94L\xf2U3L=\xb2\xa9+43\x95t^\x9a\x85\x02\xea\x16V\xac\xad\xbc""=.i\xab8?7\x1di\x83\x18\xee\x9aM\xae\x84\xf8p\x9ae\xf9\xb0\x82',), 'URL': ""'www.yahoo.com'""}, {'Patient ID': (b'\xbf\xec\rk\xaa\x99\xde\t\xfe\xf7R\x0fu6\x0fz\x9e\x01\xa6\xbb\x80\xfeyh\xe7\n\xeb\x03H\x01/ \xfc\xda\x8dH\xc9\x12R\xe1.E\xc3\xb1,\x0b)\x7f\xca\xc73""\xa8\x0c{\xe4Q\x95pi\x97\xfaN\xc3^\xd3\xf1\x0buK\xe3c\x06\xd1\xfe\xa6\xdd\xafO\xfe@\x17\xe9\xe6\xd6\xe1\xb3s@{\x9fV\xba\x13\xae\xa7q\x8b\x08\x9b\xb1\xa0\x0eA\xf3M\x96\xf6\xbbhs[\xbd/Z:\x87Y\xe8\xb9\xe0\xcb\xbb\xfb\x0b\x1d@\xb0',), 'Insurance ID': (b'\x06\x11\xaa\x08\xde9\xbcd\x91\xe28\xd6J[\xf6\x1a\xbb{\xc9f\x8aa\xdd\x86\xbf\x17\xdf\xaaQiZq\x91\xbb\xf1F\x1f[n0i\xc1\x96\xf2\x9f\xf1.\xde\x11P\xb7\xcd\x0e\xab\x97\xd3W\xa6\xd0\xc0\xc7\xbe\xb7\x8a\xd2\xe9\x84\x9bM\xeb\x0e\x8f\x91\t\xd9\xecq\xad\xd8w\r\xc4\x08\x0f\xa5\x99\xc3)\xa7\x8b\xa0\xa5\xc6\xbf\xce\xfa\xe6\x9f9\x81)\xfevJ\xad\x1d\xc9%\xe0\xe1(\xd5\xd7\x19g\x1f\xe1{\x1c\x1e%\x10 \x12\xc6\x03\xce',), 'DOS': ""'10-11-2012'"", 'Claim Amount': ""'1230.00'"", 'Claim ID': ""'98009'"", 'Provider ID': (b'\x81/O\xddKPk6XD\x82g\x97\x80\x87\x92\xc5\xfa\x07v \xf9\xe43\xd9\x00z\xf8\xe9\x1e3""\xa1\xeb\x039\xda\t:K\r\xda\xbcx\x84\x95\xdf\xa2\xe9\xdcU\xd9\C41\xb7\xf0\x07\xf5euy\xd3Ab\x10teE\xf2\xf2\x10\xc0\x1c\x16$V7\xf1\x8d\x16\x8a\x14\x02\x16\xff\xe3\xad\xa3@`\x13\xd0\xef\x18\x83\x13D\x91\x05>\x13\x8aY\xdb\xfeN\x99\xef\x9d>\xc9\xf2\xfbMj\xd1\x00E\xd5\xdaYW\x1d\x0e\xca\xa0',), 'URL': ""'www.oracle.com'""}]}}*

************string ends *********

NOTE: Surprizingly excuting the same on python shell. I am able to fetch parentHash value into any variable.

parentHash=parentBlock[u'hash'] (executing on shell returns the hash value successfully: af12f6148f5d328d1272e81393f199a6) 

parentHash=parentBlock[u'hash']  (executing via python script is resulting in ERROR (TypeError: string indices must be integers)

Could someone please help where is the issue and why the same code works fine in python shell but throws a error in Method while executing?","python-3.6 blockchain",NA,NA,NA
"118","External party access to smart contract (Block Chain)","2016-07-15T07:27:21",66,"So if A and B has a smart contract together concerning some service, how does the external party C get access to read/write to this contract?

would the contract need to be set to this ""public"" when signing?
can A or (/and?) B give access to the contract to C after signing?
any other way?","blockchain smartcontracts",NA,"
Basicly all smart contracts on public ledgers are, well, public. It depends on which blockchain platform you are deploying the contracts. In general, to access them, you need the following.

an interface. For instance, in ethereum you need the application binary interface. Since the contracts on the chains are stored in a binary format, you need to know how to access their functionality. In most cases an ABI is a JSON description of the available members and functions.
some access rules. In general, as I said initially, all states are public readable, so if A and B create a contract with someService, C will be able to read out the state. If you want to allow C write access, you need to explicitly tell either while creating the contract (e.g., by static whitelisting his public key) or you can maintain a dynamic list of accessors which only A or B can set.
I think this is the most specific answer I can give unless you state the platform or contract language you prefer most.
    ",NA
"119","Visual studio block chain smart contract deployment issue","2017-10-14T12:51:57",292,"I am a dotnet developer want to enter into this ethereum blockchain world and also install solidity to create smart contracts and however i am expensing the following issue Deployment to http://localhost:8001/ started!
User used for deployment: testuser User found: 0d97173dc52b4d8b2c1034228b129c6d763160eb Contract Payout created successfully at address error uploading contract Contract can be accessed here: http://localhost:8001/contracts/Payout/error uploading contract.html (default password: testing) Anyone please help me to resolve this , Thanks in advance","visual-studio solidity",NA,"
I am facing the same issue which could be because the used Visual Studio extension is depending on this NPM package: https://www.npmjs.com/package/blockapps-bloc that seems to be outdated. Because, it is referencing the a GitHub source that is removed or renamed: http://github.com/blockapps/bloc

Original Steps that I follow when I faced the error is from:
medium.com/@ConsenSys/solidity-integration-with-visual-studio-8bdab2ff8a74 (written on Apr 1, 2016)
And they are the same also from Microsoft site: 
visualstudiogallery.msdn.microsoft.com/96221853-33c4-4531-bdd5-d2ea5acc4799
Where the error happen when right-click on any contract and chose to deploy. By the way, it compiles successfully!

Visual Studio extension is only for 2015 (you have to install Visual Studio 2015 and it will not work with 2017). The extension could be fond at:
marketplace.visualstudio.com/items?itemName=ConsenSys.Solidity
    ",NA
"120","Visual studio block chain smart contract deployment issue","2017-10-14T12:51:57",292,"I am a dotnet developer want to enter into this ethereum blockchain world and also install solidity to create smart contracts and however i am expensing the following issue Deployment to http://localhost:8001/ started!
User used for deployment: testuser User found: 0d97173dc52b4d8b2c1034228b129c6d763160eb Contract Payout created successfully at address error uploading contract Contract can be accessed here: http://localhost:8001/contracts/Payout/error uploading contract.html (default password: testing) Anyone please help me to resolve this , Thanks in advance","visual-studio solidity",NA,"
Solidity extension will not work on VS2017. Open the extension and change the target in config file .
    ","Open the VS extension and change ""extension.vsixmanifest""  and replace with version below    <InstallationTarget Version=""[15.0,15.5)"" Id=""Microsoft.VisualStudio.Pro"" /> <InstallationTarget Version=""[15.0,15.5)"" Id=""Microsoft.VisualStudio.Community"" /> <InstallationTarget Version=""[15.0,15.5)"" Id=""Microsoft.VisualStudio.Enterprise"" />"
"121","Differences between private and public block chain solutions","2019-03-16T09:24:31",34,"Identities of parties are known vs pseudonymous identities
Proof of Work vs Proof of Stake
Restricted access vs Unrestricted access
The finality of transactions vs Possibility of forks with no guarantee of finality","blockchain ibm-blockchain",NA,NA,NA
"122","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
Here's my take on the alternatives:

1)

try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
    bw.write(text);
}


For me, the best thing coming to Java from traditional C++ 15 years ago was that you could trust your program. Even if things are in the muck and going wrong, which they often do, I want the rest of the code to be on best behaviour and smelling of roses. Indeed, the BufferedWriter might throw an exception here. Running out of memory wouldn't be unusual, for instance. For other decorators, do you know which of the java.io wrapper classes throw a checked exception from their constructors? I don't. Doesn't do code understandability much good if you rely upon that sort of obscure knowledge.

Also there's the ""destruction"". If there is an error condition, then you probably don't want to be flushing rubbish to a file that needs deleting (code for that not shown). Although, of course, deleting the file is also another interesting operation to do as error handling.

Generally you want finally blocks to be as short and reliable as possible. Adding flushes does not help this goal. For many releases some of the buffering classes in the JDK had a bug where an exception from flush within close caused close on the decorated object not be called. Whilst that has been fixed for some time, expect it from other implementations.

2)

try (
    FileWriter fw = new FileWriter(file);
    BufferedWriter bw = new BufferedWriter(fw)
) {
    bw.write(text);
}


We're still flushing in the implicit finally block (now with repeated close - this gets worse as you add more decorators), but the construction is safe and we have to implicit finally blocks so even a failed flush doesn't prevent resource release.

3)

try (FileWriter fw = new FileWriter(file)) {
    BufferedWriter bw = new BufferedWriter(fw);
    bw.write(text);
}


There's a bug here. Should be:

try (FileWriter fw = new FileWriter(file)) {
    BufferedWriter bw = new BufferedWriter(fw);
    bw.write(text);
    bw.flush();
}


Some poorly implemented decorators are in fact resource and will need to be closed reliably. Also some streams may need to be closed in a particular way (perhaps they are doing compression and need to write bits to finish off, and can't just flush everything.

Verdict

Although 3 is a technically superior solution, software development reasons make 2 the better choice. However, try-with-resource is still an inadequate fix and you should stick with the Execute Around idiom, which should have a clearer syntax with closures in Java SE 8.
    ","In version 3, how do you know that bw doesn't require its close to be called?  And even if you can be sure if it, isn't that also ""obscure knowledge"" like you mention for version 1?OOO""software development reasons make 2 the better choice"" Can you explain this statement in more detail?OOOCan you give an example of the ""Execute Around idiom with closures""OOOCan you explain what's ""clearer syntax with closures in Java SE 8""?OOOExample of ""Execute Around idiom"" is here: stackoverflow.com/a/342016/258772"
"123","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
The first style is the one suggested by Oracle. BufferedWriter doesn't throw checked exceptions, so if any exception is thrown, the program is not expected to recover from it, making resource recover mostly moot.

Mostly because it could happen in a thread, with the thread dieing but the program still continuing -- say, there was a temporary memory outage that wasn't long enough to seriously impair the rest of the program. It's a rather corner case, though, and if it happens often enough to make resource leak a problem, the try-with-resources is the least of your problems.
    ","It's also the recommended approach in the 3rd edition of Effective Java."
"124","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
Option 4

Change your resources to be Closeable, not AutoClosable if you can.  The fact that the constructors can be chained implies it isn't unheard of to close the resource twice.  (This was true before ARM too.)  More on this below.

Option 5

Don't use ARM and code very carefully to ensure close() isn't called twice!

Option 6

Don't use ARM and have your finally close() calls in a try/catch themselves.

Why I don't think this problem is unique to ARM

In all these examples, the finally close() calls should be in a catch block.  Left out for readability.

No good because fw can be closed twice.  (which is fine for FileWriter but not in your hypothetial example):

FileWriter fw = null;
BufferedWriter bw = null;
try {
  fw = new FileWriter(file);
  bw = new BufferedWriter(fw);
  bw.write(text);
} finally {
  if ( fw != null ) fw.close();
  if ( bw != null ) bw.close();
}


No good because fw not closed if exception on constructing a BufferedWriter.  (again, can't happen, but in your hypothetical example):

FileWriter fw = null;
BufferedWriter bw = null;
try {
  fw = new FileWriter(file);
  bw = new BufferedWriter(fw);
  bw.write(text);
} finally {
  if ( bw != null ) bw.close();
}

    ",NA
"125","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
I just wanted to build on Jeanne Boyarsky's suggestion of not using ARM but making sure the FileWriter is always closed exactly once. Don't think there are any problems here...

FileWriter fw = null;
BufferedWriter bw = null;
try {
    fw = new FileWriter(file);
    bw = new BufferedWriter(fw);
    bw.write(text);
} finally {
    if (bw != null) bw.close();
    else if (fw != null) fw.close();
}


I guess since ARM is just syntactic sugar, we can't always use it to replace finally blocks. Just like we can't always use a for-each loop to do something that is possible with iterators.
    ","If both your try and finally blocks throw exceptions, this construct will lose the first (and potentially more useful) one."
"126","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
To concur with earlier comments: simplest is (2) to use Closeable resources and declare them in order in the try-with-resources clause. If you only have AutoCloseable, you can wrap them in another (nested) class that just checks that close is only called once (Facade Pattern), e.g. by having private bool isClosed;. In practice even Oracle just (1) chains the constructors and doesn't correctly handle exceptions partway through the chain.

Alternatively, you can manually create a chained resource, using a static factory method; this encapsulates the chain, and handle cleanup if it fails part-way:

static BufferedWriter createBufferedWriterFromFile(File file)
  throws IOException {
  // If constructor throws an exception, no resource acquired, so no release required.
  FileWriter fileWriter = new FileWriter(file);
  try {
    return new BufferedWriter(fileWriter);  
  } catch (IOException newBufferedWriterException) {
    try {
      fileWriter.close();
    } catch (IOException closeException) {
      // Exceptions in cleanup code are secondary to exceptions in primary code (body of try),
      // as in try-with-resources.
      newBufferedWriterException.addSuppressed(closeException);
    }
    throw newBufferedWriterException;
  }
}


You can then use it as a single resource in a try-with-resources clause:

try (BufferedWriter writer = createBufferedWriterFromFile(file)) {
  // Work with writer.
}


The complexity comes from handling multiple exceptions; otherwise it's just ""close resources that you've acquired so far"". A common practice seems to be to first initialize the variable that holds the object that holds the resource to null (here fileWriter), and then include a null check in the cleanup, but that seems unnecessary: if the constructor fails, there's nothing to clean up, so we can just let that exception propagate, which simplifies the code a little.

You could probably do this generically:

static <T extends AutoCloseable, U extends AutoCloseable, V>
    T createChainedResource(V v) throws Exception {
  // If constructor throws an exception, no resource acquired, so no release required.
  U u = new U(v);
  try {
    return new T(u);  
  } catch (Exception newTException) {
    try {
      u.close();
    } catch (Exception closeException) {
      // Exceptions in cleanup code are secondary to exceptions in primary code (body of try),
      // as in try-with-resources.
      newTException.addSuppressed(closeException);
    }
    throw newTException;
  }
}


Similarly, you can chain three resources, etc.

As a mathematical aside, you could even chain three times by chaining two resources at a time, and it would be associative, meaning you would get the same object on success (because the constructors are associative), and same exceptions if there were a failure in any of the constructors. Assuming you added an S to the above chain (so you start with a V and end with an S, by applying U, T, and S in turn), you get the same either if you first chain S and T, then U, corresponding to (ST)U, or if you first chained T and U, then S, corresponding to S(TU). However, it would be clearer to just write out an explicit three-fold chain in a single factory function.
    ","Am I gathering correctly that one still needs to use try-with-resource, as in try (BufferedWriter writer = <BufferedWriter, FileWriter>createChainedResource(file)) { /* work with writer */ }?"
"127","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
Since your resources are nested, your try-with clauses should also be:

try (FileWriter fw=new FileWriter(file)) {
    try (BufferedWriter bw=new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
} catch (IOException ex) {
    // handle ex
}

    ","This is pretty much similar to my 2nd example. If no exception occurs, the FileWriter's close will be called twice."
"128","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
I would say don't use ARM and go on with Closeable. Use method like,

public void close(Closeable... closeables) {
    for (Closeable closeable: closeables) {
       try {
           closeable.close();
         } catch (IOException e) {
           // you can't much for this
          }
    }

}


Also you should consider calling close of BufferedWriter as it is not just delegating the close to FileWriter , but it does some cleanup like flushBuffer.
    ",NA
"129","Correct idiom for managing multiple chained resources in try-with-resources block?","2012-09-23T13:47:09",31562,"The Java 7 try-with-resources syntax (also known as ARM block (Automatic Resource Management)) is nice, short and straightforward when using only one AutoCloseable resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a FileWriter and a BufferedWriter that wraps it. Of course, this question concerns any case when some AutoCloseable resources are wrapped, not only these two specific classes.

I came up with the three following alternatives:

1)

The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:

static void printToFile1(String text, File file) {
    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This is nice and short, but it is broken. Because the underlying FileWriter is not declared in a variable, it will never be closed directly in the generated finally block. It will be closed only through the close method of the wrapping BufferedWriter. The problem is, that if an exception is thrown from the bw's constructor, its close will not be called and therefore the underlying FileWriter will not be closed.

2)

static void printToFile2(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
            BufferedWriter bw = new BufferedWriter(fw)) {
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will certainly be closed, but the underlying fw.close() will be called twice: not only directly, but also through the wrapping bw.close().

This should not be a problem for these two specific classes that both implement Closeable (which is a subtype of AutoCloseable), whose contract states that multiple calls to close are permitted:


  Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.


However, in a general case, I can have resources that implement only AutoCloseable (and not Closeable), which doesn't guarantee that close can be called multiple times:


  Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.


3)

static void printToFile3(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(text);
    } catch (IOException ex) {
        // handle ex
    }
}


This version should be theoretically correct, because only the fw represents a real resource that needs to be cleaned up. The bw doesn't itself hold any resource, it only delegates to the fw, so it should be sufficient to only close the underlying fw.

On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:


  Resource leak: 'bw' is never closed


So, which approach to go for? Or have I missed some other idiom that is the correct one?","java try-with-resources","Your first example isn't really demonstrative. If FileWriter throws an exception, then the resource certainly isn't opened and need not to be closed.OOOOf course, if the underlying FileWriter's constructor throws an exception, it doesn't get even opened and everything is OK. What the 1st example is about, is what happens if the FileWriter gets created, but the BufferedWriter's constructor throws an exception.OOOIts worth noting that BufferedWriter will not throw an Exception. Is there an example you can think of where this question not pure academic.OOO@PeterLawrey Yes, your're right that the BufferedWriter's constructor  in this scenario most probably will not throw an exception, but as I've pointed out, this question concerns any decorator-style resources. But for example public BufferedWriter(Writer out, int sz) can throw an IllegalArgumentException. Also, I can extend BufferedWriter with a class that would throw something from its constructor or create a whatever custom wrapper that I need.OOOThe BufferedWriter constructor can easily throw an exception. OutOfMemoryError is probably the most common one as it allocates a fair chunk of memory for the buffer (although may indicate you want to restart the entire process). / You need to flush your BufferedWriter if you don't close and want to keep the contents (generally only the non-exception case). FileWriter picks up whatever happens to be the ""default"" file encoding - it's better to be explicit.OOO@Natix I wish all question in SO are as well researched and clear as this one is. I wish I could up vote this 100 times.","
My solution is to do a ""extract method"" refactoring, as following:

static AutoCloseable writeFileWriter(FileWriter fw, String txt) throws IOException{
    final BufferedWriter bw  = new BufferedWriter(fw);
    bw.write(txt);
    return new AutoCloseable(){

        @Override
        public void close() throws IOException {
            bw.flush();
        }

    };
}


printToFile can be written either

static void printToFile(String text, File file) {
    try (FileWriter fw = new FileWriter(file)) {
        AutoCloseable w = writeFileWriter(fw, text);
        w.close();
    } catch (Exception ex) {
        // handle ex
    }
}


or

static void printToFile(String text, File file) {
    try (FileWriter fw = new FileWriter(file);
        AutoCloseable w = writeFileWriter(fw, text)){

    } catch (Exception ex) {
        // handle ex
    }
}


For class lib designers, I will suggest them extend the AutoClosable interface with an additional method to suppress the close. In this case we can then manually control the close behavior.

For language designers, the lesson is that adding a new feature could mean adding a lot others. In this Java case, obviously ARM feature will work better with a resource ownership transfer mechanism. 

UPDATE

Originally the code above requires @SuppressWarning since the BufferedWriter inside the function requires close().

As suggested by a comment, if flush() to be called before close the writer, we need to do so before any return (implicit or explicit) statements inside the try block. There is currently no way to ensure the caller doing this I think, so this must be documented for writeFileWriter.

UPDATE AGAIN

The above update makes @SuppressWarning unnecessary since it require the function to return the resource to the caller, so itself does not necessary being closed. Unfortunately, this pull us back to the beginning of the situation: the warning is now moved back to the caller side.

So to properly solve this, we need a customised AutoClosable that whenever it closes, the underline BufferedWriter shall be flush()ed. Actually, this shows us another way to bypass the warning, since the BufferWriter is never closed in either way.
    ","The warning has its meaning: Can we be sure here that the bw will actually write tha data out? It is buffered afterall, so it only has to write to disk sometimes (when the buffer is full and/or on flush() and close() methods). I guess the flush() method should be called. But then there's no need to use the buffered writer, anyway, when we're writing it out immediatelly in one batch. And if you don't fix the code, you could end up with data written to the file in a wrong order, or even not written to the file at all."
"130","Block Size relation in AES PyCrypto using Cipher block chaining","2014-09-01T15:13:12",645,"I am using numpy to create array of strings or bits in the following code and have tiny methods for conversions.

What I want to know is, given the plaintext, is it possible given a block_size = 128,
that full text can be decrypted using AES standard using ECB in the following code?

from operator import add
from itertools import imap, izip
import numpy as np

from Crypto.Cipher import AES

ASCII_BITS = 8

XOR = lambda k,m: k ^ m

#converts a string to list of binary repr of char
mbin = lambda word: imap(np.binary_repr,imap(ord, word))
#concatenates list of N ASCII_BIT binary repr of char to one string
string_to_bits = lambda word: reduce(add,(i.zfill(ASCII_BITS) for i in mbin(word)))

#Converts byte string to int to ascii character
bits_to_string = lambda bitstr: ''.join([chr(int(bitstr[i:i+ASCII_BITS], 2)) for i in xrange(0,len(bitstr), ASCII_BITS)])

#Convert byte string to 1D matrix of bits
strbits_to_bitmat = lambda X: np.matrix(list(X), dtype=int)
#Convert 1D matrix of bits to byte string
bitmat_to_strbits = lambda X: ''.join((np.matrix(X, dtype=str)).tolist()[0])

def arr_ascii_bin_strchops(string, block_size):
    '''Array of ASCII Binary String Chops of size block_size'''
    return (string[i:i+block_size] for i in xrange(0,len(string),block_size))


these are the standard conversion function im using.

arr_ascii_bin_strchops: chops a bit string into list of block_size length bit strings

aes encoder and decoder

def aes_encoder(block, key):
    #block = pad_bits_append(block, len(key))
    maxibit = abs(len(block)-len(key))
    block += ''.zfill(maxibit)
    # the pycrypto library expects the key and block in 8 bit ascii
    # encoded strings so we have to convert from the bit string
    block = bits_to_string(block)
    key = bits_to_string(key)
    ecb = AES.new(key, AES.MODE_ECB)
    return string_to_bits(ecb.encrypt(block))

def aes_decoder(block, key):
    #block = pad_bits_append(block, len(key))
    maxibit = abs(len(block)-len(key))
    block += ''.zfill(maxibit)
    # the pycrypto library expects the key and block in 8 bit ascii
    # encoded strings so we have to convert from the bit string
    block = bits_to_string(block)
    key = bits_to_string(key)
    #AES.new( self.key, AES.MODE_CBC, iv )
    ecb = AES.new(key, AES.MODE_ECB)
    return string_to_bits(ecb.decrypt(block))


CBC Encryption with its dependency method

def crypto_cal(m,k,cminus,block_size,block_enc):
    '''
    for Cipher Block Chaining - Main Block_Enc(M^IV,Key)
    '''
    m += ''.zfill(block_size - len(m))
    k += ''.zfill(block_size - len(k))
    cminus += ''.zfill(block_size - len(cminus))

    cminus = np.matrix(list(cminus), dtype=int)
    m = np.matrix(list(m), dtype=int)
    #convert 1D XORed matrix of int to byte string
    xor = ''.join(np.matrix(XOR(cminus,m),dtype=str).tolist()[0])
    cminus = block_enc(xor,k)  #xor = iv ^ mbloc0
    return cminus

def cipher_block_chaining(plaintext, key, init_vec, block_size, block_enc):
    """"""Return the cbc encoding of `plaintext`

    Args:
        plaintext: bits to be encoded
        key: bits used as key for the block encoder
            init_vec: bits used as the initalization vector for
                  the block encoder
        block_size: size of the block used by `block_enc`
        block_enc: function that encodes a block using `key`
    """"""
    cipher = []
    key = string_to_bits(key)
    iv = string_to_bits(init_vec)
    plaintext = string_to_bits(plaintext)

    mbloc = arr_ascii_bin_strchops(plaintext,block_size)
    kbloc = arr_ascii_bin_strchops(key,block_size)
    iv = next(arr_ascii_bin_strchops(iv,block_size))
    mbloc0 = next(mbloc)
    kbloc0 = next(kbloc)
    cminus = crypto_cal(mbloc0,kbloc0,iv,block_size,block_enc)
    cipher.append(cminus)

    for m,k in izip(mbloc, kbloc):
        assert len(cminus) == block_size  #len(''.zfill(block_size - len(cminus)))
        cminus = crypto_cal(m,k,cminus,block_size,block_enc)
        cipher.append(cminus)
    return ''.join(cipher)


CBC Decryption with its dependency method

def decrypto_cal(cipher_msg,key,cminus,block_size,block_enc):
    key += ''.zfill(block_size - len(key))
    cminus += ''.zfill(block_size - len(cminus))

    return bitmat_to_strbits(XOR(strbits_to_bitmat(block_enc(cipher_msg,key)),\
    strbits_to_bitmat(cminus)))

def cipher_block_decrypt(cipher, key, init_vec, block_size, block_enc):
    '''
    Return the cbc decoding of `cipher`

    Args:
        cipher: bit string to be decoded
        key: bits used as symmetric key for the block decoder
            init_vec: bits used as the initalization vector for
                  the block encoder/decoder
        block_size: size of the block used by `block_enc`
        block_enc: function that decodes a block using `key`
    '''
    cipher_blocks = []
    key = string_to_bits(key)
    iv = string_to_bits(init_vec)
    cipher = string_to_bits(cipher)
    #print ""init vec {}"".format(init_vec)
    iv = next(arr_ascii_bin_strchops(iv,block_size))
    kbloc = (arr_ascii_bin_strchops(key,block_size))
    cipher_chops = (arr_ascii_bin_strchops(cipher, block_size))
    lst = zip(cipher_chops, kbloc)
    cipher_blocks.extend([decrypto_cal(cipher_msg,key,lst[num-1][0],block_size,block_enc)\
     if num > 0 else decrypto_cal(cipher_msg,key,iv,block_size,block_enc) \
     for num,(cipher_msg,key) in enumerate(lst)])

    return ''.join(cipher_blocks)


def test():
    block_size = 256
    key = '4h8f.093mJo:*9#$'
    iv = '89JIlkj3$%0lkjdg'
    plaintext = ""One if by land; two if by sea""
    cipher = (cipher_block_chaining(plaintext, key, iv, block_size, aes_encoder))
    cipher = bits_to_string(cipher)
    print ""cipher {}"".format(cipher)
    msg_bits = cipher_block_decrypt(cipher, key, iv, block_size, aes_decoder)
    p = bits_to_string(msg_bits)
    print p
    return


it works using 256 block size and im able to decrypt back the whole plaintext but using 128, only


  One if by land;


gets decrypted.

Why is that when im only slicing bit strings of that size? It should not limit the string length.
Is there some method that im using that is limiting the total number of array of of strings?","python python-2.7 pycrypto","----------> TL;DR",NA,NA
"131","How to read data from the block chain","2018-12-05T16:01:21",46,"I am new to implementing the blockchain locally. Suppose I have a blockchain,

How to retrieve the data that is being chained in the blockchain. 
Is it that only the transaction IDs are saved in the blockchain like the hashes or the actual data being stored in the network.
How can I retrieve the data if the latter is the case?","blockchain ibm-blockchain","Are you looking for assistance with the IBM Blockchain? You've tagged the question with it, but it's not clear from the question or the title.OOOI tagged ibm-blockchain, not with any of such intentions but would like to know what it means...OOOibm-blockchain refers to the blockchain platform provided by IBM (see: ibm.com/blockchain). Since you tagged it, I assumed that you were asking for help with that specific platform.OOO@SaiChandAkella Are you asking how to do this in general or with a specific blockchain platform?OOOI am asking for the general case. I am still reading about the blockchain architectures and the functionality. I was curious to know how to read the immutable data from the chain. That was my question.","

  How to retrieve the data that is being chained in the blockchain.


You can store the data however you like. A blockchain is just a data structure similar to a linked list, nothing more. Thus, you can store it as flat file (which Bitcoin Core does), or in database, etc. Bitcoin also stores a LevelDB containing an index of the block files so it knows how and where to retrieve data for a given block. It can also be configured to store an index of every transaction by txid using the -txindex flag at startup of bitcoind.


  Is it that only the transaction IDs are saved in the blockchain like the hashes or the actual data being stored in the network.


The blockchain contains all of the transactions that have every occurred on the network. This way all transactions can be validated by all of the participants on the network to make sure there was no double spending, etc. Otherwise you don't know if the coins you received are valid.


How can I retrieve the data if the latter is the case?



How do you want to be able to retrieve the data? If you want to be able to search by block number or block hash, for example, just index the data by block number or block hash. That way you can quickly query the dataset (the blockchain) by block number/hash.

If you want to be able to search for specific transactions, then just index it by txid.
    ",NA
"132","I am Searching AES encryption decryption algorithm of Cipher Block Chaining (CBC) with PKCS7Padding in Java","2019-12-03T09:16:23",32,"During our online search we have not found any code supporting PKCS7Padding.

Below C# code working for AES Encryption/Decryption ,Similar to this java code is not available. 
Our requirement is 
Advanced Encryption Standard (AES) for Payload Encryption.
<U+2022> Cipher Mode Operation : Cipher Block Chaining (CBC) with PKCS7Padding
<U+2022> Cryptographic Key : 256 bits
<U+2022> IVector : First 16 byte of cryptographic key (Secret Key)

C#:-

private string EncryptData(string strEncrypted, string strKey)
        {
            string encString = """";

            RijndaelManaged objrij = null;
            try
            {
                objrij = new RijndaelManaged();
                objrij.Mode = CipherMode.CBC;
                objrij.Padding = PaddingMode.PKCS7;
                objrij.KeySize = 0x80;
                objrij.BlockSize = 0x80;
                byte[] passBytes = HexStringToByte(strKey);
                byte[] EncryptionkeyBytes = new byte[16];
                int len = passBytes.Length;
                if (len > EncryptionkeyBytes.Length)
                {
                    len = EncryptionkeyBytes.Length;
                }
                Array.Copy(passBytes, EncryptionkeyBytes, len);
                objrij.Key = passBytes;
                objrij.IV = EncryptionkeyBytes;
                ICryptoTransform objtransform = objrij.CreateEncryptor();
                byte[] textDataByte = Encoding.UTF8.GetBytes(strEncrypted);
                encString =  Convert.ToBase64String(objtransform.TransformFinalBlock(textDataByte, 0, textDataByte.Length));
            }
            catch (Exception ex)
            {
                ex.ToString();
            }
            return encString;
        }


key:-""ZydrduQ6vGni8tBvODRTOaem9sWS5M4Z""
Java Code not supported for CBC with PKCS7Padding:-

  public String Encrypt(final String text, final String key) 
    {
        try
        {
            final Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
            final byte[] keyBytes = new byte[16];

            final byte[] b = HexToAscii(key);                  //key.getBytes(""UTF-8"");
            int len = b.length;
            if (len > keyBytes.length)
            {
                len = keyBytes.length;
            }
            System.arraycopy(b, 0, keyBytes, 0, len);
            final SecretKeySpec keySpec = new SecretKeySpec(b, ""AES"");
            final IvParameterSpec ivSpec = new IvParameterSpec(keyBytes);
            cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);
            final byte[] results = cipher.doFinal(text.getBytes(""UTF-8""));
            final BASE64Encoder encoder = new BASE64Encoder();
            encString = encoder.encode(results);
        }
        catch(Exception ex)
        {

        exce = ex.toString();
        }
    return encString;
}


Please reply with working java code for AES Encryption/Decryption with PKCS7Padding.","java c#","Does this answer your question? Encrypt text to AES/CBC/PKCS7Padding",NA,NA
"133","What is the best way to stop a chain of block based animations","2011-11-18T22:59:34",7009,"Assuming a chain of block based animations like the following:

UIView * view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];

//animation 1
[UIView animateWithDuration:2 delay:0 options:UIViewAnimationOptionCurveLinear animations:^{
     view.frame = CGRectMake(0, 100, 200, 200);
} completion:^(BOOL finished){

     //animation 2
     [UIView animateWithDuration:2 delay:0 options: UIViewAnimationOptionRepeat |UIViewAnimationOptionAutoreverse animations:^{
          [UIView setAnimationRepeatCount:1.5];
          view.frame = CGRectMake(50, 100, 200, 200);   
     } completion:^(BOOL finished){

          //animation 3
          [UIView animateWithDuration:2 delay:0 options:0 animations:^{
               view.frame = CGRectMake(50, 0, 200, 200);
          } completion:nil];
     }];
}];


What would be the best way to stop this kind of animation? Just calling

[view.layer removeAllAnimations];


is not enough, because that stops only the currently executing animation block and the rest will execute in sequence.","iphone objective-c ios ipad ios4","Does the compiler allow that? I ran into trouble with nesting blocks about that deep. (Can't remember now if it was gcc or clang <U+2014> more likely, clang allowed more depth but still not a lot.)OOOBlock based animation is supported in iOS 4 and higher. The nesting works perfectly.OOOThen either the compiler bug got fixed, you're using clang, or you haven't hit the limit.OOOI am using clang.","
You can consult the finished BOOL passed in to your completion blocks. It will be NO in the case that you've called removeAllAnimations.
    ","The finished BOOL is YES after I call removeAllAnimations.OOOIt should be NO like you say, but it is YES... ""This block has no return value and takes a single Boolean argument that indicates whether or not the animations actually finished before the completion handler was called""OOOIn all of your completion blocks? It should be NO if the animation doesn't complete. Otherwise, I think your other solution is the right thing to do.OOOIf you used CAAnimations directly, I suspect it would work. Perhaps the UIView is doing something else to trigger the callback which doesn't play nicely with the lower-level removeAllAnimations on the CALayer.OOOJesse what you suggested works when the UIViewAnimationOptionAllowUserInteraction option is set.OOOWow, that's a pretty random discovery. I wonder why that matters."
"134","What is the best way to stop a chain of block based animations","2011-11-18T22:59:34",7009,"Assuming a chain of block based animations like the following:

UIView * view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];

//animation 1
[UIView animateWithDuration:2 delay:0 options:UIViewAnimationOptionCurveLinear animations:^{
     view.frame = CGRectMake(0, 100, 200, 200);
} completion:^(BOOL finished){

     //animation 2
     [UIView animateWithDuration:2 delay:0 options: UIViewAnimationOptionRepeat |UIViewAnimationOptionAutoreverse animations:^{
          [UIView setAnimationRepeatCount:1.5];
          view.frame = CGRectMake(50, 100, 200, 200);   
     } completion:^(BOOL finished){

          //animation 3
          [UIView animateWithDuration:2 delay:0 options:0 animations:^{
               view.frame = CGRectMake(50, 0, 200, 200);
          } completion:nil];
     }];
}];


What would be the best way to stop this kind of animation? Just calling

[view.layer removeAllAnimations];


is not enough, because that stops only the currently executing animation block and the rest will execute in sequence.","iphone objective-c ios ipad ios4","Does the compiler allow that? I ran into trouble with nesting blocks about that deep. (Can't remember now if it was gcc or clang <U+2014> more likely, clang allowed more depth but still not a lot.)OOOBlock based animation is supported in iOS 4 and higher. The nesting works perfectly.OOOThen either the compiler bug got fixed, you're using clang, or you haven't hit the limit.OOOI am using clang.","
I use the following approach:

UIView * view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];

//set the animating flag
animating = YES;

//animation 1
[UIView animateWithDuration:2 delay:0 options:UIViewAnimationOptionCurveLinear | UIViewAnimationOptionAllowUserInteraction animations:^{
     view.frame = CGRectMake(0, 100, 200, 200);
} completion:^(BOOL finished){
     //stops the chain
     if(! finished) return;

     //animation 2
     [UIView animateWithDuration:2 delay:0 options: UIViewAnimationOptionRepeat |UIViewAnimationOptionAutoreverse | UIViewAnimationOptionAllowUserInteraction  animations:^{
          [UIView setAnimationRepeatCount:1.5];
          view.frame = CGRectMake(50, 100, 200, 200);   
     } completion:^(BOOL finished){
          //stops the chain
          if(! finished) return;

          //animation 3
          [UIView animateWithDuration:2 delay:0 options:0 animations:^{
               view.frame = CGRectMake(50, 0, 200, 200);
          } completion:nil];
    }];
}];

- (void)stop {
     animating = NO;
     [view.layer removeAllAnimations];
}


The removeAllAnimations message stops the animating block immediately and its completion block is called. The animating flag is checked there and the chain is stopped.

Is there a better way to do it?
    ","In some cases you might want to remove the animations from all views.     for(UIView * view in [self.view subviews])     {         [view.layer removeAllAnimations];     }OOOYou did not set UIViewAnimationOptionAllowUserInteraction in options. How stop is invoked? User taps/pans? If so, then stop is not called according to your code. Have a look... Anyhow, finished should be used, as explained above.OOOYou are right the animating flag is unnecessary, adding the UIViewAnimationOptionAllowUserInteraction option and replacing if(! animating) return; with if (! finished) return; is the way to do it.OOOThank you ! saved me hours !"
"135","Are there any ¡°Alternatives¡± for Ganache used for personal blockchain testing?","2019-03-19T18:33:19",30,"I am new to block chain development ,I am using a 32 bit system which Ganache does not support which is used for personal block chain testing. 

Are there any blockchain  alternatives for ganache?","x86 blockchain cryptocurrency ganache","github.com/trufflesuite/ganache-cli and ganache-core are written in JavaScript.  That should be architecture-neutral.  What's stopping you from installing it from source?  Is it really not portable to 32-bit, or do they just not provide pre-built 32-bit binaries for whatever OS you're using?",NA,NA
"136","When creating a block through a transaction, is it proper to write the device's private key as a signature on the block?","2018-04-10T01:14:49",46,"I want to create a block-chain environment for devices.
When creating a block through a transaction, is it proper to write the device's private key as a signature on the block?","hyperledger-fabric blockchain hyperledger",NA,"
Never (ever) reveal the private key for anything - person, phone or device.   The public key is what is shared with other parties.

WRT blockchain and especially Hyperledger Fabric, transactions submitted are signed with the private key and the signature is actually around a transaction containing the public key.
    ",NA
"137","When creating a block through a transaction, is it proper to write the device's private key as a signature on the block?","2018-04-10T01:14:49",46,"I want to create a block-chain environment for devices.
When creating a block through a transaction, is it proper to write the device's private key as a signature on the block?","hyperledger-fabric blockchain hyperledger",NA,"
That's a huge security flaw and defeats one of the key benefits of BC. Look at your private key as your private password to your bank account, laptop, phone among others.  You definitely don't want anyone know about it. 

Short answer, No! 

Happy coding. 
    ",NA
"138","Can't return a promise chain with a catch block on the end","2018-12-13T21:41:10",426,"This used to work but with version 6 of PromiseKit this...

func checkIn(request: CheckinRequest) -> Promise<CheckinResponse> {

        let p = checkinService.checkIn(request: request)

            .then { r -> Promise<CheckinResponse> in

                return .value(r)

            }.catch { e in


            }

        return p
    }


... gives ...


  Cannot convert return expression of type 'PMKFinalizer' to return type
  'Promise'


How can I add a catch block and continue to return the chain to the calling function?","swift promisekit",NA,"
You just need to remove the catch block as below,

func checkIn(request: CheckinRequest) -> Promise<CheckinResponse> {
     let p = checkinService.checkIn(request: request)
          .then { r -> Promise<CheckinResponse> in
              return .value(r)
        }
      return p
}


Using the catching block here is irrelevant as the error should be handled by the callee.

Guarantee class is a wrapper class to make discardable result calls. So we can create a method that will process the promise so that we will just use the .done callback to use that result as below,

extension Promise {

    func result() -> Guarantee<T> {
        return Guarantee<T>(resolver: { [weak self] (body) in
            self?.done({ (result) in
                body(result)
            }).catch({ (error) in
                print(error)
            })
        })
    }
}


Now you can simply do,

let request = CheckinRequest()
checkinService.checkIn(request: request).result().done { response in
    // Check in response
}


You can still use chaining for multiple promises as below,

checkinService.checkIn(request: request).result().then { (result) -> Promise<Bool> in
        // Use reuslt
        return .value(true)
    }.done { bool in
        print(bool)
    }.catch { (e) in
        print(e)
}

    ","But then I have to repeat the catch block for every callee.OOOYes, that¡¯s how you can handle a promise. My guess is you want a method where you can tell the result type and get that result only. So for that you need to create a generic method with completion block and no return type of Promise. Anti-promise but this is what we needed. Call this completion in the .done callback of Promise and handle the error in catch block. Second option is to extend Promise by introducing a method that has discardableResult on the result to mute the catching block warning on every call.OOO@IanWarburton I updated the answer with one helper method. This could be helpful."
"139","Can't return a promise chain with a catch block on the end","2018-12-13T21:41:10",426,"This used to work but with version 6 of PromiseKit this...

func checkIn(request: CheckinRequest) -> Promise<CheckinResponse> {

        let p = checkinService.checkIn(request: request)

            .then { r -> Promise<CheckinResponse> in

                return .value(r)

            }.catch { e in


            }

        return p
    }


... gives ...


  Cannot convert return expression of type 'PMKFinalizer' to return type
  'Promise'


How can I add a catch block and continue to return the chain to the calling function?","swift promisekit",NA,"
Everything you need to know is described here, just scroll to section .catch{ /*¡¦*/ }.finally. 

You can use this solution if you want to keep the same functionality:

func checkIn(request: CheckinRequest) -> Promise<CheckinResponse> {
    let p = checkinService.checkIn(request: request).then { r -> Promise<CheckinResponse> in
        return .value(r)
    }
    p.catch { e in

    }
    return p
}


However, it is not recommended to use this pattern. catch is a chain  terminator. Therefore, you should refactor your code. Check Kamran's answer for inspiration.
    ",NA
"140","Decrypt string with AES Cipher Block Chaining in Rails","2011-12-22T06:48:23",2657,"I am having to implement a payment gateway in Rails that I've not worked with or seen before (Westpac's Payway in Australia if anyone is interested).

Their documentation isn't bad and the system is fairly logical, so much so that it's been quite painless so far (a miracle for payment integration).

Where there is an issue is that after the payment is POSTed directly to Westpac and the payment processed they redirect back to our site with a large encrypted parameter.  This is then meant to be decrypted by us to get access to the actual parameters.

Here is Westpac's guidance:


  The parameters are encrypted using AES with Cipher Block Chaining, using PCKS-5 
     Padding. The decryption algorithm should be initialised with a 16 byte, zero-filled 
     initialization vector, and should use your encryption key (which can be found on the    Security page of PayWay Net Shopping Cart setup).
  
  Before decryption, the parameters passed with the redirect will appear as follows:

  EncryptedParameters=QzFtdn0%2B66KJV5L8ihbr6ofdmrkEQwqMXI3ayF7UpVlRheR7r5fA6
  IqBszeKFoGSyR7c7J4YsXgaOergu5SWD%2FvL%2FzPSrZER9BS7mZGckriBrhYt%2FKMAbTSS8F
  XR72gWJZsul9aGyGbFripp7XxE9NQHVMWCko0NlpWe7oZ0RBIgNpIZ3JojAfX7b1j%2F5ACJ79S
  VeOIK80layBwCmIPOpB%2B%2BNI6krE0wekvkkLKF7CXilj5qITvmv%2FpMqwVDchv%2FUNMfCi
  4uUA4igHGhaZDQcV8U%2BcYRO8dv%2FnqVbAjkNwBqxqN3UPNFz0Tt76%2BP7H48PDpU23c61eM
  7mx%2FZh%2Few5Pd0WkiCwZVkSZoov97BWdnMIw5tOAiqHvAR3%2BnfmGsx



Westpac has no Rails demos but they do have PHP.  Here is the PHP demo:

function decrypt_parameters( $base64Key, $encryptedParametersText, $signatureText )
{
    $key = base64_decode( $base64Key );
    $iv = ""\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"";
    $td = mcrypt_module_open('rijndael-128', '', 'cbc', '');

    // Decrypt the parameter text
    mcrypt_generic_init($td, $key, $iv);
    $parametersText = mdecrypt_generic($td, base64_decode( $encryptedParametersText ) );
    $parametersText = pkcs5_unpad( $parametersText );
    mcrypt_generic_deinit($td);
}


Here is what I've tried in Rails: 

def Crypto.decrypt(encrypted_data, key, iv, cipher_type)
    aes = OpenSSL::Cipher::Cipher.new(cipher_type)
    aes.decrypt
    aes.key = key
    aes.iv = iv if iv != nil
    aes.update(encrypted_data) + aes.final  
end

iv = ""\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0""
key = Base64.decode64(""mysecretkey"")
data = Base64.decode64(""QzFtdn0%2B66KJV5L8ihbr6ofdmrkEQwqMXI3ayF7UpVlRheR7r5fA6
     IqBszeKFoGSyR7c7J4YsXgaOergu5SWD%2FvL%2FzPSrZER9BS7mZGckriBrhYt%2FKMAbTSS8F
     XR72gWJZsul9aGyGbFripp7XxE9NQHVMWCko0NlpWe7oZ0RBIgNpIZ3JojAfX7b1j%2F5ACJ79S
     VeOIK80layBwCmIPOpB%2B%2BNI6krE0wekvkkLKF7CXilj5qITvmv%2FpMqwVDchv%2FUNMfCi
     4uUA4igHGhaZDQcV8U%2BcYRO8dv%2FnqVbAjkNwBqxqN3UPNFz0Tt76%2BP7H48PDpU23c61eM
     7mx%2FZh%2Few5Pd0WkiCwZVkSZoov97BWdnMIw5tOAiqHvAR3%2BnfmGsx"")

cleartext = Crypto.decrypt(data, key, iv, ""AES-128-CBC"")


And I simply pass in the same initialization vector as noted in the PHP, though I'm not sure this is correct for Rails.

In any event, the key is provided and easy to Base64 decode, as are the Encrypted Parameters.  At the end of the day, I'm getting this error:

cipher.rb:21:in `final': wrong final block length (OpenSSL::Cipher::CipherError)
from cipher.rb:21:in `decrypt'
from cipher.rb:29:in `<main>'


Admittedly, I'm out of my depth on this Crypto stuff but am up against a wall and do not have the time (despite the interest) to learn more.","ruby-on-rails ruby cryptography encryption","Well the ciphertext (encrypted_data) needs to be a multiple of 16 bytes long. Do you have decoded the input with base64? If you do this already, could you please add that code to the question?OOOSure, the code has been added.OOOHmm I guess the EncryptedParameter-data needs to be ""URI unescaped"" first: data = Base64.decode64(URI.unescape(""the string..""))OOOHave a look at this question maybe: stackoverflow.com/questions/1862710/¡¦OOOThanks, I'll take a look shortly.  They look useful, I had not come across them in my search.OOOvstm - Your answer was correct.  Having had a fresh look at it this morning, I am not sure how I missed this.  Frankly, it's extremely logical and you can see it just looking at the EncryptedParameters!  If you want to claim the official answer, please feel free to type it up...alternately I will.OOO@vstm: Please post your comment (maybe a bit expanded) as an answer, so chexton can accept it. (After reading the question I had the same idea ...) (chexton: prefix a username with @ so the user will get notified about the comment. The post owner (i.e. you) will always get notified.)OOO@Pa<U+016D>loEbermann: thank you for the notification! - I've added my answer now with a little more details.","
The problem was, that the input data was additionally ""URI-escaped"" and ruby's base64-decoder did not ""care"" about the invalid base64-input (% is no base64-digit), so no error was raised. 

The solution was to ""unescape"" the URI-encoding with URI.unescape:

require 'uri'

data = Base64.decode64(
    URI.unescape(""QzFtdn0%2B66 ... Iw5tOAiqHvAR3%2BnfmGsx""))


Of course, if the input data is received from a GET/POST parameter, the input data is most probably already ""unescaped"" by your web-stack - just as a note of caution (double unescape may cause problems if a percent-sign % appears in the input data). 
    ","In PHP also the decryption not works well bcoz of not applying urldecode() , any way thank for the head up."
"141","Block chain data will lose in Hyperleger composer network","2019-03-22T05:35:23",95,"I Just create a hyper ledger composer network in production level. There are many data(Participant and asset) is existing in my composer blockchain( That is on CouchDB). My main problem is I need to set up a hyper ledger explorer for my existing network. I already use https://github.com/hyperledger/blockchain-explorer. But the issue is my network orderer port is not synced with explorer( I already post a question regarding this issue Hyperledger explorer starting problem- orderer port communication issue. Unfortunately no replay).

At this moment I decided to stop the running hyper ledger composer network and start again it without any data(participant and asset data) lose. Actually restart the network without data loss is possible...???

Have any other suggestion is available to resolve my issue..???

Any suggestion is much appreciated..

Thank you.

OS: Ubuntu 16.04

Composer: 0.19.16

Fabric: 1.1.0","hyperledger-fabric hyperledger hyperledger-composer",NA,"
When you stop your business network using stopFaric.sh under fabric-dev-servers (or fabric-tools). It will stop fabric Containers and after that run startFabric.sh it will recreate new Containers from the Docker Images. Impact of this is that you lose all data(assets, participant, transaction etc) of your business network.

So if you want to stop and start your fabric without loss of existing data. Then follow below commands :

Need to change the directory where the docker-compose.yml(/home/<user>/fabric-dev-servers/fabric-scripts/hlfv11/composer) file is, and 

Run docker-compose stop to stop the Fabric then 

Run docker-compose start to restart Fabric it will start your network with existing data. Make sure you are in the correct folder.

Hope, it will help you :)
    ","Thanks for responding Isha Padalia. Stoping is possible using the command docker stop $(docker ps -q)  And then start using ARCH=$ARCH docker-compose -f ""${DIR}""/network-config/docker-compose-kafka.yml up -d. Which is a best practice....???OOOSorry. I got the error that  while try to call composer rest api ""message"": ""Error trying invoke business network with transaction id de88fe44638f57beb2cda9350e140b60386bce0f51d142b7bbeaa41208fc4e7e. Error: Failed to send peer responses for transaction 'de88fe44638f57beb2cda9350e140b60386bce0f51d142b7bbeaa41208fc4e7e' to orderer. Response status 'SERVICE_UNAVAILABLE'""OOOHey please respondOOOI had also successfully restart my business network with the same command. I think your order service was not running perfectly. check your running docker images with docker ps."
"142","How i can use NPI number in blockchain doctors applciaiton for data verifcaiton?","2019-03-13T12:01:48",18,"I want to use National Provider Identifier (NPI) number, for physicians (individuals/Organizations) data verification in block-chain based application. but in my searching i couldn't get any way which i can use NPI numbers for doctors verification by using block-chain base application.

Can any one please give me answer about this as, is this possible to create an application by using core components of block-chain and use NPI number for users vitrification? 

Thanks in advance","components blockchain development-environment core",NA,NA,NA
"143","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
First: The term monad is a bit vacuous if you are not a mathematician. An alternative term is computation builder which is a bit more descriptive of what they are actually useful for.

You ask for practical examples:

Example 1: List comprehension:

[x*2 | x<-[1..10], odd x]


This expression returns the doubles of all odd numbers in the range from 1 to 10. Very useful!

It turns out this is really just syntactic sugar for some operations within the List monad. The same list comprehension can be written as:

do
   x <- [1..10]
   guard (odd x)
   return (x * 2)


Or even:

[1..10] >>= (\x -> guard (odd x) >> return (x*2))


Example 2: Input/Output:

do
   putStrLn ""What is your name?""
   name <- getLine
   putStrLn (""Welcome, "" ++ name ++ ""!"")


Both examples use monads, AKA computation builders. The common theme is that the monad chains operations in some specific, useful way. In the list comprehension, the operations are chained such that if an operation returns a list, then the following operations are performed on every item in the list. The IO monad on the other hand performs the operations sequentially, but passes a ""hidden variable"" along, which represents ""the state of the world"", which allows us to write I/O code in a pure functional manner.

It turns out the pattern of chaining operations is quite useful and is used for lots of different things in Haskell.

Another example is exceptions: Using the Error monad, operations are chained such that they are performed sequentially, except if an error is thrown, in which case the rest of the chain is abandoned.

Both the list-comprehension syntax and the do-notation are syntactic sugar for chaining operations using the >>= operator. A monad is basically just a type that supports the >>= operator.

Example 3: A parser

This is a very simple parser which parses either a quoted string or a number:

parseExpr = parseString <|> parseNumber

parseString = do
        char '""'
        x <- many (noneOf ""\"""")
        char '""'
        return (StringValue x)

parseNumber = do
    num <- many1 digit
    return (NumberValue (read num))


The operations char, digit, etc. are pretty simple. They either match or don't match. The magic is the monad which manages the control flow: The operations are performed sequentially until a match fails, in which case the monad backtracks to the latest <|> and tries the next option. Again, a way of chaining operations with some additional, useful semantics.

Example 4: Asynchronous programming

The above examples are in Haskell, but it turns out F# also supports monads. This example is stolen from Don Syme: 

let AsyncHttp(url:string) =
    async {  let req = WebRequest.Create(url)
             let! rsp = req.GetResponseAsync()
             use stream = rsp.GetResponseStream()
             use reader = new System.IO.StreamReader(stream)
             return reader.ReadToEnd() }


This method fetches a web page. The punch line is the use of GetResponseAsync - it actually waits for the response on a separate thread, while the main thread returns from the function. The last three lines are executed on the spawned thread when the response have been received. 

In most other languages you would have to explicitly create a separate function for the lines that handle the response. The async monad is able to ""split"" the block on its own and postpone the execution of the latter half. (The async {} syntax indicates that the control flow in the block is defined by the async monad.)

How they work

So how can a monad do all these fancy control-flow thing? What actually happens in a do-block (or a computation expression as they are called in F#), is that every operation (basically every line) is wrapped in a separate anonymous function. These functions are then combined using the bind operator (spelled >>= in Haskell). Since the bind operation combines functions, it can execute them as it sees fit: sequentially, multiple times, in reverse, discard some, execute some on a separate thread when it feels like it and so on. 

As an example, this is the expanded version of the IO-code from example 2:

putStrLn ""What is your name?""
>>= (\_ -> getLine)
>>= (\name -> putStrLn (""Welcome, "" ++ name ++ ""!""))


This is uglier, but it's also more obvious what is actually going on. The >>= operator is the magic ingredient: It takes a value (on the left side) and combines it with a function (on the right side), to produce a new value. This new value is then taken by the next >>= operator and again combined with a function to produce a new value. >>= can be viewed as a mini-evaluator.

Note that >>= is overloaded for different types, so every monad has its own implementation of >>=. (All the operations in the chain have to be of the type of the same monad though, otherwise the >>= operator won't work.)

The simplest possible implementation of >>= just takes the value on the left and applies it to the function on the right and returns the result, but as said before, what makes the whole pattern useful is when there is something extra going on in the monad's implementation of >>=. 

There is some additional cleverness in how the values are passed from one operation to the next, but this requires a deeper explanation of the Haskell type system.

Summing up

In Haskell-terms a monad is a parameterized type which is an instance of the Monad type class, which defines >>= along with a few other operators. In layman's terms, a monad is just a type for which the >>= operation is defined.

In itself >>= is just a cumbersome way of chaining functions, but with the presence of the do-notation which hides the ""plumbing"", the monadic operations turns out to be a very nice and useful abstraction, useful many places in the language, and useful for creating your own mini-languages in the language.

Why are monads hard?

For many Haskell-learners, monads are an obstacle they hit like a brick wall. It's not that monads themselves are complex, but that the implementation relies on many other advanced Haskell features like parameterized types, type classes, and so on. The problem is that Haskell I/O is based on monads, and I/O is probably one of the first things you want to understand when learning a new language - after all, it's not much fun to create programs which don't produce any output. I have no immediate solution for this chicken-and-egg problem, except treating I/O like ""magic happens here"" until you have enough experience with other parts of language. Sorry.

Excellent blog on monads:
http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html
    ","As someone who has had a great deal of problems understanding monads, I can say that this answer helped.. a little. However, there's still some things that I don't understand. In what way is the list comprehension a monad? Is there an expanded form of that example? Another thing that really bothers me about most monad explanations, including this one- Is that they keep mixing up ""what is a monad?"" with ""what is a monad good for?"" and ""How is a monad implemented?"".  you jumped that shark when you wrote ""A monad is basically just a type that supports the >>= operator."" Which just had me...OOOScratching my head. That seems like an implementation detail, and it doesn't really help me answer the question ""Why should I use a monad"". It may be true, but the explanation up until that point didn't prepare me for it. I wasn't thinking "" Why that's a tricky problem indeed, why, what I would need for that is some kind of type which supports the >>= operator. Oh hey, turns out that's what a monad is!"" nope, that wasn't running through my head, because I didn't know what a >>= operator was, or what THAT's good for, nor was I presented with a problem that it solves.OOOYou made up for it later of course, a little bit, but I'm afraid I still don't know the answer to the question ""What is a monad"", let alone a simple succinct explanation.OOOAlso I disagree with your conclusion about why monads are hard. If monads themselves aren't complex, then you should be able to explain what they are without a bunch of baggage. I don't want to know about the implementation when I ask the question ""What is a monad"", I want to know what itch it's meant to be scratching. So far it seems like the answer is ""Because the authors of haskell are sadomasochists and decided that you should do something stupidly complex to accomplish simple things, so you HAVE to learn monads to use haskell, not because they're in any way useful in themselves""...OOOBut.. that can't be right, can it? I think monads are hard because nobody can seem to figure out how to explain them without getting caught up in confusing implementation details. I mean.. what is a school bus? It's a metal platform with a device in the front which consumes a refined petroleum product to drive in a cycle some metallic pistons, which in turn rotate a crank shaft attached to some gears which drive some wheels. The wheels have inflated rubber bags around them which interface with an ashphalt surface to cause a collection of seats to move forward. The seats move forward because...OOOExcellent answer, you got my vote. But one small detail - to be monad, type has to have defined not just bind operator (>>=) but return function too.OOOI completely agree with @Breton. You gave good examples of what kinds of code uses monads but you failed, IMO, to explain what a monad is and how it works, which is what's important.OOOBreton, and @musicfreak, he did explain what a monad is and how it works ... but for some reason you weren't able to follow it. I want to help, but I already know too much because I'm a little (just a little) ahead of you on the learning curve. If we can work together to find the gap, I would be glad to help close it. If you've already learned the answers, of course, then please let me know. Let me answer one question which may be part of the gap -- ""Why do we need monads in addition to the rest of Haskell?"" We need monads because we want to be able to write a series of ""things""...OOO(and things is just ""snippets of code""), and express that those things are ""joined together"", without having to repeat everywhere what ""joined together"" means in the specific case. For example, say you're processing XML, and you need to get to the third Transaction element, to its fourth LineItem element, and read its Quantity attribute. Simple enough. You could even write an XPATH to get right to it. But it is complicated by the aggravating fact that each of these items might be missing entirely. So, is there even a 3rd Transaction element? What if the doc has only 2 Transaction elements...OOO... or none at all? What if it DOES have 3 Transaction elements, but the 3rd Transaction element does NOT have a 4th LineItem element? And finally, what if there is a 4th LineItem element, but that element does not have a Quantity attribute? This becomes a pain in the ass because your code to walk the path to the Quantity attribute you care about is ""littered"" with a whole bunch of error checking code to deal with the cases where the items you need are missing from the document. Haskell wants to be a powerful programming language that solves these thorny expressiveness problems...OOO...for you. In this case, Haskell can solve the problem. Why? Because Haskell is very good at dealing with anonymous functions. If you give Haskell a list of anonymous functions, it can carry that list around and execute those functions later, and with different parameters, etc. Therefore, Haskell can allow you to write your ""path walking"" code to get to the Quantity attribute without littering it with error checking code. You would write your path walking code as a list of anonymous functions, and you will use a syntax that says, ...OOO... ""this anonymous function is joined to that one, which is joined to this other one"". And separately, in an entirely different place in your code, you define what ""joined to"" means. In the example of walking XML to find the Quantity attribute, ""joined to"" will be defined as ""proceed to the next anonymous function IF the previous anonymous function found the XML node it expected to find. Otherwise, stop evaluating all the anonymous functions and report an error."" So ... I think this explains ...OOOwhy monads exist in Haskell, why you'd want to use one, and part (the most important part) of how they work. If you couple this with JacquesB's excellent answer, are we getting somewhere? What is your next burning question?OOOI read all of this and still don't know what a monad is, aside from the fact that it's something Haskell programmers don't understand well enough to explain. The examples don't help much, given that these are all things one can do without monads, and this answer doesn't make it clear how monads make them any easier, only more confusing. The one part of this answer that came close to being useful was where the syntactic sugar of example #2 was removed. I say came close because, aside from the first line, the expansion doesn't bear any real resemblance to the original.OOOAnother problem that seems to be endemic to explanations of monads is that it's written in Haskell. I'm not saying Haskell is a bad language -- I'm saying it's a bad language for explaining monads. If I knew Haskell I'd already understand monads, so if you want to explain monads, start by using a language that people who don't know monads are more likely to understand. If you must use Haskell, don't use the syntactic sugar at all -- use the smallest, simplest subset of the language you can, and don't assume an understanding of Haskell IO.OOOHaving done an honours-level university subject entirely dedicated to functional programming and been pronounced an ""advanced Haskell programmer"" by my lecturer... I still feel like I only vaguely know what monads are. I think the trouble is that monads are very very abstract concepts (which is what makes them so useful). I understand plenty of individual monads very well (list, IO, Maybe, Cont, ST, etc); what is elusive is what this thing called monad is that somehow unifies all those concepts.OOOAnd the trouble is, you can't give a nice clear concrete example of that. Because if you try... it's just List, or Maybe, or IO. Which are easy to grasp, but don't necessarily help the unenlightened see the whole of monads. I think this is why they're hard; they are indeed simple enough (the number of things you have to memorise to correctly implement and use monads is far smaller than what you need to know to use classes in Java, for example). But the unifying concept of monad is just very very abstract.OOOMonads come from category theory, which mathemeticians fondly refer to as ""general abstract nonsense."" they mean it as a compliment.OOO@LaurenceGonsalves i only have time right now to say one thing, but i hope it will help. You said you could do all this without a monad. And yes, you can. A monad is similiar to a dsl, in that you can do without dsl's. But they are nice because they make it easier to express and maintain what you're trying to express.OOO@CharlieFlowers Sorry, no, that doesn't help. You say monads make things easier to ""express and maintain"" without any evidence to back that up. On the contrary, I see lots of people that don't understand them, and piles of unhelpful tutorials which suggest that even the supposedly ""enlightened"" don't understand monads well enough to explain them. Your comparison to DSLs also makes me wonder if you're talking about do-notation rather than monads. I'd like to understand actual monads before learning about the sugar.OOO@LaurenceGonsalves i think you are conflating two separate things: first, the question, ""can we justify the existence of monads?""; and second, ""please help me understand what a monad is."" All of my comments in this answer are meant to help (if only in a small way) towards question # 2. I'm not really much interested in discussing question # 1 (Perfectly valid question, just not something i am all that interested in). So my comment about dsl's is not an argument in favor of monads, and therefore presenting evidence would be out of place.OOO@CharlieFlowers What was your comment, ""A monad is similiar to a dsl, in that you can do without dsl's. But they are nice because they make it easier to express and maintain what you're trying to express."" intended to be if not an argument in favor of monads?OOO@LaurenceGonsalves Like I said, it was an attempt to answer the question, ""please help me understand what a monad is."" You made the point that a monad is not necessary for solving the example problems people listed, and I responded, saying, ""That's right, they are not necessary. They are meant to be a nice 'bonus' to help improve your expressiveness."" This helps explain the monad's place in the grand scheme of things. They're not necessary for Turing-completeness, just as DSL's aren't. They're meant to help you improve your expressiveness (just as DSL's are).OOO@LaurenceGonsalves I agree with Charlie here. ""Monad"" mostly refers to an interface pattern useful for constructing complex behaviors in a purely functional way. Monads exist more for convenience rather than necessity. The Maybe monad is a great example of this. It's not necessary. You could just chain together long sequences of if-then-else statements in your code, but who wants to do that? So instead of using the ordinary function composition operator ., you use an 'overloaded' function composition operator which inserts the if-then-else stuff automatically. This operator is >>=.OOOThanks, @CharlieFlowers and OP. I think I have an understanding now of the monad, though it is quite a tenuous grasp. I suppose better understanding will come only when I actually start using these concepts.OOOHow is this example of >>= any different than C++ io >> and << operators? Is there a distinction that would help explain why one is a monad and the others not monads?OOO@gman If you were translating a Haskell IO function directly into C++: the >>= operator would translate into "";"", not "">>"" or ""<<"".OOO@JeremyList, the C/C++ ; operator would translate, approximately, to the Haskell >> operator. I don't think C or C++ have anything much like >>=.OOOPlease correct me if I am wrong:  Monads address a problem which also shows up in arithmetic as DivByZero error. In particular, a sequence of interdependent calculations must allow for the presence of a DivByZero exception. The Monadic solution is to embrace the Nullable<Number> and provide a function to ""lift"" (wrap) existing operations so as to accept Nullable<Number> and another to convert a Number to Nullable<Number>.OOOPlease correct me if I am wrong:  Monads address a problem which also shows up in arithmetic as DivByZero. In particular, a sequence of interdependent calculations must allow for the presence of a DivByZero exception.  The Monadic solution is to embrace the Nullable<Number> and provide a function to wrap the existing operators so as to allow them to accept Nullable<Number> (BIND) and another to life Numbers to Nullable<Number> (RETURN).  So, a Monad is a container or expanded type with functions that lift the target type to be expanded and a wrapper for it's operators to accept them.OOO@George You just described the Maybe monad. The other ones do different things. The problem with explaining monads is that each one on its own is pretty obvious but the fact that they have a common structure can be counter-intuitive at first.OOO@Jeremy I was trying to provide a type centric treatment. For example, that a monadic number may be defined to include a DivByZero as a value. Or, similarly, the state monad be considered an expansion of the operator to include a state or context parameter. And so on. Then the BIND and RETURN functions become monadic operators for wrapping or adapting existing values operations to the monadic version of their type. However, perhaps a type treatment is not sufficiently general.OOODid I understand this right if I walk away thinking that a monad is basically just a rigorous way of defining and discussing an algorithm, i.e. a set of steps to arrive at some result? I'm sure there's a lot of intricacies that statement ignores, but is that the gist of it?OOOThanks a lot for this. This is a good explanation and the final puzzle piece which made me see the whole picture. \o/OOO@jpmc26 I'd agree with that. The way that I like to express monads is that they provide a way to abstract away control flow patterns when you have operations that depend on the results of previous operations.OOOOne of the problems with Haskell is its use of arbitrarily defined symbols. As obvious as a symbol may appear to be, like the symbol for bind itself, >>=, quite of a lot of arbitrary stuff may be going on. I speak here concerning the use of, <|>, in the parse example. A definition is needed.OOO@George The <|> combinator is not from the language itself, it's defined in a library called Parsec which is used to build parsers (and it heavily relies in monadic abstractions). I don't know why OP didn't explain that in his answer.OOOGuys, monads are from the Math world. If you want to know what a monad is, you have to talk to a mathematician. Just because it is in some programming languages it doesn't mean programmers are suppose to explain what it is. For example, programming languages can sum numbers, but if you want to have an explanation about what summing is you have to talk to a mathematician. I hope it is clear now. My fellow programmers, stop trying to explain monads.OOOMy understanding has grown and I've been contemplating a rewrite of the above. Due to this current activity I think I may do so soon. @Gabriel the concept of monads is a concept in functional programming irrespective of its place or origin in mathematics.OOOI intentionally went a bit too far in my words to make my point clear. Of course some programmers are able to explain and understand what a monad is --and I am not one of them, by the way.OOOThis is a fantastic explanation. Thank you so much for your efforts. :)OOOCan someone explain me why does the if odd x works in the first example since x is a list. If i try : f=odd [1,2,3] .Why does it not break when inside the IO Monad ?"
"144","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
Explaining ""what is a monad"" is a bit like saying ""what is a number?"" We use numbers all the time. But imagine you met someone who didn't know anything about numbers. How the heck would you explain what numbers are? And how would you even begin to describe why that might be useful?

What is a monad? The short answer: It's a specific way of chaining operations together.

In essence, you're writing execution steps and linking them together with the ""bind function"". (In Haskell, it's named >>=.) You can write the calls to the bind operator yourself, or you can use syntax sugar which makes the compiler insert those function calls for you. But either way, each step is separated by a call to this bind function.

So the bind function is like a semicolon; it separates the steps in a process. The bind function's job is to take the output from the previous step, and feed it into the next step.

That doesn't sound too hard, right? But there is more than one kind of monad. Why? How?

Well, the bind function can just take the result from one step, and feed it to the next step. But if that's ""all"" the monad does... that actually isn't very useful. And that's important to understand: Every useful monad does something else in addition to just being a monad. Every useful monad has a ""special power"", which makes it unique.

(A monad that does nothing special is called the ""identity monad"". Rather like the identity function, this sounds like an utterly pointless thing, yet turns out not to be... But that's another story¢â.)

Basically, each monad has its own implementation of the bind function. And you can write a bind function such that it does hoopy things between execution steps. For example:

If each step returns a success/failure indicator, you can have bind execute the next step only if the previous one succeeded. In this way, a failing step aborts the whole sequence ""automatically"", without any conditional testing from you. (The Failure Monad.)
Extending this idea, you can implement ""exceptions"". (The Error Monad or Exception Monad.) Because you're defining them yourself rather than it being a language feature, you can define how they work. (E.g., maybe you want to ignore the first two exceptions and only abort when a third exception is thrown.)
You can make each step return multiple results, and have the bind function loop over them, feeding each one into the next step for you. In this way, you don't have to keep writing loops all over the place when dealing with multiple results. The bind function ""automatically"" does all that for you. (The List Monad.)
As well as passing a ""result"" from one step to another, you can have the bind function pass extra data around as well. This data now doesn't show up in your source code, but you can still access it from anywhere, without having to manually pass it to every function. (The Reader Monad.)
You can make it so that the ""extra data"" can be replaced. This allows you to simulate destructive updates, without actually doing destructive updates. (The State Monad and its cousin the Writer Monad.)
Because you're only simulating destructive updates, you can trivially do things that would be impossible with real destructive updates. For example, you can undo the last update, or revert to an older version.
You can make a monad where calculations can be paused, so you can pause your program, go in and tinker with internal state data, and then resume it.
You can implement ""continuations"" as a monad. This allows you to break people's minds!
All of this and more is possible with monads. Of course, all of this is also perfectly possible without monads too. It's just drastically easier using monads.
    ","I appreciate your answer<U+2014>especially the final concession that all of this is of course possible too without monads. One point to be made is that it's mostly easier with monads, but it's often not as efficient as doing it without them. Once you need to involve transformers, the extra layering of function calls (and function objects created) has a cost that's hard to see and control, rendered invisible by clever syntax.OOOIn Haskell at least, most of the overhead of monads gets stripped away by the optimiser. So the only real ""cost"" is in brain power required. (This is not insignificant if ""maintainability"" is something you care about.) But usually, monads make things easier, not harder. (Otherwise, why would you bother?)OOOI'm not sure whether or not Haskell supports this but mathematically you can define a monad either in terms of >>= and return or join and ap. >>= and return are what make monads practically useful but join and ap give a more intuitive understanding of what a monad is.OOOMy above comment said ap: I meant liftMOOO@JeremyList liftM is the same as fmap. To define a monad, return/pure is required, in addition to >>= or join.OOOComing from a non-math, non-functional programming background, this answer made the most sense to me.OOOThis is the first answer that actually gave me some idea of what the hell a monad is. Thank you for finding a way to explain it!OOOYour answer is absolutely brilliant! thanks a ton!OOOThis should be the accepted answer with most votes. Great explanation!OOO@MathematicalOrchid you mention ""chaining operations together"" and that gets me thinking of jQuery's chaining? Or is jQuery's implementation completely different? Is this also related to HoCs?"
"145","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
Actually, contrary to common understanding of Monads, they have nothing to do with state. Monads are simply a way to wrapping things and provide methods to do operations on the wrapped stuff without unwrapping it.

For example, you can create a type to wrap another one, in Haskell:

data Wrapped a = Wrap a


To wrap stuff we define

return :: a -> Wrapped a
return x = Wrap x


To perform operations without unwrapping, say you have a function f :: a -> b, then you can do this to lift that function to act on wrapped values:

fmap :: (a -> b) -> (Wrapped a -> Wrapped b)
fmap f (Wrap x) = Wrap (f x)


That's about all there is to understand. However, it turns out that there is a more general function to do this lifting, which is bind:

bind :: (a -> Wrapped b) -> (Wrapped a -> Wrapped b)
bind f (Wrap x) = f x


bind can do a bit more than fmap, but not vice versa. Actually, fmap can be defined only in terms of bind and return. So, when defining a monad.. you give its type (here it was Wrapped a) and then say how its return and bind operations work.

The cool thing is that this turns out to be such a general pattern that it pops up all over the place, encapsulating state in a pure way is only one of them.

For a good article on how monads can be used to introduce functional dependencies and thus control order of evaluation, like it is used in Haskell's IO monad, check out IO Inside.

As for understanding monads, don't worry too much about it. Read about them what you find interesting and don't worry if you don't understand right away. Then just diving in a language like Haskell is the way to go. Monads are one of these things where understanding trickles into your brain by practice, one day you just suddenly realize you understand them.
    ","-> is right-associative, mirroring function application, which is left-associative, so leaving the parentheses out doesn't make a difference here.OOOYour explanation did the trick for me. I would have added though a limited summing of some standard monads (reader, state, maybe, ...) to illustrate some practical uses and wrappingsOOOI don't think this is a very good explanation at all. Monads are simply A way? okay, which way? Why wouldn't I encapsulate using a class instead of a monad?OOOA longer explanation of this idea: blog.sigfpe.com/2007/04/trivial-monad.htmlOOOOne can substitute in f=Sqrt for the fmap example to better understand. To borrow notation from other languages, the fmap example boils down to fmap(f)([x]) means the same as [f(x)] (fmap(f) is the ""lifted"" version of f), and the bind example boils down to bind(fThenWrap)([x]) means to the same as fThenWrap(x). I'm curious why we'd have functions of the form a -> Wrapped b lying around though?OOOShouldn't it be: fmap :: (a -> b) -> Wrapped a -> Wrapped b ? haskell.org/haskellwiki/Monads_as_containersOOO@mb21: In case you're just pointing out that there are too many brackets, note that a->b->c is actually only short for a->(b->c). Writing this particular example as (a -> b) -> (Ta -> Tb) is strictly speaking just adding unncessary characters, but it's morally ""the right thing to do"" as it emphasises that fmap maps a function of type a -> b to a function of type Ta -> Tb. And originally, that's what functors do in category theory and that's where monads come from.OOO@NikolajK right, they're the same. I'm just more familiar of thinking about it in terms of map for list.OOOThis answer is misleading. Some monads do not have a ""wrapper"" at all, such a functions from a fixed value.OOO""Monads are simply a way to wrapping things and provide methods to do operations on the wrapped stuff without unwrapping it."" Classes can be used for the exact same thing, can't they? It's difficult for me to see the difference from that statement alone."
"146","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
But, You could have invented Monads!


  sigfpe says:
  
  
    But all of these introduce monads as something esoteric in need of explanation. But what I want to argue is that they aren't esoteric at all. In fact, faced with various problems in functional programming you would have been led, inexorably, to certain solutions, all of which are examples of monads. In fact, I hope to get you to invent them now if you haven't already. It's then a small step to notice that all of these solutions are in fact the same solution in disguise. And after reading this, you might be in a better position to understand other documents on monads because you'll recognise everything you see as something you've already invented.
    
    Many of the problems that monads try to solve are related to the issue of side effects. So we'll start with them. (Note that monads let you do more than handle side-effects, in particular many types of container object can be viewed as monads. Some of the introductions to monads find it hard to reconcile these two different uses of monads and concentrate on just one or the other.)
    
    In an imperative programming language such as C++, functions behave nothing like the functions of mathematics. For example, suppose we have a C++ function that takes a single floating point argument and returns a floating point result. Superficially it might seem a little like a mathematical function mapping reals to reals, but a C++ function can do more than just return a number that depends on its arguments. It can read and write the values of global variables as well as writing output to the screen and receiving input from the user. In a pure functional language, however, a function can only read what is supplied to it in its arguments and the only way it can have an effect on the world is through the values it returns.
  

    ","¡¦best way not only on the internet, but anywhere. (Wadler's original paper Monads for functional programming that I mentioned in my answer below is also good.) None of the zillions of tutorials-by-analogy come close.OOOThis JavaScript translation of Sigfpe's post is the new best way to learn monads, for people who don't already grok advanced Haskell!OOOThis is how I learned what a monad is. Walking the reader through the process of inventing a concept is often the best way to teach the concept.OOOHowever, a function accepting the screen object as argument and returning its copy with text modified would be pure."
"147","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
A monad is a datatype that has two operations: >>= (aka bind) and return (aka unit). return takes an arbitrary value and creates an instance of the monad with it. >>= takes an instance of the monad and maps a function over it. (You can see already that a monad is a strange kind of datatype, since in most programming languages you couldn't write a function that takes an arbitrary value and creates a type from it. Monads use a kind of parametric polymorphism.)

In Haskell notation, the monad interface is written

class Monad m where
  return :: a -> m a
  (>>=) :: forall a b . m a -> (a -> m b) -> m b


These operations are supposed to obey certain ""laws"", but that's not terrifically important: the ""laws"" just codify the way sensible implementations of the operations ought to behave (basically, that >>= and return ought to agree about how values get transformed into monad instances and that >>= is associative).

Monads are not just about state and I/O: they abstract a common pattern of computation that includes working with state, I/O, exceptions, and non-determinism. Probably the simplest monads to understand are lists and option types:

instance Monad [ ] where
    []     >>= k = []
    (x:xs) >>= k = k x ++ (xs >>= k)
    return x     = [x]

instance Monad Maybe where
    Just x  >>= k = k x
    Nothing >>= k = Nothing
    return x      = Just x


where [] and : are the list constructors, ++ is the concatenation operator, and Just and Nothing are the Maybe constructors. Both of these monads encapsulate common and useful patterns of computation on their respective data types (note that neither has anything to do with side effects or I/O).

You really have to play around writing some non-trivial Haskell code to appreciate what monads are about and why they are useful.
    ","What exactly do you mean by ""maps a function over it""?OOOCasebash, I'm being deliberately informal in the introduction. See the examples near the end to get a sense of what ""mapping a function"" entails.OOOMonad is not a datatype. It is a rule of composing functions: stackoverflow.com/a/37345315/1614973"
"148","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
You should first understand what a functor is. Before that, understand higher-order functions.

A higher-order function is simply a function that takes a function as an argument.

A functor is any type construction T for which there exists a higher-order function, call it map, that transforms a function of type a -> b (given any two types a and b) into a function T a -> T b. This map function must also obey the laws of identity and composition such that the following expressions return true for all p and q (Haskell notation):

map id = id
map (p . q) = map p . map q


For example, a type constructor called List is a functor if it comes equipped with a function of type (a -> b) -> List a -> List b which obeys the laws above. The only practical implementation is obvious. The resulting List a -> List b function iterates over the given list, calling the (a -> b) function for each element, and returns the list of the results.

A monad is essentially just a functor T with two extra methods, join, of type T (T a) -> T a, and unit (sometimes called return, fork, or pure) of type a -> T a. For lists in Haskell:

join :: [[a]] -> [a]
pure :: a -> [a]


Why is that useful? Because you could, for example, map over a list with a function that returns a list. Join takes the resulting list of lists and concatenates them. List is a monad because this is possible.

You can write a function that does map, then join. This function is called bind, or flatMap, or (>>=), or (=<<). This is normally how a monad instance is given in Haskell.

A monad has to satisfy certain laws, namely that join must be associative. This means that if you have a value x of type [[[a]]] then join (join x) should equal join (map join x). And pure must be an identity for join such that join (pure x) == x.
    ","slight addition to def of 'higher order function': they can take OR RETURN functions. That's why they are 'higher' 'cos they do things with themselves.OOOBy that definition, addition is a higher-order function. It takes a number and returns a function that adds that number to another. So no, higher order functions are strictly functions whose domain consists of functions.OOOThe video 'Brian Beckman: Don't fear the Monad' follows this same line of logic."
"149","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
[Disclaimer: I am still trying to fully grok monads. The following is just what I have understood so far. If it¡¯s wrong, hopefully someone knowledgeable will call me on the carpet.]

Arnar wrote:


  Monads are simply a way to wrapping things and provide methods to do operations on the wrapped stuff without unwrapping it.


That¡¯s precisely it. The idea goes like this:

You take some kind of value and wrap it with some additional information. Just like the value is of a certain kind (eg. an integer or a string), so the additional information is of a certain kind.

E.g., that extra information might be a Maybe or an IO.
Then you have some operators that allow you to operate on the wrapped data while carrying along that additional information. These operators use the additional information to decide how to change the behaviour of the operation on the wrapped value.

E.g., a Maybe Int can be a Just Int or Nothing. Now, if you add a Maybe Int to a Maybe Int, the operator will check to see if they are both Just Ints inside, and if so, will unwrap the Ints, pass them the addition operator, re-wrap the resulting Int into a new Just Int (which is a valid Maybe Int), and thus return a Maybe Int. But if one of them was a Nothing inside, this operator will just immediately return Nothing, which again is a valid Maybe Int. That way, you can pretend that your Maybe Ints are just normal numbers and perform regular math on them. If you were to get a Nothing, your equations will still produce the right result <U+2013> without you having to litter checks for Nothing everywhere.
But the example is just what happens for Maybe. If the extra information was an IO, then that special operator defined for IOs would be called instead, and it could do something totally different before performing the addition. (OK, adding two IO Ints together is probably nonsensical <U+2013> I¡¯m not sure yet.) (Also, if you paid attention to the Maybe example, you have noticed that ¡°wrapping a value with extra stuff¡± is not always correct. But it¡¯s hard to be exact, correct and precise without being inscrutable.)

Basically, ¡°monad¡± roughly means ¡°pattern¡±. But instead of a book full of informally explained and specifically named Patterns, you now have a language construct <U+2013> syntax and all <U+2013> that allows you to declare new patterns as things in your program. (The imprecision here is all the patterns have to follow a particular form, so a monad is not quite as generic as a pattern. But I think that¡¯s the closest term that most people know and understand.)

And that is why people find monads so confusing: because they are such a generic concept. To ask what makes something a monad is similarly vague as to ask what makes something a pattern.

But think of the implications of having syntactic support in the language for the idea of a pattern: instead of having to read the Gang of Four book and memorise the construction of a particular pattern, you just write code that implements this pattern in an agnostic, generic way once and then you are done! You can then reuse this pattern, like Visitor or Strategy or Facade or whatever, just by decorating the operations in your code with it, without having to re-implement it over and over!

So that is why people who understand monads find them so useful: it¡¯s not some ivory tower concept that intellectual snobs pride themselves on understanding (OK, that too of course, teehee), but actually makes code simpler.
    ","Sometimes an explanation from a ""learner"" (like you) is more relevant to another learner than an explanation coming from an expert. Learners think alike :)OOOWhat makes something a monad is the existence of a function with type M (M a) -> M a. The fact that you can turn that into one of type M a -> (a -> M b) -> M b is what makes them useful.OOO""monad"" roughly means ""pattern"" ... no."
"150","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
After much striving, I think I finally understand the monad. After rereading my own lengthy critique of the overwhelmingly top voted answer, I will offer this explanation.

There are three questions that need to be answered to understand monads:

Why do you need a monad? 
What is a monad? 
How is a monad implemented?
As I noted in my original comments, too many monad explanations get caught up in question number 3, without, and before really adequately covering question 2, or question 1. 

Why do you need a monad?

Pure functional languages like Haskell are different from imperative languages like C, or Java in that, a pure functional program is not necessarily executed in a specific order, one step at a time. A Haskell program is more akin to a mathematical function, in which you may solve the ""equation"" in any number of potential orders. This confers a number of benefits, among which is that it eliminates the possibility of certain kinds of bugs, particularly those relating to things like ""state"".

However, there are certain problems that are not so straightforward to solve with this style of programming. Some things, like console programming, and file i/o, need things to happen in a particular order, or need to maintain state. One way to deal with this problem is to create a kind of object that represents the state of a computation, and a series of functions that take a state object as input, and return a new modified state object.

So let's create a hypothetical ""state"" value, that represents the state of a console screen. exactly how this value is constructed is not important, but let's say it's an array of byte length ascii characters that represents what is currently visible on the screen, and an array that represents the last line of input entered by the user, in pseudocode. We've defined some functions that take console state, modify it, and return a new console state.

consolestate MyConsole = new consolestate;


So to do console programming, but in a pure functional manner, you would need to nest a lot of function calls inside eachother.

consolestate FinalConsole = print(input(print(myconsole, ""Hello, what's your name?"")),""hello, %inputbuffer%!"");


Programming in this way keeps the ""pure"" functional style, while forcing changes to the console to happen in a particular order. But, we'll probably want to do more than just a few operations at a time like in the above example. Nesting functions in that way will start to become ungainly. What we want, is code that does essentially the same thing as above, but is written a bit more like this:

consolestate FinalConsole = myconsole:
                            print(""Hello, what's your name?""):
                            input():
                            print(""hello, %inputbuffer%!"");


This would indeed be a more convenient way to write it. How do we do that though?

What is a monad?

Once you have a type (such as consolestate) that you define along with a bunch of functions designed specifically to operate on that type, you can turn the whole package of these things into a ""monad"" by defining an operator like : (bind) that automatically feeds return values on its left, into function parameters on its right, and a lift operator that turns normal functions, into functions that work with that specific kind of bind operator.

How is a monad implemented?

See other answers, that seem quite free to jump into the details of that.
    ","Sequencing isn't the only reason to define a monad.  A monad is just any functor which has bind and return.  Bind and return give you sequencing.  But they give other things as well.  Also, note that your favorite imperative language is effectively a fancy IO monad with OO classes.  Making it easy to define monads means it's easy to use the interpreter pattern -- define a dsl as a monad and interpret it!"
"151","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
A monad is, effectively, a form of ""type operator"". It will do three things. First it will ""wrap"" (or otherwise convert) a value of one type into another type (typically called a ""monadic type""). Secondly it will make all the operations (or functions) available on the underlying type available on the monadic type. Finally it will provide support for combining its self with another monad to produce a composite monad.

The ""maybe monad"" is essentially the equivalent of ""nullable types"" in Visual Basic / C#. It takes a non nullable type ""T"" and converts it into a ""Nullable<T>"", and then defines what all the binary operators mean on a Nullable<T>.

Side effects are represented simillarly. A structure is created that holds descriptions of side effects alongside a function's return value. The ""lifted"" operations then copy around side effects as values are passed between functions.

They are called ""monads"" rather than the easier-to-grasp name of ""type operators"" for several reasons:

Monads have restrictions on what they can do (see the definiton for details).
Those restrictions, along with the fact that there are three operations involved, conform to the structure of something called a monad in Category Theory, which is an obscure branch of mathematics.
They were designed by proponents of ""pure"" functional languages
Proponents of pure functional languages like obscure branches of mathematics
Because the math is obscure, and monads are associated with particular styles of programming, people tend to use the word monad as a sort of secret handshake. Because of this no one has bothered to invest in a better name.
","Monads weren't 'designed', they were applied from one domain (category theory) to another (I/O in purely functional programming languages). Did Newton 'design' the calculus?OOOPoint 1 and 2 above are correct and useful. Points 4 and 5 are sort of ad hominem, even if more or less true. They don't really help explain monads.OOOThe Maybe monad is not really equivalent to Nullable<T>. More accurately I would say the type Maybe T is equivalent to Nullable<T> more or less (except all types in Haskell are non-nullable by default (useful! e.g. all strings are always non-null); in C# Nullable<string> for example doesn't compile since it is always nullable whether you like it or not) but the use of Maybe as a Monad is more general than what you might do in C# with Nullable<T>; any code using monads can use the Maybe monad but no equivalent abstraction is exists and is idiomatic in C#.OOORe: 4, 5: The ""Secret handshake"" thing is a red herring. Programming is full of jargon. Haskell just happens to call stuff what it is without pretending to rediscover something. If it exists in mathematics already, why make up a new name for it? The name is really not the reason people don't get monads; they are a subtle concept. The average person probably understands addition and multiplication, why don't they get the concept of an Abelian Group? Because it is more abstract and general and that person hasn't done the work to wrap their head around the concept. A name change wouldn't help.OOO""Finally it will provide support for combining itself with another monad to produce a composite monad."" Are you talking about >>= or monad transformers? Are you saying ""a monad provides a way for combining two monadic actions of the same type (bind or >==)""? or ""a monad usually provides a way of layering itself with other monads as in monad transformers""? Your language here is sloppy and confusing, possibly misleading.OOOSigh... I'm not making an attack on Haskell ... I was making a joke.  So, I don't really get the bit about being ""ad hominem"".  Yes, the calculus was ""designed"". That's why, for example, calculus students are taught the Leibniz notation, rather than the icky stuff Netwton used. Better design.  Good names help understanding a lot. If I called Abelian Groups ""distended wrinkle pods"", you may have trouble understanding me.  You might be saying ""but that name is nonsense"", no one would ever call them that.  To people who have never heard of category theory ""monad"" sounds like nonsense.OOO@Scott: sorry if my extensive comments made it seem I was getting defensive about Haskell. I enjoy your humor about the secret handshake and you will note I said it is more or less true. :-) If you called Abelian Groups ""distended wrinkle pods"" you would be making the same mistake of trying to give monads a ""better name"" (cf. F# ""computation expressions""): the term exists and people who care know what monads are, but not what ""warm fuzzy things"" are (or ""computation expressions""). If I understand your use of the term ""type operator"" correctly there are lots of other type operators than monads.OOO5: A name is but a name :D But to be honest, I don't see how one could come up with a 'better' name that somehow holds meaning without eschewing some concept of what monads are all about.OOO@Scott: You seem to be saying that ""distended wrinkle pods"" is a worse name than ""Abelian group"", the standard name. And yet you also say that a made-up name may be beter than ""monad"", the standard name?OOOI'm saying the standard name of ""monad"" is unapproachable to most people. It was chosen by type theorists familiar with Category Theory. What makes sense to them, and what normal people are comfortable with, are very different.OOO@Scott: The standard name of ""Abelian group"" is also unapproachable to most people. I don't see a difference at all.OOOI didn't say ""abelean group"" was an approachable name. I used ""distended wrinkle pods"" in place of ""abelian groups"" to point out how foreign a name like ""monad"" is to a normal person.OOO@Scott: So you're effectively proposing renaming ""abelian group"" as well <U+2014> effectively saying that for every abstract concept that people haven't yet learnt, we must invent new names, and this is supposed to help matters. :-)OOONo. I'm saying that a programmer shouldn't have to understand category theory, that monads are perfectly understood programing concepts without category theory, and that wrapping them with category theory only serves to obfuscate them. I'm not advocating anything with regards to names used in abstract algebra.OOO@Scott: We're moving in circles. There's an exact parallel here between (monad, category theory) and (Abelian group, algebra). Do you agree? (Assuming you do¡¦) In either case, the relevant concepts<U+2014>the first elements of the pairs<U+2014>can be understood without learning the entire theory (e.g. anyone can understand what an Abelian group is without knowing the whole of group theory), but this is not a reason for renaming the terms. (Or is it, according to you?) (BTW, please prefix your messages with ""@shr¡¦"" or I won't be notified.)OOO@shreevatsar No, they are not the same. An Abelian Group is not a design pattern. It's a mathematical construct. Monads, in category theory, are also mathematical constructs. My point is not that there are problems with the names of mathematical constructs. My point is that it's bad to name the design pattern after the mathematical construct.OOO@Scott: I still don't quite see the difference¡¦. But perhaps better to get to the crux of the matter: can you suggest a better name than ""monad""? (""Type operator"" is a poor choice, for reasons already mentioned by Jared.)OOO@ShreevastaR Sure. ""Expression Decorator"" is the first thing that comes to mind. It conveys some meaning about what a Monad does, and how it works. It may not convey as much precision as ""monad"" does, but I think that's a good thing.OOOI feel Scott is very much on point.  The term ""monoid"" was really bugging me, so I posted a question about its origin, and got a great answer.  stackoverflow.com/questions/14090183/¡¦  Seems like if Haskell doesn't get Abelian groups, then ""distended wrinkle pods"" will still be available as an improved name for monads :-).OOO""...conform to the structure of something called a monad in Category Theory, which is an obscure branch of mathematics."" Why exactly is it ""obscure""? Because the concepts are only 70 years old and never made it into school curricula so that people generally know about it? Once you invest a few days in learning about natural transformations - two parts (return and join) of the triple which make up a monad - you see that they are indeed the nice and natural ones, amongst all functions. Meanwhile, the mp3 format, an USB stick, or the term ""foobar"" are pretty ad hoc and not natural. ""Man made"""
"152","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
After giving an answer to this question a few years ago, I believe I can improve and simplify that response with...

A monad is a function composition technique that externalizes treatment for some input scenarios using a composing function, bind, to pre-process input during composition.

In normal composition, the function, compose (>>), is use to apply the composed function to the result of its predecessor in sequence. Importantly, the function being composed is required to handle all scenarios of its input. 

(x -> y) >> (y -> z)

This design can be improved by restructuring the input so that relevant states are more easily interrogated. So, instead of simply y the value can become Mb such as, for instance, (is_OK, b) if y included a notion of validity.

For example, when the input is only possibly a number, instead of returning a string which can contain dutifully contain a number or not, you could restructure the type into a bool indicating the presence of a valid number and a number in tuple such as, bool * float. The composed functions would now no longer need to parse an input string to determine whether a number exists but could merely inspect the bool portion of a tuple.

(Ma -> Mb) >> (Mb -> Mc)

Here, again, composition occurs naturally with compose and so each function must handle all scenarios of its input individually, though doing so is now much easier. 

However, what if we could externalize the effort of interrogation for those times where handling a scenario is routine. For example, what if our program does nothing when the input is not OK as in when is_OK is false. If that were done then composed functions would not need to handle that scenario themselves, dramatically simplifying their code and effecting another level of reuse.

To achieve this externalization we could use a function, bind (>>=), to perform the composition instead of compose. As such, instead of simply transferring values from the output of one function to the input of another Bind would inspect the M portion of Ma and decide whether and how to apply the composed function to the a. Of course, the function bind would be defined specifically for our particular M so as to be able to inspect its structure and perform whatever type of application we want. Nonetheless, the a can be anything since bind merely passes the a uninspected to the the composed function when it determines application necessary. Additionally, the composed functions themselves no longer need to deal with the M portion of the input structure either, simplifying them. Hence...

(a -> Mb) >>= (b -> Mc) or more succinctly Mb >>= (b -> Mc)

In short, a monad externalizes and thereby provides standard behaviour around the treatment of certain input scenarios once the input becomes designed to sufficiently expose them. This design is a shell and content model where the shell contains data relevant to the application of the composed function and is interrogated by and remains only available to the bind function.

Therefore, a monad is three things: 

an M shell for holding monad relevant information,      
a bind function implemented to make use of this shell information in its application of the composed functions to the content value(s) it finds within the shell, and    
composable functions of the form, a -> Mb, producing results that include monadic management data.
Generally speaking, the input to a function is far more restrictive than its output which may include such things as error conditions; hence, the Mb result structure is generally very useful. For instance, the division operator does not return a number when the divisor is 0.

Additionally, monads may include wrap functions that wrap values, a, into the monadic type, Ma, and general functions, a -> b, into monadic functions, a -> Mb, by wrapping their results after application. Of course, like bind, such wrap functions are specific to M. An example:

let return a = [a]
let lift f a = return (f a)


The design of the bind function presumes immutable data structures and pure functions others things get complex and guarantees cannot be made. As such, there are monadic laws:

Given...

M_ 
return = (a -> Ma)
f = (a -> Mb)
g = (b -> Mc)


Then...

Left Identity  : (return a) >>= f === f a
Right Identity : Ma >>= return    === Ma
Associative    : Ma >>= (f >>= g) === Ma >>= ((fun x -> f x) >>= g)


Associativity means that bind preserves the order of evaluation regardless of when bind is applied. That is, in the definition of Associativity above, the force early evaluation of the parenthesized binding of f and g will only result in a function that expects Ma in order to complete the bind. Hence the evaluation of Ma must be determined before its value can become applied to f and that result in turn applied to g.
    ","""...but I hope others find it useful"" it was indeed useful for me, despite of all the emphasized sentences :DOOOThis is the most concise and clear explanation of monads I've ever read/watched/heard.  Thank you!OOOThere is important difference between Monad and Monoid. Monad is a rule to ""compose"" functions between different types, so they do not form a binary operation as required for Monoids, see here for more details: stackoverflow.com/questions/2704652/¡¦OOOYes. You are correct. Your article was over my head :). However, I found this treatment very helpful (and added it to mine as a direction to others). Thanks your the heads up: stackoverflow.com/a/7829607/1612190OOOYou might have confused Algebraic group theory with Category theory where Monad is coming from. The former is the theory of algebraic groups, which is unrelated.OOO@Dmitri Zitsev I have recently become better acquainted with monads and considering revising my treatment. Your comment will like spur me on. I think I have the correct treatment now"
"153","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
(See also the answers at What is a monad?)

A good motivation to Monads is sigfpe (Dan Piponi)'s You Could Have Invented Monads! (And Maybe You Already Have). There are a LOT of other monad tutorials, many of which misguidedly try to explain monads in ""simple terms"" using various analogies: this is the monad tutorial fallacy; avoid them.

As DR MacIver says in Tell us why your language sucks: 

So, things I hate about Haskell:


    Let¡¯s start with the obvious. Monad tutorials. No, not monads. Specifically the tutorials. They¡¯re endless, overblown and dear god are they tedious. Further, I¡¯ve never seen any convincing evidence that they actually help. Read the class definition, write some code, get over the scary name. 

You say you understand the Maybe monad? Good, you're on your way. Just start using other monads and sooner or later you'll understand what monads are in general.

[If you are mathematically oriented, you might want to ignore the dozens of tutorials and learn the definition, or follow lectures in category theory :)
The main part of the definition is that a Monad M involves a ""type constructor"" that defines for each existing type ""T"" a new type ""M T"", and some ways for going back and forth between ""regular"" types and ""M"" types.]

Also, surprisingly enough, one of the best introductions to monads is actually one of the early academic papers introducing monads, Philip Wadler's Monads for functional programming. It actually has practical, non-trivial motivating examples, unlike many of the artificial tutorials out there.
    ","The only problem with Wadler's paper is the notation is different but I agree that the paper is pretty compelling and a clear concise motivation for applying monads.OOO+1 for the ""monad tutorial fallacy"". Tutorials on monads are akin to having several tutorials trying to explain the concept of integer numbers. One tutorial would say, ""1 is similar to an apple""; another tutorial says, ""2 is like a pear""; a third one says, ""3 is basically an orange"". But you never get the whole picture from any single tutorial. What I've taken from that is that monads are an abstract concept which can be used for many quite different purposes.OOO@stakx: Yes, true. But I didn't mean that monads are an abstraction that you cannot learn or shouldn't learn; only that it's best to learn it after you've seen enough concrete examples to perceive a single underlying abstraction. See my other answer here.OOOSometimes I feel that there are so many tutorials that try to convince the reader that monads are useful by using code that do complicated or useful stuff. That hindered my understanding for months. I don't learn that way. I prefer to see extremely simple code, doing something stupid that I can mentally go through and I couldn't find this kind of example. I can't learn if the first example is a monad to parse a complicate grammar. I can learn if it's a monad to sum integers.OOOMentioning only type constructor is incomplete: stackoverflow.com/a/37345315/1614973"
"154","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
Monads are to control flow what abstract data types are to data.

In other words, many developers are comfortable with the idea of Sets, Lists, Dictionaries (or Hashes, or Maps), and Trees. Within those data types there are many special cases (for instance InsertionOrderPreservingIdentityHashMap).

However, when confronted with program ""flow"" many developers haven't been exposed to many more constructs than if, switch/case, do, while, goto (grr), and (maybe) closures.

So, a monad is simply a control flow construct. A better phrase to replace monad would be 'control type'.

As such, a monad has slots for control logic, or statements, or functions - the equivalent in data structures would be to say that some data structures allow you to add data, and remove it.

For example, the ""if"" monad:

if( clause ) then block


at its simplest has two slots - a clause, and a block. The if monad is usually built to evaluate the result of the clause, and if not false, evaluate the block. Many developers are not introduced to monads when they learn 'if', and it just isn't necessary to understand monads to write effective logic.

Monads can become more complicated, in the same way that data structures can become more complicated, but there are many broad categories of monad that may have similar semantics, but differing implementations and syntax.

Of course, in the same way that data structures may be iterated over, or traversed, monads may be evaluated.

Compilers may or may not have support for user-defined monads. Haskell certainly does. Ioke has some similar capabilities, although the term monad is not used in the language.
    ",NA
"155","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
My favorite Monad tutorial:

http://www.haskell.org/haskellwiki/All_About_Monads

(out of 170,000 hits on a Google search for ""monad tutorial""!)

@Stu: The point of monads is to allow you to add (usually) sequential semantics to otherwise pure code; you can even compose monads (using Monad Transformers) and get more interesting and complicated combined semantics, like parsing with error handling, shared state, and logging, for example. All of this is possible in pure code, monads just allow you to abstract it away and reuse it in modular libraries (always good in programming), as well as providing convenient syntax to make it look imperative.

Haskell already has operator overloading[1]: it uses type classes much the way one might use interfaces in Java or C# but Haskell just happens to also allow non-alphanumeric tokens like + && and > as infix identifiers. It's only operator overloading in your way of looking at it if you mean ""overloading the semicolon"" [2]. It sounds like black magic and asking for trouble to ""overload the semicolon"" (picture enterprising Perl hackers getting wind of this idea) but the point is that without monads there is no semicolon, since purely functional code does not require or allow explicit sequencing.

This all sounds much more complicated than it needs to. sigfpe's article is pretty cool but uses Haskell to explain it, which sort of fails to break the chicken and egg problem of understanding Haskell to grok Monads and understanding Monads to grok Haskell.

[1] This is a separate issue from monads but monads use Haskell's operator overloading feature.

[2] This is also an oversimplification since the operator for chaining monadic actions is >>= (pronounced ""bind"") but there is syntactic sugar (""do"") that lets you use braces and semicolons and/or indentation and newlines.
    ",NA
"156","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
I've been thinking of Monads in a different way, lately. I've been thinking of them as abstracting out execution order in a mathematical way, which makes new kinds of polymorphism possible.

If you're using an imperative language, and you write some expressions in order, the code ALWAYS runs exactly in that order.

And in the simple case, when you use a monad, it feels the same -- you define a list of expressions that happen in order. Except that, depending on which monad you use, your code might run in order (like in IO monad), in parallel over several items at once (like in the List monad), it might halt partway through (like in the Maybe monad), it might pause partway through to be resumed later (like in a Resumption monad), it might rewind and start from the beginning (like in a Transaction monad), or it might rewind partway to try other options (like in a Logic monad).

And because monads are polymorphic, it's possible to run the same code in different monads, depending on your needs.

Plus, in some cases, it's possible to combine monads together (with monad transformers) to get multiple features at the same time.
    ",NA
"157","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
I am still new to monads, but I thought I would share a link I found that felt really good to read (WITH PICTURES!!):
http://www.matusiak.eu/numerodix/blog/2012/3/11/monads-for-the-layman/
(no affiliation)

Basically, the warm and fuzzy concept that I got from the article was the concept that monads are basically adapters that allow disparate functions to work in a composable fashion, i.e. be able to string up multiple functions and mix and match them without worrying about inconsistent return types and such. So the BIND function is in charge of keeping apples with apples and oranges with oranges when we're trying to make these adapters. And the LIFT function is in charge of taking ""lower level"" functions and ""upgrading"" them to work with BIND functions and be composable as well.

I hope I got it right, and more importantly, hope that the article has a valid view on monads. If nothing else, this article helped whet my appetite for learning more about monads.
    ","The python examples made it easy to comprehend! Thanks for sharing."
"158","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
In addition to the excellent answers above, let me offer you a link to the following article (by Patrick Thomson) which explains monads by relating the concept to the JavaScript library jQuery (and its way of using ""method chaining"" to manipulate the DOM):
jQuery is a Monad

The jQuery documentation itself doesn't refer to the term ""monad"" but talks about the ""builder pattern"" which is probably more familiar.  This doesn't change the fact that you have a proper monad there maybe without even realizing it.
    ","If you use jQuery, this explanation can be very helpful, especially if your Haskell isn't strongOOOJQuery is emphatically not a monad. The linked article is wrong.OOOBeing ""emphatic"" isn't very convincing.  For some useful discussion on the topic, see Is jQuery a monad - Stack OverflowOOOSee also Douglas Crackford's Google Talk Monads and Gonads and his Javascript code for doing modads, expanding on the similar behavior of AJAX libraries and Promises: douglascrockford/monad ¡¤ GitHub"
"159","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
Monads Are Not Metaphors, but a practically useful abstraction emerging from a common pattern, as Daniel Spiewak explains.
    ",NA
"160","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
A monad is a way of combining computations together that share a common context.  It is like building a network of pipes.  When constructing the network, there is no data flowing through it.  But when I have finished piecing all the bits together with 'bind' and 'return' then I invoke something like runMyMonad monad data and the data flows through the pipes.
    ","That is more like Applicative than Monad.  With Monads, you have to get data from the pipes before you can choose the next pipe to connect."
"161","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
In practice, monad is a custom implementation of function composition operator that takes care of side effects and incompatible input and return values (for chaining).
    ",NA
"162","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
If I've understood correctly, IEnumerable is derived from monads. I wonder if that might be an interesting angle of approach for those of us from the C# world?

For what it's worth, here are some links to tutorials that helped me (and no, I still haven't understood what monads are).

http://osteele.com/archives/2007/12/overloading-semicolon
http://spbhug.folding-maps.org/wiki/MonadsEn
http://www.loria.fr/~kow/monads/
",NA
"163","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
The two things that helped me best when learning about there were:

Chapter 8, ""Functional Parsers,"" from Graham Hutton's book Programming in Haskell. This doesn't mention monads at all, actually, but if you can work through chapter and really understand everything in it, particularly how a sequence of bind operations is evaluated, you'll understand the internals of monads. Expect this to take several tries.

The tutorial All About Monads. This gives several good examples of their use, and I have to say that the analogy in Appendex I worked for me.
    ",NA
"164","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
Monoid appears to be something that ensures that all operations defined on a Monoid and a supported type will always return a supported type inside the Monoid. Eg, Any number + Any number = A number, no errors. 

Whereas division accepts two fractionals, and returns a fractional, which defined division by zero as Infinity in haskell somewhy(which happens to be a fractional somewhy)... 

In any case, it appears Monads are just a way to ensure that your chain of operations behaves in a predictable way, and a function that claims to be Num -> Num, composed with another function of Num->Num called with x does not say, fire the missiles.

On the other hand, if we have a function which does fire the missiles, we can compose it with other functions which also fire the missiles, because our intent is clear -- we want to fire the missiles -- but it won't try printing ""Hello World"" for some odd reason.

In Haskell, main is of type IO (), or IO [()], the distiction is strange and I will not discuss it but here's what I think happens:

If I have main, I want it to do a chain of actions, the reason I run the program is to produce an effect -- usually though IO. Thus I can chain IO operations together in main in order to -- do IO, nothing else.

If I try to do something which does not ""return IO"", the program will complain that the chain does not flow, or basically ""How does this relate to what we are trying to do -- an IO action"", it appears to force the programmer to keep their train of thought, without straying off and thinking about firing the missiles, while creating algorithms for sorting -- which does not flow.

Basically, Monads appear to be a tip to the compiler that ""hey, you know this function that returns a number here, it doesn't actually always work, it can sometimes produce a Number, and sometimes Nothing at all, just keep this in mind"". Knowing this, if you try to assert a monadic action, the monadic action may act as a compile time exception saying ""hey, this isn't actually a number, this CAN be a number, but you can't assume this, do something to ensure that the flow is acceptable."" which prevents unpredictable program behavior -- to a fair extent.

It appears monads are not about purity, nor control, but about maintaining an identity of a category on which all behavior is predictable and defined, or does not compile. You cannot do nothing when you are expected to do something, and you cannot do something if you are expected to do nothing (visible).

The biggest reason I could think of for Monads is -- go look at Procedural/OOP code, and you will notice that you do not know where the program starts, nor ends, all you see is a lot of jumping and a lot of math,magic,and missiles. You will not be able to maintain it, and if you can, you will spend quite a lot of time wrapping your mind around the whole program before you can understand any part of it, because modularity in this context is based on interdependant ""sections"" of code, where code is optimized to be as related as possible for promise of efficiency/inter-relation. Monads are very concrete, and well defined by definition, and ensure that the flow of program is possible to analyze, and isolate parts which are hard to analyze -- as they themselves are monads. A monad appears to be a ""comprehensible unit which is predictable upon its full understanding"" -- If you understand ""Maybe"" monad, there's no possible way it will do anything except be ""Maybe"", which appears trivial, but in most non monadic code, a simple function ""helloworld"" can fire the missiles, do nothing, or destroy the universe or even distort time -- we have no idea nor have any guarantees that IT IS WHAT IT IS. A monad GUARANTEES that IT IS WHAT IT IS. which is very powerful.

All things in ""real world"" appear to be monads, in the sense that it is bound by definite observable laws preventing confusion. This does not mean we have to mimic all the operations of this object to create classes, instead we can simply say ""a square is a square"", nothing but a square, not even a rectangle nor a circle, and ""a square has area of the length of one of it's existing dimensions multiplied by itself. No matter what square you have, if it's a square in 2D space, it's area absolutely cannot be anything but its length squared, it's almost trivial to prove. This is very powerful because we do not need to make assertions to make sure that our world is the way it is, we just use implications of reality to prevent our programs from falling off track.

Im pretty much guaranteed to be wrong but I think this could help somebody out there, so hopefully it helps somebody.
    ",NA
"165","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
In the context of Scala you will find the following to be the simplest definition. Basically flatMap (or bind) is 'associative' and there exists an identity.

trait M[+A] {
  def flatMap[B](f: A => M[B]): M[B] // AKA bind

  // Pseudo Meta Code
  def isValidMonad: Boolean = {
    // for every parameter the following holds
    def isAssociativeOn[X, Y, Z](x: M[X], f: X => M[Y], g: Y => M[Z]): Boolean =
      x.flatMap(f).flatMap(g) == x.flatMap(f(_).flatMap(g))

    // for every parameter X and x, there exists an id
    // such that the following holds
    def isAnIdentity[X](x: M[X], id: X => M[X]): Boolean =
      x.flatMap(id) == x
  }
}


E.g.

// These could be any functions
val f: Int => Option[String] = number => if (number == 7) Some(""hello"") else None
val g: String => Option[Double] = string => Some(3.14)

// Observe these are identical. Since Option is a Monad 
// they will always be identical no matter what the functions are
scala> Some(7).flatMap(f).flatMap(g)
res211: Option[Double] = Some(3.14)

scala> Some(7).flatMap(f(_).flatMap(g))
res212: Option[Double] = Some(3.14)


// As Option is a Monad, there exists an identity:
val id: Int => Option[Int] = x => Some(x)

// Observe these are identical
scala> Some(7).flatMap(id)
res213: Option[Int] = Some(7)

scala> Some(7)
res214: Some[Int] = Some(7)


NOTE Strictly speaking the definition of a Monad in functional programming is not the same as the definition of a Monad in Category Theory, which is defined in turns of map and flatten.  Though they are kind of equivalent under certain mappings.  This presentations is very good: http://www.slideshare.net/samthemonad/monad-presentation-scala-as-a-category
    ",NA
"166","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
This answer begins with a motivating example, works through the example, derives an example of a monad, and formally defines ""monad"".

Consider these three functions in pseudocode:

f(<x, messages>) := <x, messages ""called f. "">
g(<x, messages>) := <x, messages ""called g. "">
wrap(x)          := <x, """">


f takes an ordered pair of the form <x, messages> and returns an ordered pair. It leaves the first item untouched and appends ""called f. "" to the second item. Same with g.

You can compose these functions and get your original value, along with a string that shows which order the functions were called in:

  f(g(wrap(x)))
= f(g(<x, """">))
= f(<x, ""called g. "">)
= <x, ""called g. called f. "">


You dislike the fact that f and g are responsible for appending their own log messages to the previous logging information. (Just imagine for the sake of argument that instead of appending strings, f and g must perform complicated logic on the second item of the pair. It would be a pain to repeat that complicated logic in two -- or more -- different functions.)

You prefer to write simpler functions:

f(x)    := <x, ""called f. "">
g(x)    := <x, ""called g. "">
wrap(x) := <x, """">


But look at what happens when you compose them:

  f(g(wrap(x)))
= f(g(<x, """">))
= f(<<x, """">, ""called g. "">)
= <<<x, """">, ""called g. "">, ""called f. "">


The problem is that passing a pair into a function does not give you what you want. But what if you could feed a pair into a function:

  feed(f, feed(g, wrap(x)))
= feed(f, feed(g, <x, """">))
= feed(f, <x, ""called g. "">)
= <x, ""called g. called f. "">


Read feed(f, m) as ""feed m into f"". To feed a pair <x, messages> into a function f is to pass x into f, get <y, message> out of f, and return <y, messages message>.

feed(f, <x, messages>) := let <y, message> = f(x)
                          in  <y, messages message>


Notice what happens when you do three things with your functions:

First: if you wrap a value and then feed the resulting pair into a function:

  feed(f, wrap(x))
= feed(f, <x, """">)
= let <y, message> = f(x)
  in  <y, """" message>
= let <y, message> = <x, ""called f. "">
  in  <y, """" message>
= <x, """" ""called f. "">
= <x, ""called f. "">
= f(x)


That is the same as passing the value into the function.

Second: if you feed a pair into wrap:

  feed(wrap, <x, messages>)
= let <y, message> = wrap(x)
  in  <y, messages message>
= let <y, message> = <x, """">
  in  <y, messages message>
= <x, messages """">
= <x, messages>


That does not change the pair.

Third: if you define a function that takes x and feeds g(x) into f:

h(x) := feed(f, g(x))


and feed a pair into it:

  feed(h, <x, messages>)
= let <y, message> = h(x)
  in  <y, messages message>
= let <y, message> = feed(f, g(x))
  in  <y, messages message>
= let <y, message> = feed(f, <x, ""called g. "">)
  in  <y, messages message>
= let <y, message> = let <z, msg> = f(x)
                     in  <z, ""called g. "" msg>
  in <y, messages message>
= let <y, message> = let <z, msg> = <x, ""called f. "">
                     in  <z, ""called g. "" msg>
  in <y, messages message>
= let <y, message> = <x, ""called g. "" ""called f. "">
  in <y, messages message>
= <x, messages ""called g. "" ""called f. "">
= feed(f, <x, messages ""called g. "">)
= feed(f, feed(g, <x, messages>))


That is the same as feeding the pair into g and feeding the resulting pair into f.

You have most of a monad. Now you just need to know about the data types in your program.

What type of value is <x, ""called f. "">? Well, that depends on what type of value x is. If x is of type t, then your pair is a value of type ""pair of t and string"". Call that type M t.

M is a type constructor: M alone does not refer to a type, but M _ refers to a type once you fill in the blank with a type. An M int is a pair of an int and a string. An M string is a pair of a string and a string. Etc.

Congratulations, you have created a monad!

Formally, your monad is the tuple <M, feed, wrap>.

A monad is a tuple <M, feed, wrap> where:

M is a type constructor.
feed takes a (function that takes a t and returns an M u) and an M t and returns an M u.
wrap takes a v and returns an M v.
t, u, and v are any three types that may or may not be the same. A monad satisfies the three properties you proved for your specific monad:

Feeding a wrapped t into a function is the same as passing the unwrapped t into the function.

Formally: feed(f, wrap(x)) = f(x)
Feeding an M t into wrap does nothing to the M t.

Formally: feed(wrap, m) = m
Feeding an M t (call it m) into a function that

passes the t into g
gets an M u (call it n) from g
feeds n into f
is the same as

feeding m into g
getting n from g
feeding n into f
Formally: feed(h, m) = feed(f, feed(g, m)) where h(x) := feed(f, g(x))
Typically, feed is called bind (AKA >>= in Haskell) and wrap is called return.
    ",NA
"167","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
I will try to explain Monad in the context of Haskell.

In functional programming, function composition is important. It allows our program to consist of small, easy-to-read functions.

Let's say we have two functions: g :: Int -> String and f :: String -> Bool.

We can do (f . g) x, which is just the same as f (g x), where x is an Int value.

When doing composition/applying the result of one function to another, having the types match up is important. In the above case, the type of the result returned by g must be the same as the type accepted by f.

But sometimes values are in contexts, and this makes it a bit less easy to line up types. (Having values in contexts is very useful. For example, the Maybe Int type represents an Int value that may not be there, the IO String type represents a String value that is there as a result of performing some side effects.)

Let's say we now have g1 :: Int -> Maybe String and f1 :: String -> Maybe Bool. g1 and f1 are very similar to g and f respectively.

We can't do (f1 . g1) x or f1 (g1 x), where x is an Int value. The type of the result returned by g1 is not what f1 expects.

We could compose f and g with the . operator, but now we can't compose f1 and g1 with .. The problem is that we can't straightforwardly pass a value in a context to a function that expects a value that is not in a context.

Wouldn't it be nice if we introduce an operator to compose g1 and f1, such that we can write (f1 OPERATOR g1) x? g1 returns a value in a context. The value will be taken out of context and applied to f1. And yes, we have such an operator. It's <=<.

We also have the >>= operator that does for us the exact same thing, though in a slightly different syntax.

We write: g1 x >>= f1. g1 x is a Maybe Int value. The >>= operator helps take that Int value out of the ""perhaps-not-there"" context, and apply it to f1. The result of f1, which is a Maybe Bool, will be the result of the entire >>= operation.

And finally, why is Monad useful? Because Monad is the type class that defines the >>= operator, very much the same as the Eq type class that defines the == and /= operators.

To conclude, the Monad type class defines the >>= operator that allows us to pass values in a context (we call these monadic values) to functions that don't expect values in a context. The context will be taken care of.

If there is one thing to remember here, it is that Monads allow function composition that involves values in contexts. 
    ","here is an implementation: github.com/brianspinos777/Programming_cheat_sheets/blob/master/¡¦OOOIOW, Monad is generalized function call protocol.OOOYou answer is the most helpful in my opinion. Although I have to say that I think the emphasis needs to be on the fact that the functions you're refering to don't just involve values in contexts, they actively put values in contexts.  So for example, a function, f :: m a -> m b would very easily compose with another function, g :: m b -> m c.  But monads (bind specifically) allows us to perpetually compose functions which put their input in the same context, without us needing to take the value out of that context first (which would effectively remove information from the value)OOO@James I think that should be the emphasis for functors?OOO@Jonas I guess I didn't explain propperly.   When I say that the functions put values in contexts, I mean that they have type (a -> m b). These are very useful since putting a value into a context adds new information to it but it would usually be difficult to chain a (a -> m b) and a (b -> m c) together since we can't just take the value out of the context. So we would have to use some convoluted process to chain these functions together in a sensible way depending on the specific context and monads just allow us to do this in a consistent way, regardless of the context."
"168","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","


tl;dr

{-# LANGUAGE InstanceSigs #-}

newtype Id t = Id t

instance Monad Id where
   return :: t -> Id t
   return = Id

   (=<<) :: (a -> Id b) -> Id a -> Id b
   f =<< (Id x) = f x


Prologue

The application operator $ of functions

forall a b. a -> b


is canonically defined

($) :: (a -> b) -> a -> b
f $ x = f x

infixr 0 $


in terms of Haskell-primitive function application f x (infixl 10). 

Composition . is defined in terms of $ as

(.) :: (b -> c) -> (a -> b) -> (a -> c)
f . g = \ x -> f $ g x

infixr 9 .


and satisfies the equivalences forall f g h.

     f . id  =  f            :: c -> d   Right identity
     id . g  =  g            :: b -> c   Left identity
(f . g) . h  =  f . (g . h)  :: a -> d   Associativity


. is associative, and id is its right and left identity.

The Kleisli triple

In programming, a monad is a functor type constructor with an instance of the monad type class. There are several equivalent variants of definition and implementation, each carrying slightly different intuitions about the monad abstraction.

A functor is a type constructor f of kind * -> * with an instance of the functor type class.

{-# LANGUAGE KindSignatures #-}

class Functor (f :: * -> *) where
   map :: (a -> b) -> (f a -> f b)


In addition to following statically enforced type protocol, instances of the functor type class must obey the algebraic functor laws forall f g.

       map id  =  id           :: f t -> f t   Identity
map f . map g  =  map (f . g)  :: f a -> f c   Composition / short cut fusion


Functor computations have the type

forall f t. Functor f => f t


A computation c r consists in results r within context c.

Unary monadic functions or Kleisli arrows have the type

forall m a b. Functor m => a -> m b


Kleisi arrows are functions that take one argument a and return a monadic computation m b.

Monads are canonically defined in terms of the Kleisli triple forall m. Functor m =>

(m, return, (=<<))


implemented as the type class

class Functor m => Monad m where
   return :: t -> m t
   (=<<)  :: (a -> m b) -> m a -> m b

infixr 1 =<<


The Kleisli identity return is a Kleisli arrow that promotes a value t into monadic context m. Extension or Kleisli application =<< applies a Kleisli arrow a -> m b to results of a computation m a.

Kleisli composition <=< is defined in terms of extension as

(<=<) :: Monad m => (b -> m c) -> (a -> m b) -> (a -> m c)
f <=< g = \ x -> f =<< g x

infixr 1 <=<


<=< composes two Kleisli arrows, applying the left arrow to results of the right arrow¡¯s application.

Instances of the monad type class must obey the monad laws, most elegantly stated in terms of Kleisli composition: forall f g h.

   f <=< return  =  f                :: c -> m d   Right identity
   return <=< g  =  g                :: b -> m c   Left identity
(f <=< g) <=< h  =  f <=< (g <=< h)  :: a -> m d   Associativity


<=< is associative, and return is its right and left identity.

Identity

The identity type

type Id t = t


is the identity function on types

Id :: * -> *


Interpreted as a functor,

   return :: t -> Id t
=      id :: t ->    t

    (=<<) :: (a -> Id b) -> Id a -> Id b
=     ($) :: (a ->    b) ->    a ->    b

    (<=<) :: (b -> Id c) -> (a -> Id b) -> (a -> Id c)
=     (.) :: (b ->    c) -> (a ->    b) -> (a ->    c)


In canonical Haskell, the identity monad is defined

newtype Id t = Id t

instance Functor Id where
   map :: (a -> b) -> Id a -> Id b
   map f (Id x) = Id (f x)

instance Monad Id where
   return :: t -> Id t
   return = Id

   (=<<) :: (a -> Id b) -> Id a -> Id b
   f =<< (Id x) = f x


Option

An option type

data Maybe t = Nothing | Just t


encodes computation Maybe t that not necessarily yields a result t, computation that may ¡°fail¡±. The option monad is defined

instance Functor Maybe where
   map :: (a -> b) -> (Maybe a -> Maybe b)
   map f (Just x) = Just (f x)
   map _ Nothing  = Nothing

instance Monad Maybe where
   return :: t -> Maybe t
   return = Just

   (=<<) :: (a -> Maybe b) -> Maybe a -> Maybe b
   f =<< (Just x) = f x
   _ =<< Nothing  = Nothing


a -> Maybe b is applied to a result only if Maybe a yields a result.

newtype Nat = Nat Int


The natural numbers can be encoded as those integers greater than or equal to zero.

toNat :: Int -> Maybe Nat
toNat i | i >= 0    = Just (Nat i)
        | otherwise = Nothing


The natural numbers are not closed under subtraction.

(-?) :: Nat -> Nat -> Maybe Nat
(Nat n) -? (Nat m) = toNat (n - m)

infixl 6 -?


The option monad covers a basic form of exception handling.

(-? 20) <=< toNat :: Int -> Maybe Nat


List

The list monad, over the list type

data [] t = [] | t : [t]

infixr 5 :


and its additive monoid operation ¡°append¡±

(++) :: [t] -> [t] -> [t]
(x : xs) ++ ys = x : xs ++ ys
[]       ++ ys = ys

infixr 5 ++


encodes nonlinear computation [t] yielding a natural amount 0, 1, ... of results t.

instance Functor [] where
   map :: (a -> b) -> ([a] -> [b])
   map f (x : xs) = f x : map f xs
   map _ []       = []

instance Monad [] where
   return :: t -> [t]
   return = (: [])

   (=<<) :: (a -> [b]) -> [a] -> [b]
   f =<< (x : xs) = f x ++ (f =<< xs)
   _ =<< []       = []


Extension =<< concatenates ++ all lists [b] resulting from applications f x of a Kleisli arrow a -> [b] to elements of [a] into a single result list [b].

Let the proper divisors of a positive integer n be

divisors :: Integral t => t -> [t]
divisors n = filter (`divides` n) [2 .. n - 1]

divides :: Integral t => t -> t -> Bool
(`divides` n) = (== 0) . (n `rem`)


then

forall n.  let { f = f <=< divisors } in f n   =   []


In defining the monad type class, instead of extension =<<, the Haskell standard uses its flip, the bind operator >>=.

class Applicative m => Monad m where
   (>>=) :: forall a b. m a -> (a -> m b) -> m b

   (>>) :: forall a b. m a -> m b -> m b
   m >> k = m >>= \ _ -> k
   {-# INLINE (>>) #-}

   return :: a -> m a
   return = pure


For simplicity's sake, this explanation uses the type class hierarchy

class              Functor f
class Functor m => Monad m


In Haskell, the current standard hierarchy is

class                  Functor f
class Functor p     => Applicative p
class Applicative m => Monad m


because not only is every monad a functor, but every applicative is a functor and every monad is an applicative, too.

Using the list monad, the imperative pseudocode

for a in (1, ..., 10)
   for b in (1, ..., 10)
      p <- a * b
      if even(p)
         yield p


roughly translates to the do block,

do a <- [1 .. 10]
   b <- [1 .. 10]
   let p = a * b
   guard (even p)
   return p


the equivalent monad comprehension,

[ p | a <- [1 .. 10], b <- [1 .. 10], let p = a * b, even p ]


and the expression

[1 .. 10] >>= (\ a ->
   [1 .. 10] >>= (\ b ->
      let p = a * b in
         guard (even p) >>       -- [ () | even p ] >>
            return p
      )
   )


Do notation and monad comprehensions are syntactic sugar for nested bind expressions. The bind operator is used for local name binding of monadic results.

let x = v in e    =   (\ x -> e)  $  v   =   v  &  (\ x -> e)
do { r <- m; c }  =   (\ r -> c) =<< m   =   m >>= (\ r -> c)


where

(&) :: a -> (a -> b) -> b
(&) = flip ($)

infixl 0 &


The guard function is defined

guard :: Additive m => Bool -> m ()
guard True  = return ()
guard False = fail


where the unit type or ¡°empty tuple¡±

data () = ()


Additive monads that support choice and failure can be abstracted over using a type class

class Monad m => Additive m where
   fail  :: m t
   (<|>) :: m t -> m t -> m t

infixl 3 <|>

instance Additive Maybe where
   fail = Nothing

   Nothing <|> m = m
   m       <|> _ = m

instance Additive [] where
   fail = []
   (<|>) = (++)


where fail and <|> form a monoid forall k l m.

     k <|> fail  =  k
     fail <|> l  =  l
(k <|> l) <|> m  =  k <|> (l <|> m)


and fail is the absorbing/annihilating zero element of additive monads

_ =<< fail  =  fail


If in

guard (even p) >> return p


even p is true, then the guard produces [()], and, by the definition of >>, the local constant function

\ _ -> return p


is applied to the result (). If false, then the guard produces the list monad¡¯s fail ( [] ), which yields no result for a Kleisli arrow to be applied >> to, so this p is skipped over.

State

Infamously, monads are used to encode stateful computation.

A state processor is a function

forall st t. st -> (t, st)


that transitions a state st and yields a result t. The state st can be anything. Nothing, flag, count, array, handle, machine, world.

The type of state processors is usually called

type State st t = st -> (t, st)


The state processor monad is the kinded * -> * functor State st. Kleisli arrows of the state processor monad are functions

forall st a b. a -> (State st) b


In canonical Haskell, the lazy version of the state processor monad is defined

newtype State st t = State { stateProc :: st -> (t, st) }

instance Functor (State st) where
   map :: (a -> b) -> ((State st) a -> (State st) b)
   map f (State p) = State $ \ s0 -> let (x, s1) = p s0
                                     in  (f x, s1)

instance Monad (State st) where
   return :: t -> (State st) t
   return x = State $ \ s -> (x, s)

   (=<<) :: (a -> (State st) b) -> (State st) a -> (State st) b
   f =<< (State p) = State $ \ s0 -> let (x, s1) = p s0
                                     in  stateProc (f x) s1


A state processor is run by supplying an initial state:

run :: State st t -> st -> (t, st)
run = stateProc

eval :: State st t -> st -> t
eval = fst . run

exec :: State st t -> st -> st
exec = snd . run


State access is provided by primitives get and put, methods of abstraction over stateful monads:

{-# LANGUAGE MultiParamTypeClasses, FunctionalDependencies #-}

class Monad m => Stateful m st |<U+00A0>m -> st where
   get :: m st
   put :: st -> m ()


m -> st declares a functional dependency of the state type st on the monad m; that a State t, for example, will determine the state type to be t uniquely.

instance Stateful (State st) st where
   get :: State st st
   get = State $ \ s -> (s, s)

   put :: st -> State st ()
   put s = State $ \ _ -> ((), s)


with the unit type used analogously to void in C.

modify :: Stateful m st => (st -> st) -> m ()
modify f = do
   s <- get
   put (f s)

gets :: Stateful m st => (st -> t) -> m t
gets f = do
   s <- get
   return (f s)


gets is often used with record field accessors.

The state monad equivalent of the variable threading

let s0 = 34
    s1 = (+ 1) s0
    n = (* 12) s1
    s2 = (+ 7) s1
in  (show n, s2)


where s0 :: Int, is the equally referentially transparent, but infinitely more elegant and practical

(flip run) 34
   (do
      modify (+ 1)
      n <- gets (* 12)
      modify (+ 7)
      return (show n)
   )


modify (+ 1) is a computation of type State Int (), except for its effect equivalent to return ().

(flip run) 34
   (modify (+ 1) >>
      gets (* 12) >>= (\ n ->
         modify (+ 7) >>
            return (show n)
      )
   )


The monad law of associativity can be written in terms of >>= forall m f g.

(m >>= f) >>= g  =  m >>= (\ x -> f x >>= g)


or

do {                 do {                   do {
   r1 <- do {           x <- m;                r0 <- m;
      r0 <- m;   =      do {            =      r1 <- f r0;
      f r0                 r1 <- f x;          g r1
   };                      g r1             }
   g r1                 }
}                    }


Like in expression-oriented programming (e.g. Rust), the last statement of a block represents its yield. The bind operator is sometimes called a ¡°programmable semicolon¡±.

Iteration control structure primitives from structured imperative programming are emulated monadically

for :: Monad m => (a -> m b) -> [a] -> m ()
for f = foldr ((>>) . f) (return ())

while :: Monad m => m Bool -> m t -> m ()
while c m = do
   b <- c
   if b then m >> while c m
        else return ()

forever :: Monad m => m t
forever m = m >> forever m


Input/Output

data World


The I/O world state processor monad is a reconciliation of pure Haskell and the real world, of functional denotative and imperative operational semantics. A close analogue of the actual strict implementation:

type IO t = World -> (t, World)


Interaction is facilitated by impure primitives

getChar         :: IO Char
putChar         :: Char -> IO ()
readFile        :: FilePath -> IO String
writeFile       :: FilePath -> String -> IO ()
hSetBuffering   :: Handle -> BufferMode -> IO ()
hTell           :: Handle -> IO Integer
. . .              . . .


The impurity of code that uses IO primitives is permanently protocolized by the type system. Because purity is awesome, what happens in IO, stays in IO.

unsafePerformIO :: IO t -> t


Or, at least, should.

The type signature of a Haskell program

main :: IO ()
main = putStrLn ""Hello, World!""


expands to

World -> ((), World)


A function that transforms a world.

Epilogue

The category whiches objects are Haskell types and whiches morphisms are functions between Haskell types is, ¡°fast and loose¡±, the category Hask.

A functor T is a mapping from a category C to a category D; for each object in C an object in D

Tobj :  Obj(C) -> Obj(D)
   f :: *      -> *


and for each morphism in C a morphism in D

Tmor :  HomC(X, Y) -> HomD(Tobj(X), Tobj(Y))
 map :: (a -> b)   -> (f a -> f b)


where X, Y are objects in C. HomC(X, Y) is the homomorphism class of all morphisms X -> Y in C. The functor must preserve morphism identity and composition, the ¡°structure¡± of C, in D.

                    Tmor    Tobj

      T(id)  =  id        : T(X) -> T(X)   Identity
T(f) . T(g)  =  T(f . g)  : T(X) -> T(Z)   Composition


The Kleisli category of a category C is given by a Kleisli triple

<T, eta, _*>


of an endofunctor

T : C -> C


(f), an identity morphism eta (return), and an extension operator * (=<<).

Each Kleisli morphism in Hask

      f :  X -> T(Y)
      f :: a -> m b


by the extension operator

   (_)* :  Hom(X, T(Y)) -> Hom(T(X), T(Y))
  (=<<) :: (a -> m b)   -> (m a -> m b)


is given a morphism in Hask¡¯s Kleisli category

     f* :  T(X) -> T(Y)
(f =<<) :: m a  -> m b


Composition in the Kleisli category .T is given in terms of extension

 f .T g  =  f* . g       :  X -> T(Z)
f <=< g  =  (f =<<) . g  :: a -> m c


and satisfies the category axioms

       eta .T g  =  g                :  Y -> T(Z)   Left identity
   return <=< g  =  g                :: b -> m c

       f .T eta  =  f                :  Z -> T(U)   Right identity
   f <=< return  =  f                :: c -> m d

  (f .T g) .T h  =  f .T (g .T h)    :  X -> T(U)   Associativity
(f <=< g) <=< h  =  f <=< (g <=< h)  :: a -> m d


which, applying the equivalence transformations

     eta .T g  =  g
     eta* . g  =  g               By definition of .T
     eta* . g  =  id . g          forall f.  id . f  =  f
         eta*  =  id              forall f g h.  f . h  =  g . h  ==>  f  =  g

(f .T g) .T h  =  f .T (g .T h)
(f* . g)* . h  =  f* . (g* . h)   By definition of .T
(f* . g)* . h  =  f* . g* . h     . is associative
    (f* . g)*  =  f* . g*         forall f g h.  f . h  =  g . h  ==>  f  =  g


in terms of extension are canonically given

               eta*  =  id                 :  T(X) -> T(X)   Left identity
       (return =<<)  =  id                 :: m t -> m t

           f* . eta  =  f                  :  Z -> T(U)      Right identity
   (f =<<) . return  =  f                  :: c -> m d

          (f* . g)*  =  f* . g*            :  T(X) -> T(Z)   Associativity
(((f =<<) . g) =<<)  =  (f =<<) . (g =<<)  :: m a -> m c


Monads can also be defined in terms not of Kleislian extension, but a natural transformation mu, in programming called join. A monad is defined in terms of mu as a triple over a category C, of an endofunctor

     T :  C -> C
     f :: * -> *


and two natural tranformations

   eta :  Id -> T
return :: t  -> f t

    mu :  T . T   -> T
  join :: f (f t) -> f t


satisfying the equivalences

       mu . T(mu)  =  mu . mu               :  T . T . T -> T . T   Associativity
  join . map join  =  join . join           :: f (f (f t)) -> f t

      mu . T(eta)  =  mu . eta       =  id  :  T -> T               Identity
join . map return  =  join . return  =  id  :: f t -> f t


The monad type class is then defined

class Functor m => Monad m where
   return :: t -> m t
   join   :: m (m t) -> m t


The canonical mu implementation of the option monad:

instance Monad Maybe where
   return = Just

   join (Just m) = m
   join Nothing  = Nothing


The concat function

concat :: [[a]] -> [a]
concat (x : xs) = x ++ concat xs
concat []       = []


is the join of the list monad.

instance Monad [] where
   return :: t -> [t]
   return = (: [])

   (=<<) :: (a -> [b]) -> ([a] -> [b])
   (f =<<) = concat . map f


Implementations of join can be translated from extension form using the equivalence

     mu  =  id*           :  T . T -> T
   join  =  (id =<<)      :: m (m t) -> m t


The reverse translation from mu to extension form is given by

     f*  =  mu . T(f)     :  T(X) -> T(Y)
(f =<<)  =  join . map f  :: m a -> m b


Philip Wadler: Monads for functional programming
Simon L Peyton Jones, Philip Wadler: Imperative functional programming
Jonathan M. D. Hill, Keith Clarke: An introduction to category theory, category theory monads, and their relationship to functional programming
¢¥
Kleisli category
Eugenio Moggi: Notions of computation and monads
What a monad is not

  But why should a theory so abstract be of any use for programming?
  
  The answer is simple: as computer scientists, we value abstraction! When we design the interface to a software component, we want it to reveal as little as possible about the implementation. We want to be able to replace the implementation with many alternatives, many other ¡®instances¡¯ of the same ¡®concept¡¯. When we design a generic interface to many program libraries, it is even more important that the interface we choose have a variety of implementations. It is the generality of the monad concept which we value so highly, it is because category theory is so abstract that its concepts are so useful for programming.
  
  It is hardly suprising, then, that the generalisation of monads that we present below also has a close connection to category theory. But we stress that our purpose is very practical: it is not to ¡®implement category theory¡¯, it is to find a more general way to structure combinator libraries. It is simply our good fortune that mathematicians have already done much of the work for us!


from Generalising Monads to Arrows by John Hughes
    ",NA
"169","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
What the world needs is another monad blog post, but I think this is useful in identifying existing monads in the wild.

monads are fractals

  
  
  The above is a fractal called Sierpinski triangle, the only fractal I can remember to draw. Fractals are self-similar structure like the above triangle, in which the parts are similar to the whole (in this case exactly half the scale as parent triangle).
  
  Monads are fractals. Given a monadic data structure, its values can be composed to form another value of the data structure. This is why it's useful to programming, and this is why it occurrs in many situations.

    ","Do you mean ""what the world doesn't need ...""? Nice analogy though!OOO@icc97 you're right - the meaning is clear enough. Sarcasm unintended, apologies to the author.OOOWhat the world needs is another comment thread confirming a sarcasm, but if read carefully I've written but so that should make it clear."
"170","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
http://code.google.com/p/monad-tutorial/ is a work in progress to address exactly this question.
    ","See if this helps projects.tmorris.net/public/what-does-monad-mean/artifacts/1.1/¡¦"
"171","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
A monad is a thing used to encapsulate objects that have changing state. It is most often encountered in languages that otherwise do not allow you to have modifiable state (e.g., Haskell).

An example would be for file I/O.

You would be able to use a monad for file I/O to isolate the changing state nature to just the code that used the Monad. The code inside the Monad can effectively ignore the changing state of the world outside the Monad - this makes it a lot easier to reason about the overall effect of your program.
    ","As I understand, monads are more than that. Encapsulating mutable state in a ""pure"" functional languages is only one application of monads."
"172","What is a monad?","2008-09-04T23:26:44",233203,"Having briefly looked at Haskell recently, what would be a brief, succinct, practical explanation as to what a monad essentially is?

I have found most explanations I've come across to be fairly inaccessible and lacking in practical detail.","haskell functional-programming monads terminology","Eric Lippert wrote an answer to this questions (stackoverflow.com/questions/2704652/¡¦), which is due to some issues lives in a separate page.OOOHere's a new introduction using javascript - I found it very readable.OOOSee also Different ways to see a monad.OOOSee also Monads in picturesOOOA monad is an array of functions with helper operations. See this answer","
Let the below ""{| a |m}"" represent some piece of monadic data. A data type which advertises an a:

        (I got an a!)
          /        
    {| a |m}


Function, f, knows how to create a monad, if only it had an a:

       (Hi f! What should I be?)
                      /
(You?. Oh, you'll be /
 that data there.)  /
 /                 /  (I got a b.)
|    --------------      |
|  /                     |
f a                      |
  |--later->       {| b |m}


Here we see function, f, tries to evaluate a monad but gets rebuked.

(Hmm, how do I get that a?)
 o       (Get lost buddy.
o         Wrong type.)
o       /
f {| a |m}


Funtion, f, finds a way to extract the a by using >>=.

        (Muaahaha. How you 
         like me now!?)       
    (Better.)      \
        |     (Give me that a.)
(Fine, well ok.)    |
         \          |
   {| a |m}   >>=   f


Little does f know, the monad and >>= are in collusion.

            (Yah got an a for me?)       
(Yeah, but hey    | 
 listen. I got    |
 something to     |
 tell you first   |
 ...)   \        /
         |      /
   {| a |m}   >>=   f


But what do they actually talk about? Well, that depends on the monad. Talking solely in the abstract has limited use; you have to have some experience with particular monads to flesh out the understanding. 

For instance, the data type Maybe

 data Maybe a = Nothing | Just a


has a monad instance which will acts like the following...

Wherein, if the case is Just a

            (Yah what is it?)       
(... hm? Oh,      |
forget about it.  |
Hey a, yr up.)    | 
            \     |
(Evaluation  \    |
time already? \   |
Hows my hair?) |  |
      |       /   |
      |  (It's    |
      |  fine.)  /
      |   /     /    
   {| a |m}   >>=   f


But for the case of Nothing

        (Yah what is it?)       
(... There      |
is no a. )      |
  |        (No a?)
(No a.)         |
  |        (Ok, I'll deal
  |         with this.)
   \            |
    \      (Hey f, get lost.) 
     \          |   ( Where's my a? 
      \         |     I evaluate a)
       \    (Not any more  |
        \    you don't.    |
         |   We're returning
         |   Nothing.)   /
         |      |       /
         |      |      /
         |      |     /
   {| a |m}   >>=   f      (I got a b.)
                    |  (This is   \
                    |   such a     \
                    |   sham.) o o  \
                    |               o|
                    |--later-> {| b |m}


So the Maybe monad lets a computation continue if it actually contains the a it advertises, but aborts the computation if it doesn't. The result, however is still a piece of monadic data, though not the output of f. For this reason, the Maybe monad is used to represent the context of failure. 

Different monads behave differently. Lists are other types of data with monadic instances. They behave like the following:

(Ok, here's your a. Well, its
 a bunch of them, actually.)
  |
  |    (Thanks, no problem. Ok
  |     f, here you go, an a.)
  |       |
  |       |        (Thank's. See
  |       |         you later.)
  |  (Whoa. Hold up f,      |
  |   I got another         |
  |   a for you.)           |
  |       |      (What? No, sorry.
  |       |       Can't do it. I 
  |       |       have my hands full
  |       |       with all these ""b"" 
  |       |       I just made.) 
  |  (I'll hold those,      |
  |   you take this, and   /
  |   come back for more  /
  |   when you're done   / 
  |   and we'll do it   / 
  |   again.)          /
   \      |  ( Uhhh. All right.)
    \     |       /    
     \    \      /
{| a |m}   >>=  f  


In this case, the function knew how to make a list from it's input, but didn't know what to do with extra input and extra lists. The bind >>=, helped f out by combining the multiple outputs. I include this example to show that while >>= is responsible for extracting a, it also has access to the eventual bound output of f. Indeed, it will never extract any a unless it knows the eventual output has the same type of context.

There are other monads which are used to represent different contexts. Here's some characterizations of a few more. The IO monad doesn't actually have an a, but it knows a guy and will get that a for you. The State st monad has a secret stash of st that it will pass to f under the table, even though f just came asking for an a. The Reader r monad is similar to State st, although it only lets f look at r.

The point in all this is that any type of data which is declared itself to be a Monad is declaring some sort of context around extracting a value from the monad. The big gain from all this? Well, its easy enough to couch a calculation with some sort of context. It can get messy, however, when stringing together multiple context laden calculations. The monad operations take care of resolving the interactions of context so that the programmer doesn't have to. 

Note, that use of the >>= eases a mess by by taking some of the autonomy away from f. That is, in the above case of Nothing for instance, f no longer gets to decide what to do in the case of Nothing; it's encoded in >>=. This is the trade off. If it was necessary for f to decide what to do in the case of Nothing, then f should have been a function from Maybe a to Maybe b. In this case, Maybe being a monad is irrelevant.

Note, however, that sometimes a data type does not export it's constructors (looking at you IO), and if we want to work with the advertised value we have little choice but to work with it's monadic interface.
    ",NA
"173","Does Composer needs an already built Fabric network?","2018-02-09T01:25:33",252,"I recently started up with composer tutorials and now I am confused if it is boot starting block chain application development or block chain network development. Do we need to create a block chain network using fabric and than integrate it with composer to create rest end points and angular application for our fabric network? can we achieve decentralizing and immutable transactions by just using composer?","hyperledger-fabric hyperledger hyperledger-composer",NA,"
The answer is it is ""bootstrapping"" application development (Composer helps get you started, by installing a 'development"" Fabric setup - although you could use just Composer playground too without a runtime Fabric (ie in the browser with local storage) to get started). But -  you will furthermore deploy the smart contract you develop (the model, access controls, transaction logic and functions, queries etc) to the blockchain network, eg as agreed to by the organisations/parties/members that want to participate in that blockchain network. A Composer runtime is installed to configured peers in all of those organisations) and its Composer that interacts with the Fabric blockchain - eg. the smart contract dictating what gets written to the ledger (or read data from) the same ledger you read about / configure, per the Fabric documentation.Composer can also expose the set of REST APIs generated for that particular business network so applications in the organisation can interact with the business network deployed to the blockchain. The deployed business network / smart contract (say ""Trade settlement"") is a window into the ledger of asset, participant, identity and transaction registries and the whole history of changes (another system registry - including what changed in each transaction). That's registry in a ledger sense.

So, Hyperledger Composer is a development framework and toolset but also a runtime abstraction layer for executing smart contracts,  in which a business network (eg. say 'trade settlement' blockchain as a use case or network ; or 'supply chain finance' etc etc) is deployed as a runtime smart contract, on the blockchain, between the parties involved, and upon which all have agreed the terms (what the model is, the data elements, the security, the access control, how identities are issued, , the contract terms blah blah). 

Sure, Composer makes it easier to develop blockchain applications and smart contracts - that's one of its aims, as well as adding in all of the consistency, validation or gruntwork you would otherwise have to do as an application developer (you can get an insight into that here -> https://blog.selman.org/2017/07/08/getting-started-with-blockchain-development where Fabric and Composer are compared. So there's the development perspective but also the runtime perspective as I've alluded to above. Hyperledger Composer currently uses Hyperledger Fabric as the underlying 'blockchain infrastructure' or underlying blockchain technology, put simply. This can be configured in many ways in a secure Cloud environent etc etc. Composer is ultimately aimed at production deployment/scalability -  you'll be deploying business networks and smart contract transaction logic (written in a mainstream app dev language so app developers don't need specialist language skills) that will execute on the blockchain network (wherever that is deployed, however configured, privacy etc) that you (as an organisation etc) will configure (ie between the parties involved). 

In Composer 'next' (v0.17.x) we will deliver  native Node.js support and runs with (at the time of writing) Fabric v1.1 (alpha version) and that version of Fabric will be available as a GA production ready release in the near future (obviously, Fabric v1.0 is already out there that works with Composer v0.16.x). 

So Composer is both the development framework,the toolset, the modeler and the runtime execution on the blockchain ; as well as all managing all the other important aspects of working with that business network, such as managing identity,access control, participation, queries, API support and connectivity from remote apps etc, so essential to working with/transacting on a blockchain network that is otherwise infrastructure-oriented. Hope this helps.
    ",NA
"174","Does Composer needs an already built Fabric network?","2018-02-09T01:25:33",252,"I recently started up with composer tutorials and now I am confused if it is boot starting block chain application development or block chain network development. Do we need to create a block chain network using fabric and than integrate it with composer to create rest end points and angular application for our fabric network? can we achieve decentralizing and immutable transactions by just using composer?","hyperledger-fabric hyperledger hyperledger-composer",NA,"
From what I understand, we already achieve immutable transactions with the composer. If you go to the transactions sections and create one, it will have its unique hash and timestamp. Additionally, Composer playground is simply a GUI of sorts that gives a better physical representation of the network. The Playground gives options to add peers to a certain network, so I would assume that it is possible to create a network simply with playground. However, If you prefer coding(like me), you can always create models in your .cto file, and update your permissions file to define who can do what in the network. 

I would advise you to go through the developer tutorials too as they are quite instructive and give a better understanding of how fabric operates. Hope this helps!
    ","while following composer developer tutorials i see our examples use the network created by hyperledger fabric samples e.g BYFN, so what actual immutable ledger functionality do we get from composer when the complete network is created by fabric?"
"175","add additional peer in block chain fabric business network dynamically","2018-03-13T15:15:53",201,"How can I add new organization or new peer in already existing businessnetwork dynamically in HyperLedger Fabric.

please let me know the steps .","hyperledger-fabric hyperledger-composer","I found some brief details about configtxlator tool : stackoverflow.com/questions/47787106/¡¦","
You can use configtxlator tool. This IBM-tutorial explains the procedure very well.
    ","You should add the instructions here in case the link changes."
"176","add additional peer in block chain fabric business network dynamically","2018-03-13T15:15:53",201,"How can I add new organization or new peer in already existing businessnetwork dynamically in HyperLedger Fabric.

please let me know the steps .","hyperledger-fabric hyperledger-composer","I found some brief details about configtxlator tool : stackoverflow.com/questions/47787106/¡¦","
Kindly refer this link which contains details steps add new peer to existing network.

https://medium.com/@wahabjawed/extending-hyperledger-fabric-network-adding-a-new-peer-4f52f70a7217
    ",NA
"177","AES, Cipher Block Chaining Mode, Static Initialization Vector, and Changing Data","2010-01-27T02:04:15",4764,"When using AES (or probably most any cipher), it is bad practice to reuse an initialization vector (IV) for a given key. For example, suppose I encrypt a chunk of data with a given IV using cipher block chaining (CBC) mode.  For the next chunk of data, the IV should be changed (e.g., the nonce might be incremented or something).  I'm wondering, though, (and mostly out of curiosity) how much of a security risk it is if the same IV is used if it can be guaranteed that the first four bytes of the chunks are incrementing. In other words, suppose two chunks of data to be encrypted are:

0x00000000someotherdatafollowsforsomenumberofblocks
0x00000001someotherdatathatmaydifferormaynotfollows


If the same IV is used for both chunks of data, how much information would be leaked?","encryption cryptography aes",NA,"
In this particular case, it's probably OK (but don't do it, anyway).  The ""effective IV"" is your first encrypted block, which is guaranteed to be different for each message (as long as the nonce truly never repeats under the same key), because the block cipher operation is a bijection.  It's also not predictable, as long as you change the key at the same time as you change the ""IV"", since even with fully predictable input the attacker should not be able to predict the output of the block cipher (block cipher behaves as a pseudo-random function).

It is, however, very fragile.  Someone who is maintaining this protocol long after you've moved on to greener pastures might well not understand that the security depends heavily on that non-repeating nonce, and could ""optimise"" it out.  Is sending that single extra block each message for a real IV really an overhead you can't afford?
    ","Thanks for the input.  And I definitely agree with the ""don't do that"" sentiment. I only know enough about encryption to understand that anything that seems like a good idea but nobody recommends is almost certainly a bad idea. In fact, the current project I am working on requires CTR mode, which absolutely requires a new IV and would gain nothing from a change in the data itself."
"178","AES, Cipher Block Chaining Mode, Static Initialization Vector, and Changing Data","2010-01-27T02:04:15",4764,"When using AES (or probably most any cipher), it is bad practice to reuse an initialization vector (IV) for a given key. For example, suppose I encrypt a chunk of data with a given IV using cipher block chaining (CBC) mode.  For the next chunk of data, the IV should be changed (e.g., the nonce might be incremented or something).  I'm wondering, though, (and mostly out of curiosity) how much of a security risk it is if the same IV is used if it can be guaranteed that the first four bytes of the chunks are incrementing. In other words, suppose two chunks of data to be encrypted are:

0x00000000someotherdatafollowsforsomenumberofblocks
0x00000001someotherdatathatmaydifferormaynotfollows


If the same IV is used for both chunks of data, how much information would be leaked?","encryption cryptography aes",NA,"
Mark,
what you describe is pretty much what is proposed in Appendix C of NIST SP800-38a.
In particular, there are two ways to generate an IV:

Generate a new IV randomly for
each message.
For each message use a new unique nonce (this may be a counter), encrypt the nonce, and use the result as IV.
The second option looks very similar to what you are proposing.
    ",NA
"179","AES, Cipher Block Chaining Mode, Static Initialization Vector, and Changing Data","2010-01-27T02:04:15",4764,"When using AES (or probably most any cipher), it is bad practice to reuse an initialization vector (IV) for a given key. For example, suppose I encrypt a chunk of data with a given IV using cipher block chaining (CBC) mode.  For the next chunk of data, the IV should be changed (e.g., the nonce might be incremented or something).  I'm wondering, though, (and mostly out of curiosity) how much of a security risk it is if the same IV is used if it can be guaranteed that the first four bytes of the chunks are incrementing. In other words, suppose two chunks of data to be encrypted are:

0x00000000someotherdatafollowsforsomenumberofblocks
0x00000001someotherdatathatmaydifferormaynotfollows


If the same IV is used for both chunks of data, how much information would be leaked?","encryption cryptography aes",NA,"
Well, that depends on the block size of the encryption algorithm. For the usual block size of 64 bytes i dont think that would make any difference. The first bits would be the same for many blocks, before entering the block cipher, but the result would not have any recognisable pattern. For block sizes < 4 bytes (i dont think that happens) it would make a difference, because the first block(s) would always be the same, leaking information about patterns. Just my opinion.

edit: 

Found this

""For CBC and CFB, reusing an IV leaks some information about the first block
of plaintext, and about any common prefix shared by the two messages""

Source: lectures of my university :)
    ",NA
"180","Init block vs. constructor chaining","2015-04-11T13:03:17",193,"Which runs first, init block or this() (in case of constructor chaining) in Java?

I searched and found that this() has higher priority than constructor chaining but I when I tried to run output was different

class Init_block {
    {
        //init block   
        System.out.println(""This is init block"");
    }

    Init_block() {
        this(10);
        System.out.println(""First constructor"");
    }

    Init_block(int a) {
        System.out.println(""Second constructor"" + "" "" + a);
    }

    public static void main(String argv[]) {
        new Init_block();
    }
}","java","can you show your codeOOOadd your code in question.OOO@PrateekKapoor Never put code in comments. If you are asked to provide more information; simply edit your question and add stuff there. That also allows for real formatting of your code.","
whenever child class constructor is called, all base class will be loaded First starting from immediate base class till Object class. after loading all the classes till Object class, constructor will be executed starting from Object class to child class. 

but before executing child class constructor , init block will be executed first of child class.

if multiple init blocks are present then they will be executed in order of appearance.
after executing all init blocks compiler will finally execute constructor of child class.

in your case 
firstly Init_block() will be called but Object class constructor will be executed first.

then Init_block class's init block will be executed.
after executing init block JVM will execute constructor. as in constructor you are calling parameterized constructor as this(10) so jvm will execute 

Init_block(int a)


after executing parameterized constructor control will be return to no-arg constructor and rest of the lines will be executed.
    ","I und that is what happening .i was just wondering that priority goes like super() then this()  followed by init block hence in this case  super is followed by init block then constructor chaining is achieved.The above prg dsnt follow the sequence"
"181","BigChainDB - What exactly is that?","2016-12-12T08:08:31",1861,"I understand that the BigChainDB is a distributed DB at the basic level.
It claims that is solves the problem of Scalability in the BlockChain world. What i don't understand is that how it fits into the overall block chain architecture.


  In the typical Block Chain world, each node has the full copy of the
  data and validates any new transactions? How does this work in the
  BigChain DB when the data is distributed? Each node validates only the
  blocks that it holds? Even if thats the case, it needs the entire
  chain? Not clear on the processing scalability here.
  Can i build a block chain network just with the BigChainDB or do i
  need something like Ethereum or Hyperledger to build the block chain
  network itself?
  If i can build the blockchain network with BigChainDB, then what is
  the equivalent of smart contract in BigChainDB?","blockchain hyperledger-fabric ethereum bigdata","Btw maybe some HyperLedger implementation can solve your use cases. Even I ended up here researching on BlockChain DB. I'm looking for a ""Registry"" implementation for Master Data Management using BlockChain (Or something like Merkle Trees)","
BigchainDB internally uses RethinkDB as a datastore. Technically, the blockchain is stored as JSON strings inside RethinkDB. And BigchainDB is a kind of wrapper on top of this storage which provides the needed cryptography, techniques for building the blocks, parsing the blocks and provides utility methods to access the database. RethinkDB provides clustered storage with possible shard based architecture. This makes BigchainDB scalable when RethinkDB is configured accordingly.
Yes. It is possible to build a blockchain network just with BigchainDB. 
BigchainDB library provides APIs to be called from our code. So we can build any application(preferably in Python) and integrate BigchainDB into it. This means, the business logic stays inside our application code. This is totally different from Smart contracts used in Ethereum. 
You can have a look at my github code for more insights. It is my college project and not much documentation is available :-D It is a voucher transfer application where company like Sodexo issue vouchers and users can redeem it in private companies like Starbucks.  
    ","How does ""clustered storage with sharding"" enable bandwidth scalability? How are they even related? Or does it only solve one aspect of scalability and no the other(>1mb blocks)?"
"182","chain exception in catch block","2018-10-24T16:03:04",85,"I have the following java code :

 public void someMethod(){

    try{

        // some code which generates Exception

    }catch(Exception ex1) {

        try{

                // The code inside this method can also throw some Exception
                myRollBackMethodForUndoingSomeChanges();

        }catch(Exception ex2){
            // I want to add inside `ex2` the history of `ex1` too
            // Surely , I cannot set cause of `ex2` as `ex1` as `ex2`
            // can be caused by it's own reasons.
            // I dont want `ex1` details to be lost if I just throw `ex2` from my method



        }
    }

}


How to do it ?

EDIT : Actually this happens in my service layer and I have controller advice for logging. Hence I don't want to add 2 loggers here.","java exception-handling","Why cant you just throw ex2, is there a reason you want to throw ex1 as well? If really necessary you could add an additional property rootCause to ex2 and initialize it with ex1 if needed.OOODon't catch runtime exceptions - they signal that you've done something wrong as a developer. Instead, identify what's causing your code to break at runtime and fix it. See stackoverflow.com/questions/3162760/¡¦OOOI have edited the question.","
You can add ex1 to the supressed exceptions in ex2 via the method addSuppressed before rethrowing it.

Quick code example:

public static void main(final String[] args) {
    try {
        throw new IllegalArgumentException(""Illegal Argument 1!"");
    } catch (final RuntimeException ex1) {
        try {
            throw new IllegalStateException(""Illegal State 2!"");
        } catch (final RuntimeException ex2) {
            ex2.addSuppressed(ex1);
            throw ex2;
        }
    }
}


will produce the exception output:

Exception in thread ""main"" java.lang.IllegalStateException: Illegal State 2!
    at package.main(Main.java:26)
    Suppressed: java.lang.IllegalArgumentException: Illegal Argument 1!
        at package.main(Main.java:20)

    ",NA
"183","Chaining methods in Ruby, and injecting a block into the chain","2018-03-28T10:30:30",81,"Consider the following Ruby expression:

y=x.a.b.c.d.e.f


Of course, x is an object and a to f are methods defined for a class which matches the return value of the previous method in the chain. Now say that I want to replace the invocation of method c by a custom block, i.e. I would like to achieve the effect of

temp=x.a.b
temp1=.... (calculate something based on the value of temp)
y=temp1.d.e.f


but with using method chaining.

It is of course trivial to define a suitable method to achieve this:

class Object

  def pass
    yield(self)
  end

end


which would allow me to write something like

y=x.a.b.pass {|the_b| .....}.d.e.f


Now to my question: 

Given that Ruby already has a method for a similar problem (Object#tap), I wonder why it does not have a method similar to the Object#pass which I just explained. I suspect, that either

(a) Ruby already offers a feature like this, and I'm just to stupid to find it, or

(b) What I want to achieve would be considered bad programming style (but then, why?)

Is (a) or (b) correct, or did I miss something here?","ruby","Don't answer it in the question. You can answer your own question as a separate answer. But note that there is already an answer given.OOOy=x.a.b.c.d.e.f <U+2013> that kind of expressions are called train wreck ;-)OOO@sawa: I didn't see the answer when I updated my post. Thanks for pointing it out; you're absolutely right.","
(a) Yes. Ruby already has that. It is called yield_self.

(b) No. It is not a bad style.
    ","It might be worth noting that yield_self was introduced in Ruby 2.5."
"184","cipher block chaining / cipher text stealing java","2013-03-27T01:23:56",1118,"To gain a better understanding of CBC and CTS im trying to impliment my own class that can encrypt and decrypt without using java's built in CTS Mode. Im using an AES wrapper class as the underlying algorithm but CTS as the mode of operation. So far i have been working on the encryption method but not sure where to go from there. I'm not really sure how to implement the swap of the blocks at end of the CTS mode.

Here is the code i have so far for my encryption method (and dont worry about the AES class it works 100%):

    static byte[] encrypt(byte[] ptBytes, javax.crypto.SecretKey key, byte[] IV){

    byte [] ct; 
    byte [] pt;
    byte [] ptBlock, ctBlock;

    //pad the array to proper length
    pt = Arrays.copyOf(ptBytes, (int) (Math.ceil( ( ptBytes.length )/16)*16) );

    //ctBlock = one block of cipher text
    ctBlock = new byte [16];

    //make ct the length of the padded pt 
    ct = new byte [pt.length];

    //do the encryption
    //i is for the current block of plain / cipher text we are on
    for( int i = 1; i < (int) ((Math.ceil( ( ptBytes.length )/16)+1)); i++){
        if( i == 1 ){

            //make ptBlock the first block of the entire plain text
            ptBlock = Arrays.copyOfRange(pt, 0, (i*16)-1);

            //since i = 1 do the XOR to get new plain text with IV
            for (int j = 0; j < ptBlock.length - 1; j++){
                ptBlock[j] = (byte)(ptBlock[j] ^ IV[j]);
            }

            //now time to do the encryption between the current block of plain text and the key
            try {
                ctBlock = AES.encrypt(ptBlock, key);
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            //now put the cipher text block we just got into the final cipher text array
            for( int k = 0; k < ctBlock.length; k++){
                ct[k] = ctBlock[k];
            }

        }
        else{
            //make ptBlock the current number block of entire plain text
            ptBlock = Arrays.copyOfRange(pt, (i-1)*16, (i*16)-1);

            //now XOR the plain text block with the prior cipher text block
            for(int j = 0; j < ptBlock.length - 1; j++){
                ptBlock[i] = (byte) (ptBlock[j] ^ ctBlock[j]);
            }

            //now time to do the encryption between the current block of plain text and the key
            try {
                ctBlock = AES.encrypt(ptBlock, key);
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            //now put the cipher text block we just got into the final cipher text array
            for( int k = (i-1)*16; k < (i*16)-1; k++){
                ct[k] = ctBlock[k-16];
            }
        }
    }






    return ct;
}


Just if anyone could give some insight into how to finish this method up that would be great because i still am learning the ins and outs of CBC/CTS

Thanks!","java encryption cryptography aes",NA,NA,NA
"185","Process chain of functions without UI block","2012-11-06T12:09:19",709,"I need to perform several functions in my JavaScript/jQuery, but I want to avoid blocking the UI.

AJAX is not a viable solution, because of the nature of the application, those functions will easily reach the thousands. Doing this asynchroniously will kill the browser.

So, I need some way of chaining the functions the browser needs to process, and only send the next function after the first has finished.

The algorithm is something like this


  For steps from 2 to 15
  
  
    HTTP:GET amount of items for current step (ranges somewhere from a couple of hundred to multiple thousands)
    
    
      For every item, HTTP:GET the results
    
  


As you see, I have two GET-request-""chains"" I somehow need to manage... Especially the innermost loop crashes the browser near to instantly, if it's done asynchroniously - but I'd still like the user to be able to operate the page, so a pure (blocking) synchronous way will not work.","javascript jquery ajax",NA,"
You can easily do this asynchronously without firing all requests at once. All you need to do is manage a queue. The following is pseudo-code for clarity. It's easily translatable to real AJAX requests:

// Basic structure of the request queue. It's a list of objects
// that defines ajax requests:
var request_queue = [{
    url : ""some/path"",
    callback : function_to_process_the_data
}];

// This function implements the main loop.
// It looks recursive but is not because each function
// call happens in an event handler:
function process_request_queue () {
    // If we have anything in the queue, do an ajax call.
    // Otherwise do nothing and let the loop end.
    if (request_queue.length) {
        // Get one request from the queue. We can either
        // shift or pop depending on weather you prefer
        // depth first or breadth first processing:
        var req = request_queue.pop();
        ajax(req.url,function(result){
            req.callback(result);
            // At the end of the ajax request process
            // the queue again:
            process_request_queue();
        }
    }
}

// Now get the ball rolling:
process_request_queue();


So basically we turn the ajax call itself into a pseudo loop. It's basically the classic continuation passing style of programming done recursively.

In your case, an example of a request would be:

request_queue.push({
    url : ""path/to/OUTER/request"",
    callback : function (result) {
        // You mentioned that the result of the OUTER request
        // should trigger another round of INNER requests.
        // To do this simply add the INNER requests to the queue:

        request_queue.push({
            url : result.inner_url,
            callback : function_to_handle_inner_request
        });
    }
});


This is quite flexible because you not only have the option of processing requests either breadth first or depth first (shift vs pop). But you can also use splice to add stuff to the middle of the queue or use unshift vs push to put requests at the head of the queue for high priority requests.

You can also increase the number of simultaneous requests by popping more than one request per loop. Just be sure to only call process_request_queue only once per loop to avoid exponential growth of simultaneous requests:

// Handling two simultaneous request channels:
function process_request_queue () {
    if (request_queue.length) {
        var req = request_queue.pop();
        ajax(req.url,function(result){
            req.callback(result);
            // Best to loop on the first request.
            // The second request below may never fire
            // if the queue runs out of requests.
            process_request_queue();
        }
    }
    if (request_queue.length) {
        var req = request_queue.pop();
        ajax(req.url,function(result){
            req.callback(result);
            // DON'T CALL process_request_queue here
            // We only want to call it once per ""loop""
            // otherwise the ""loop"" would grow into a ""tree""
        }
    }
}

    ","This is bloody brilliant!"
"186","Process chain of functions without UI block","2012-11-06T12:09:19",709,"I need to perform several functions in my JavaScript/jQuery, but I want to avoid blocking the UI.

AJAX is not a viable solution, because of the nature of the application, those functions will easily reach the thousands. Doing this asynchroniously will kill the browser.

So, I need some way of chaining the functions the browser needs to process, and only send the next function after the first has finished.

The algorithm is something like this


  For steps from 2 to 15
  
  
    HTTP:GET amount of items for current step (ranges somewhere from a couple of hundred to multiple thousands)
    
    
      For every item, HTTP:GET the results
    
  


As you see, I have two GET-request-""chains"" I somehow need to manage... Especially the innermost loop crashes the browser near to instantly, if it's done asynchroniously - but I'd still like the user to be able to operate the page, so a pure (blocking) synchronous way will not work.","javascript jquery ajax",NA,"
You could make that ASYNC and use a small library I wrote some time ago that will let you queue function calls.
    ","Seems like a good library, but it only has one queue... For my algorithm, I think I need one queue for every of the second level iteration?"
"187","Chaining Completion Blocks","2012-12-11T23:40:05",739,"I have two instances of different classes who both need to add a completion block to a particular operation.  I'll try to explain the problem generically rather than having to explain everything my app is attempting to do.

A view controller is calling into an instance of a resource manager class for it to save a resource.  The resource manager then calls into the class of the resource to be saved to get a network operation for the save.

The instance of the resource creates the operation and gives it a completion block that will affect the state of the resource when it fires.

This is where my problem is - the resource class also needs to add a completion block to this operation in order for the view controller to be informed of the success or failure of the save.

Here's a snippit of the save method on the manager:

-(void)save:resource withCompletion:completion
{
.
.
.

NSOperation *operation = [resource operationForSave];

NSOperation __weak *weakOperation = operation;
void(^__weak resourceCompletion)(void)= operation.completionBlock;

[operation setCompletionBlock:^{
    if (resourceCompletion) {
        resourceCompletion();
        }

    if (completion) {
       if (weakOperation.error) {
            completion(NO, operation.error);
            }
        else {
            completion(YES, nil);
            }
        }
    }];

.
.
.
// add the operation to a network operation queue
}


While I think this will technically work, I'm not crazy about it.  It feels pretty funky. I would prefer to have one block encapsulating the second block, but this isn't possible because the view controller and the resource are creating their own completion blocks, and the manager class is the one that has to smash them together.

Is there a more elegant way to chain these two completion blocks together in this situation, or is my current method of creating a block to contain the original two blocks the best I'm going to get?

Any input would be great appreciated.","objective-c ios","Why are you using __weak at all?OOOYou might get more help over at programmers.stackexchange.com as this is more of a design question than an actual problem. Your method is sound though, sometimes you just need to do stuff like this. Alternatively, you could use a delegate pattern, or notifications, or any combination of the three. Hooray for programming.OOOI'm using __weak to avoid a retain cycle - the completion block is capturing the operation, which has a strong reference to the block.","
The code you posted will probably not work.  When you replace the operation's completion block with your own block, you're probably removing the only strong reference to the original completion block (set by the resource).  So your resourceCompletion variable, being weak, will become nil by the time setCompletionBlock: returns.

Just making resourceCompletion strong should fix the problem.  But if you want to do it in a cleaner way, modify the operationForSave message (on the resource) to take a completion block itself:

__block NSNetworkOperation *operation = [resource operationForSaveWithCompletion:^{
    NSError *error = operation.error;
    completion(error == nil, error);

    // Break the retain cycle between this block and the operation object.
    operation = nil;
}];


And make it the job of the resource's own internal completion block to call the completion block you provide.

If you don't want to or can't modify the resource's API, you can still simplify your code by eliminating the weak references:

__block NSNetworkOperation *operation = [resource operationForSave];
__block void (^priorCompletion)(void) = operation.completionBlock;
operation.completionBlock = ^{
    if (priorCompletion) {
        priorCompletion);
        // Break possible retain cycle.
        priorCompletion = nil;
    }

    NSError *error = operation.error;
    completion(error == nil, error);
    // Break the retain cycle between this block and the operation object.
    operation = nil;
};


Also, I sincerely hope you don't really have a class named NSNetworkOperation, because Apple reserves the NS prefix (and all other two-letter prefixes) for its own use.
    ","It was a typo, its an NSOperation."
"188","When using hyperedger with virtualbox, can i have some instances at one network?","2018-03-26T02:24:42",100,"I am a beginner in a block chain. So there are many questions.
When configuring the hyperledger network, create multiple ubuntu instances using virtualbox on one pc. Can the peers within each instance be connected in a single block-chain network?

Thanks in advance for your availability.","virtualbox hyperledger-fabric blockchain hyperledger hyperledger-composer",NA,"
You are correct in identifying that the Peers need to communicate with each other. In the default Development Fabric, all the docker containers are running on a single machine and the network addressing/routing is managed by Docker Compose.  If you split your fabric to separate Virtualbox Ubuntu instances, you will have to understand and manage the network addressing/routing.  This is a Docker and networking issue, not really a Fabric or Composer issue.  You may find that Kubernetes is the most helpful way forward for you or Docker Swarm.
    ",NA
"189","When using hyperedger with virtualbox, can i have some instances at one network?","2018-03-26T02:24:42",100,"I am a beginner in a block chain. So there are many questions.
When configuring the hyperledger network, create multiple ubuntu instances using virtualbox on one pc. Can the peers within each instance be connected in a single block-chain network?

Thanks in advance for your availability.","virtualbox hyperledger-fabric blockchain hyperledger hyperledger-composer",NA,"
For that, you have to create your fabric network and then add everyone to the network. You need to configure each and every peer in the channel config using configtxgen tool.
    ",NA
"190","Consensus manipulation when using only two peers on a Hyperledger Fabric channel?","2017-07-25T21:50:51",280,"What happens in Hyperledger Fabric on a private channel block-chain consisting of only two peers if one of the peers is faulty and manipulates it's private block chain?

So the two copies of the block chain will diverge and finally it will be impossible for a consensus algorithm to tell which one is correct.

Is this a valid problem? If so, how would this be mitigated? Would it help to add additional peers to the channel (e.g. placed at a regulator's data center) which are not in control of the two peers mentioned above? Or is there a better solution to tackle this problem?","blockchain hyperledger hyperledger-fabric",NA,"
Adding additional peers to each organization would defend against any single node becoming compromised. Adding additional nodes to the channel(s) at an independent 3rd party (auditor, regulator, or other trusted provider) would be another valid strategy to defend against a counter-party with malicious intent.
    ","If the organization itself is trying to manipulate blocks, adding peers on side would not resolve the issue, am I right with this assumption? This issue would be adressed only if we'd have a node at a 3rd party. And is it possible, that a peer is part of more than one channel?OOOyes, adding peers on one side doesn't help since if the counter-party with malicious intent is in control of the additional peers as well. IMHO one peer can take part of as many channels as desired. In addition, I assume adding peers to just one organization will case an imbalance so that if that organizations becomes malicious it will have an even easier time to compromise the block-chain @christo4ferris can you confirm the last two statements?OOOAdding peers to one org will not cause an imbalance, per se.  It would really depend on the endorsement policy for the channel, but it should be possible to defend against this by asserting that you have only 1 of an org's peers sign/validate a transaction."
"191","Consensus manipulation when using only two peers on a Hyperledger Fabric channel?","2017-07-25T21:50:51",280,"What happens in Hyperledger Fabric on a private channel block-chain consisting of only two peers if one of the peers is faulty and manipulates it's private block chain?

So the two copies of the block chain will diverge and finally it will be impossible for a consensus algorithm to tell which one is correct.

Is this a valid problem? If so, how would this be mitigated? Would it help to add additional peers to the channel (e.g. placed at a regulator's data center) which are not in control of the two peers mentioned above? Or is there a better solution to tackle this problem?","blockchain hyperledger hyperledger-fabric",NA,"
The consensus is achieved in the Ordering Service, the Peers are independent from it. I think that they are two different things:

The Peers don't manipulate the Blockchain. They could send incorrect or invalid transactions. The result of the execution of those transactions depends on the Smart Contrac that you have on the Peers, and the Endorsement Policy that you have defined. Then, each Peer sends the validated transactions to the Ordering Service.
The Blocks are created by the Ordering Service, so the blocks will be equal to both peers.
The solution to that issue would be to create an Ordering Service where the orderers are located in additional and independent 3rd party.

Nowadys, the Ordering Services gives you the chance to choose among different Services: two different are developed, a third one will be ready soon. More info about it, here.
    ",NA
"192","should we add our user registration data in blockchain instead of mongodb and what is the correct way?","2019-10-21T14:33:27",14,"presently i'm working on tendering through block Chain so for issuing any tender user must have an account on the other side block Chain only stores data which we want to secure and which need to where should i store the  registration data","node.js mongodb blockchain",NA,NA,NA
"193","Searching for an item in a blockchain","2018-02-15T22:23:23",614,"A blockchain is a chain that includes a hash to the previous block. Each block is composed of a single hash tree (or a Merkle Tree). What I am discussing is the overall structure of the blockchain.

Since values of a blockchain are inside of a hash tree, what is the best way to look for a value inside of a block chain? I imagine it would be unfeasible to traverse the entire block chain to search the tree for the value you wish to find. Is there a search method I am missing for searching for a value inside of a block in a blockchain?","blockchain",NA,"
If all you have is a blockchain with Merkle-trees in each block, then this data structure by definition does not provide any means for searching anything efficiently:

All the hashes in the leafs of the Merkle tree are essentially pseudo-random, and contain no usable information about the content
All the hashes in the nodes of the merkle tree are pseudo-random bit sequences formed by hashing of concatenations of pseudo-random bit sequences (cryptographically strong pseudo-random-nonsense squared, log N times)
The hash pointing to the previous block is good for nothing except finding that previous block (pseudo-random-nonsense to the power of M, where M is the number of blocks)
Ditto for the hash of the block itself
In conclusion: no, the hashes of the blocks and the Merkle-trees are essentially useless for searching information. It's not only ""inefficient"", it's by design the most useless ""indexing"" of the data contained in the blockchain (because the hashes change completely as soon as a single bit in the data flips). If you want to find anything in such a data structure, there is absolutely nothing you can do except traversing it in linear time. All those hashes do is ensuring that the blockchain is not tampered with, and nothing else.

However, nobody forces you to traverse the entire blockchain every time you want to find some information in it. Instead, you can

Traverse the entire blockchain once
Build whatever additional data structures you need for finding what you need in the blockchain (indexes, search trees, graphs, fingerprints, whatever you can build from the data in the blockchain)
and then on every request you simply

use the pre-computed data structures to execute your query efficiently
and every time a new block is appended

update all the precomputed data structures.
Alternatively: rebuild your data structures occasionally, treat the last few blocks separately.

It's very much the same with ""the internet"". It's a network of nodes with content in them. How do you find anything in those nodes? Do you traverse all the nodes every time you want to find anything? No, you ask a search engine. Because the search engine has already done the job in the background, and visited (some) of the nodes in the network, and indexed the content, so that you can find stuff in it easily. Same thing here, except that your graph is linear (if you forget the orphan branches), and that the nodes previously added to the graph don't change too often (never, unless someone disproportionally powerful attacks your blockchain). The immutability of the previously added nodes should certainly be used for efficiency when you update your data structures: if you already have seen those nodes, there is no need to re-scan them every time (unlike in the internet, where content of the previously indexed nodes nodes can change).

Another (obvious) alternative, if you can influence the design of the blockchain: think about what might be useful ahead of time, bake the required data structures into the blockchain right from the start, so that not only the blockchain itself, but also the data structures that help navigate the blockchain cannot be modified easily.
    ","Does this apply equally for both bitcoin and etherium, or is there any difference in the structure and searching among these two?"
"194","How to build chain of block-rescue dynamically? [closed]","2013-06-03T13:59:33",634,"It's difficult to tell what is being asked here. This question is ambiguous, vague, incomplete, overly broad, or rhetorical and   cannot be reasonably answered in its current form. For help clarifying this question so that it can be reopened,   visit the help center.                                                                                                                             Closed 6 years ago.                                  Is that possible to build a chain of block/rescue like this one dynamically, e.g from an array of symbols [:f1, :f2, :f3, f4]. The code below is supposed to mimick what I would write statically:

  begin
    applyF1()
  rescue
    applyF2()
    begin
      applyF3()
    rescue
      applyF4()
    end
  end


I already know how to send a built message from symbols (object.send(message)), so applyFx is not the problem.","ruby metaprogramming","Is the block structure constant? I mean, are the functions which will be called the only variables here?OOOWhy the downvote? This is a perfectly reasonable question, even though there may be better ways to accomplish what the OP is trying to do.OOOFirst, using camel case for a method/variable in Ruby sucks. Second, using an empty () for method in Ruby sucks. Third, the connection between :f1 and applyF1 is not clear. Why not write send(:f1)? That makes it much clearer, and the OP would not have to put an excuse that applyFx is not a problem. Fourth, and most importantly, the rule is not clear. Why are applyF1 and applyF3 in begin rescue but not applyF2 and applyF4?","
Not sure the behavior you really expected, because as @sawa, I don't see you are treating applyF{1..4} equally either.

This snippet shows how to evaluate a few lambdas in turn, until one of them returns a non-false value without raising anything.

If you want to evaluate applyF{1..?} in pairs ( when F1 failed, recover by F2, then try with F3 and recover by F4 when fail, and so on ), you can make applyF{2,4,..} always return nil.

#!/usr/bin/env ruby

blocks = {
  a: ->(){ raise ""raise"" },
  b: ->(){ raise ""also raise"" },
  c: ->(){ :finished },
  d: ->(){ ""won't be executed"" },
}

ret = blocks.reduce(nil) do |has_succeeded, (key, lam)|
  has_succeeded ||=
  begin
    puts ""trying #{key.inspect}""
    lam.call # when succeed, the lambda should return a non-false value
  rescue => e
    puts ""failed with message=<#{e.message}>. trying next""
    nil
    # no else clause here, so
    # if lam.call raises nothing, memo keep its return value, and prevents calling following {lam}s.
    # if something is raised in lam.call, this block evalutes to nil
  end
end

# will print:
# trying :a
# failed with message=<raise>. trying next
# trying :b
# failed with message=<also raise>. trying next
# trying :c

p ret
# => :finished


reference : How is the value of a begin block determined?
    ",NA
"195","How to build chain of block-rescue dynamically? [closed]","2013-06-03T13:59:33",634,"It's difficult to tell what is being asked here. This question is ambiguous, vague, incomplete, overly broad, or rhetorical and   cannot be reasonably answered in its current form. For help clarifying this question so that it can be reopened,   visit the help center.                                                                                                                             Closed 6 years ago.                                  Is that possible to build a chain of block/rescue like this one dynamically, e.g from an array of symbols [:f1, :f2, :f3, f4]. The code below is supposed to mimick what I would write statically:

  begin
    applyF1()
  rescue
    applyF2()
    begin
      applyF3()
    rescue
      applyF4()
    end
  end


I already know how to send a built message from symbols (object.send(message)), so applyFx is not the problem.","ruby metaprogramming","Is the block structure constant? I mean, are the functions which will be called the only variables here?OOOWhy the downvote? This is a perfectly reasonable question, even though there may be better ways to accomplish what the OP is trying to do.OOOFirst, using camel case for a method/variable in Ruby sucks. Second, using an empty () for method in Ruby sucks. Third, the connection between :f1 and applyF1 is not clear. Why not write send(:f1)? That makes it much clearer, and the OP would not have to put an excuse that applyFx is not a problem. Fourth, and most importantly, the rule is not clear. Why are applyF1 and applyF3 in begin rescue but not applyF2 and applyF4?","
This is the first that comes to my mind:

def rescueChain(*args)
  args.each do |f|
    begin
      <... apply f here ...>
      return  # Exits from the entire function.
    rescue
    end
  end
end


I didn't test it yet.
    ",NA
"196","How to skip promise in a chain","2017-02-02T04:05:57",5691,"I am working in a nodejs project and want to skip promise in a chain. Below is my code. In the first promise block, it will resolve a value {success: true}. On the second block I want to check the value of success, if true I want to return the value to the called and skip the rest of the promises in this chain; while continue the chain if the value is false. I know I can throw an error or reject it on the second block but I have to handle error case which it is not an error case. So how can I achieve this in promise chain? I need a solution without bring any other 3rd party library.

new Promise((resolve, reject)=>{
    resolve({success:true});
}).then((value)=>{
    console.log('second block:', value);
    if(value.success){
        //skip the rest of promise in this chain and return the value to caller
        return value;
    }else{
        //do something else and continue next promise
    }
}).then((value)=>{
    console.log('3rd block:', value);
});","javascript node.js promise","you can't ... just like you can't take a link out of  the middle of a  chain and think you have one chain ... you have two! Of course ""specifically crafted"" values can be sent and detected along the chainOOOYou can't give back the value to caller. Result of invoking promise returns promise object, not the value that you've returned.OOOPossible duplicate of How to handle the if-else in promise then?","
Simply nest the part of the chain you want to skip (the remainder in your case):

new Promise(resolve => resolve({success:true}))
.then(value => {
    console.log('second block:', value);
    if (value.success) {
        //skip the rest of this chain and return the value to caller
        return value;
    }
    //do something else and continue
    return somethingElse().then(value => {
        console.log('3rd block:', value);
        return value;
    });
}).then(value => {
    //The caller's chain would continue here whether 3rd block is skipped or not
    console.log('final block:', value);
    return value;
});

    ","The rest of my promise in the chain is very long. If I do that, I have to create nested promise chain which I don't like. Is there a better way to do that?OOO@ZhaoYi There's nothing wrong with nesting here. You nest statements inside an if don't you? It's a conditional branch of the promise chain, which is idiomatically correct IMHO. See my answer to a similar question.OOO@ZhaoYi - Any conditionally executed .then() handler has to be nested because you are creating a short sub-branch of the main chain.  The rest of your chain can continue at the top level just fine (which this answer doesn't show).  Branching requires nesting.OOO@jfriend00 Top level added. Good idea. I also pass through value or code won't make sense."
"197","How to skip promise in a chain","2017-02-02T04:05:57",5691,"I am working in a nodejs project and want to skip promise in a chain. Below is my code. In the first promise block, it will resolve a value {success: true}. On the second block I want to check the value of success, if true I want to return the value to the called and skip the rest of the promises in this chain; while continue the chain if the value is false. I know I can throw an error or reject it on the second block but I have to handle error case which it is not an error case. So how can I achieve this in promise chain? I need a solution without bring any other 3rd party library.

new Promise((resolve, reject)=>{
    resolve({success:true});
}).then((value)=>{
    console.log('second block:', value);
    if(value.success){
        //skip the rest of promise in this chain and return the value to caller
        return value;
    }else{
        //do something else and continue next promise
    }
}).then((value)=>{
    console.log('3rd block:', value);
});","javascript node.js promise","you can't ... just like you can't take a link out of  the middle of a  chain and think you have one chain ... you have two! Of course ""specifically crafted"" values can be sent and detected along the chainOOOYou can't give back the value to caller. Result of invoking promise returns promise object, not the value that you've returned.OOOPossible duplicate of How to handle the if-else in promise then?","
If you don't like the idea of nesting, you can factor the remainder of your chain into a separate function:

// give this a more meaningful name
function theRestOfThePromiseChain(inputValue) {
    //do something else and continue next promise
    console.log('3rd block:', value);

    return nextStepIntheProcess()
        .then(() => { ... });
}

function originalFunctionThatContainsThePromise() {
    return Promise.resolve({success:true})
        .then((value)=>{
            console.log('second block:', value);
            if(value.success){
                //skip the rest of promise in this chain and return the value to caller
                return value;
            }

            return theRestOfThePromiseChain(value);
        });
}


Aside from that, there isn't really a way to stop a promise mid-stream.
    ","A separate function is still technically nesting."
"198","How to skip promise in a chain","2017-02-02T04:05:57",5691,"I am working in a nodejs project and want to skip promise in a chain. Below is my code. In the first promise block, it will resolve a value {success: true}. On the second block I want to check the value of success, if true I want to return the value to the called and skip the rest of the promises in this chain; while continue the chain if the value is false. I know I can throw an error or reject it on the second block but I have to handle error case which it is not an error case. So how can I achieve this in promise chain? I need a solution without bring any other 3rd party library.

new Promise((resolve, reject)=>{
    resolve({success:true});
}).then((value)=>{
    console.log('second block:', value);
    if(value.success){
        //skip the rest of promise in this chain and return the value to caller
        return value;
    }else{
        //do something else and continue next promise
    }
}).then((value)=>{
    console.log('3rd block:', value);
});","javascript node.js promise","you can't ... just like you can't take a link out of  the middle of a  chain and think you have one chain ... you have two! Of course ""specifically crafted"" values can be sent and detected along the chainOOOYou can't give back the value to caller. Result of invoking promise returns promise object, not the value that you've returned.OOOPossible duplicate of How to handle the if-else in promise then?","
You could also continue to throw the error down the chain to a final catch block if you like.

const test = () => {
  throw new Error('boo');
}

const errorHandler = (e) => { throw e };

Promise.resolve()
        .then(console.log('then1'))
        .then(() => test())
        .then(f => console.log('then2'), errorHandler)
        .then(f => console.log('then3'), errorHandler)
        .catch((err) => console.log('caught', err));

// whoo
// then1
// caught Error: boo

    ",NA
"199","Spring integration chain error block process","2017-12-11T16:54:37",73,"I'm trying to handle errors using the int:poller, I defined an error-channel on the poller  when an error occurs the ErrorHandler invoked, but it still executed in a loop and 
block the principal process that handle the next correct message.
Here's my config any ideas?

<int:outbound-channel-adapter ref=""cvsMessageHandler"" method=""handleMessage"" channel=""cvsInputChannel""/>
<int:poller max-messages-per-poll=""1"" id=""defaultPoller"" default=""true"" fixed-rate=""5000""
            error-channel=""cvsErrorChannel"">
    <int:transactional transaction-manager=""transactionManager"" />
</int:poller>

<bean id=""cvsMessageHandler"" class=""com.cvs.ws.wrapper.MessageHandler"">
</bean>


<int:channel id=""cvsErrorChannel""/>

<bean id=""cvsErrorMessageHandler"" class=""com.eplatform.transverse.cvs.ws.service.ErrorHandler"">
    <property name=""eventService"" ref=""cvsEventService""/>
    <property name=""eventFactory"" ref=""cvsEventFactory""/>
</bean>

<int:chain input-channel=""cvsErrorChannel"">
    <int:service-activator ref=""cvsErrorMessageHandler"" method=""handleMessage""/>
</int:chain>

<stream:stderr-channel-adapter channel=""errorChannel"" append-newline=""true""/>




<int:channel id=""csdbInputChannel"">
    <int:queue message-store=""messageStore""/>
</int:channel>

<bean id=""csdbService"" class=""com.renault.eplatform.transverse.datapower.csdb.ws.service.CsdbService"">
    <property name=""channel"" ref=""csdbInputChannel""/>
</bean>

<bean id=""csdbWrapper"" class=""com.renault.eplatform.transverse.datapower.csdb.ws.wrapper.CsdbWrapper"">
    <property name=""httpClient"">
        <bean class=""com.fullsix.framework.net.http.HttpClientFactoryBean""/>
    </property>
    <property name=""url"" value=""${www}""/>
    <property name=""enumCountry"" ref=""currentCountry""/>
    <property name=""datapowerLoggingService"" ref=""dxxx""/>
    <property name=""password"" value=""${dwwww}""/>
    <property name=""socketTimeout"" value=""20000""/>
    <property name=""timeout"" value=""20000""/>
</bean>



  201803-08 15:34:55,546 ERROR [ErrorHandler.java:28] - Try to fix data
  on tables DATAPOWER_CSDB_MESSAGE_GROUP and DATAPOWER_CSDB_MESSAGE
  
  201803-08 15:34:55,547 DEBUG
  [AbstractReplyProducingMessageHandler.java:107]
   - handler 'ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@4cc7014c]'
  produced no reply for request Message:
  [Payload=java.lang.NullPointerException][Headers={timestamp=1520519695543,
  id=b71d066b-a8e5-4fa3-8b87-a8c1d9e57587}] 
  201803-08 15:34:55,547
  DEBUG [AbstractMessageChannel.java:237] - postSend (sent=true) on
  channel 'csdbErrorChannel', message:
  [Payload=java.lang.NullPointerException][Headers={timestamp=1520519695543,
  id=b71d066b-a8e5-4fa3-8b87-a8c1d9e57587}] 
  201803-08 15:35:00,515
  DEBUG [AbstractPlatformTransactionManager.java:365] - Creating new
  transaction with name
  201803-08 15:35:00,516 DEBUG
  [SessionImpl.java:265] - opened session at timestamp: 15205197005
  
  201803-08 15:35:00,517 DEBUG [HibernateTransactionManager.java:493] -
  Opened new Session [org.hibernate.impl.SessionImpl@7e350225] for
  Hibernate transaction 
  201803-08 15:35:00,517 DEBUG
  [HibernateTransactionManager.java:504] - Preparing JDBC Connection of
  Hibernate Session [org.hibernate.impl.SessionImpl@7e350225] 
  201803-08
  15:35:00,517 DEBUG [JDBCTransaction.java:78] - begin 
  201803-08
  15:35:00,518 DEBUG [ConnectionManager.java:444] - opening JDBC
  connection 
  201803-08 15:35:00,518 DEBUG [JDBCTransaction.java:83] -
  current autocommit status: true 
  201803-08 15:35:00,519 DEBUG
  [JDBCTransaction.java:86] - disabling autocommit 
  201803-08
  15:35:00,519 DEBUG [HibernateTransactionManager.java:569] - Exposing
  Hibernate transaction as JDBC transaction
  [jdbc:oracle:thin:@//active-db-valid:1521/rsite, UserName=RSITE_ES,
  Oracle JDBC driver] 
  201803-08 15:35:00,520 DEBUG
  [JdbcTemplate.java:635] - Executing prepared SQL query 
  201803-08
  15:35:00,520 DEBUG [JdbcTemplate.java:570] - Executing prepared SQL
  statement [SELECT COUNT(MESSAGE_ID) from DATAPOWER_CSDB_MESSAGE_GROUP
  where GROUP_KEY=? AND REGION=?] 
  201803-08 15:35:00,523 DEBUG
  [JdbcTemplate.java:635] - Executing prepared SQL query 
  201803-08
  15:35:00,523 DEBUG [JdbcTemplate.java:570] - Executing prepared SQL
  statement [SELECT MESSAGE_ID, CREATED_DATE from
  DATAPOWER_CSDB_MESSAGE_GROUP where GROUP_KEY=? and REGION=? order by
  UPDATED_DATE] 
  201803-08 15:35:00,525 DEBUG [JdbcTemplate.java:635] -
  Executing prepared SQL query 
  201803-08 15:35:00,526 DEBUG
  [JdbcTemplate.java:570] - Executing prepared SQL statement [SELECT
  MESSAGE_ID, CREATED_DATE, MESSAGE_BYTES from DATAPOWER_CSDB_MESSAGE
  where MESSAGE_ID=? and REGION=?] 
  201803-08 15:35:00,528 DEBUG
  [DefaultLobHandler.java:117] - Returning BLOB as bytes 
  201803-08
  15:35:00,529 DEBUG [AbstractPlatformTransactionManager.java:843] -
  Initiating transaction rollback 
  201803-08 15:35:00,529 DEBUG
  [HibernateTransactionManager.java:672] - Rolling back Hibernate
  transaction on Session [org.hibernate.impl.SessionImpl@7e350225]
  
  201803-08 15:35:00,530 DEBUG [JDBCTransaction.java:182] - rollback
  
  201803-08 15:35:00,531 DEBUG [JDBCTransaction.java:223] - re-enabling
  autocommit 
  201803-08 15:35:00,531 DEBUG [JDBCTransaction.java:193] -
  rolled back JDBC Connection 
  201803-08 15:35:00,531 DEBUG
  [ConnectionManager.java:325] - transaction completed on session with
  on_close connection release mode; be sure to close the session to
  release JDBC resources! 
  201803-08 15:35:00,532 DEBUG
  [HibernateTransactionManager.java:734] - Closing Hibernate Session
  [org.hibernate.impl.SessionImpl@7e350225] after transaction 
  201803-08
  15:35:00,532 DEBUG [SessionFactoryUtils.java:800] - Closing Hibernate
  Session 
  201803-08 15:35:00,533 DEBUG [ConnectionManager.java:464] -
  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0)
  (open ResultSets: 0, globally: 0)] 
  201803-08 15:35:00,533 DEBUG
  [ConnectionManager.java:325] - transaction completed on session with
  on_close connection release mode; be sure to close the session to
  release JDBC resources! 
  201803-08 15:35:00,534 DEBUG
  [AbstractMessageChannel.java:224] - preSend on channel
  'csdbErrorChannel', message:
  [Payload=java.lang.NullPointerException][Headers={timestamp=1520519700534,
  id=fe974a6c-2351-4b95-ac6f-b98a0c02a7b3}] 
  201803-08 15:35:00,534
  DEBUG [AbstractMessageHandler.java:67] -
  org.springframework.integration.handler.MessageHandlerChain#0 received
  message:
  [Payload=java.lang.NullPointerException][Headers={timestamp=1520519700534,
  id=fe974a6c-2351-4b95-ac6f-b98a0c02a7b3}] 
  201803-08 15:35:00,535
  DEBUG [AbstractMessageHandler.java:67] - ServiceActivator for
  [org.springframework.integration.handler.MethodInvokingMessageProcessor@4cc7014c]
  received message:
  [Payload=java.lang.NullPointerException][Headers={timestamp=1520519700534,
  id=fe974a6c-2351-4b95-ac6f-b98a0c02a7b3}] 
  201803-08 15:35:00,535 
  INFO [ErrorHandler.java:25] - Error message handled 
  201803-08
  15:35:00,536 ERROR [ErrorHandler.java:27] -
  java.lang.NullPointerException 
  201803-08 15:35:00,536 ERROR
  [ErrorHandler.java:28] - Try to fix data on tables
  DATAPOWER_CSDB_MESSAGE_GROUP and DATAPOWER_CSDB_MESSAGE*


*","spring spring-integration","Your question is not clear; first step is to turn on DEBUG logging and follow the messages through the flow. If you still can't figure it out, explain the problem further and edit the question to add the logs.OOOThank you for answering, I took time to read the documentation of spring integration, then I guess the problem is due to JDBC Message Store, he store messages with null payload in the database, and when the consumer tries to receive that's the wrong message, error handler Handel Exception message contains NullPointerException I think until this step is a correct behavior, but my question is why the receiver still blocked on this bad message (with payload null) and spring re-send error message on the channel, this behavior goes into a loop until I delete the bad message from database table.OOOIf you throw an exception on the error flow, the transaction will roll back - you need to catch the NPE to avoid that.OOOOk thanks, but I should catch NPE when i handle a message error !OOOYes; in the error flow; if you need more help add a stack trace to your question.",NA,NA
"200","Which is the more efficient way to hold contract data on the Ethereum block chain?","2015-12-11T05:33:08",346,"I am playing with a private Ethereum blockchain, and I am interested in implementing some smart contracts. However, information is very limited since this is a newer implementation of the blockchain.

Just as an example, say I want a contract that holds information about a person. Is it more efficient to create a new contract for each person, or simply hold information about all users in the same contract?

In pseudo-code, the two options look like this.

Option 1 (instantiate a new contract for each person):

contract = // contract code

ethereum.newContract(contract, userInfo);


Option 2 (hold info of all users in one contract):

contract = {
  var users = [];

  // other contract code
}

ethereum.newContract(contract, userInfo);


Here's how we can quantify ""efficiency"" in this case:

Each time a new contract is instantiated, we have to mine the block for the contract, and then mine any transactions the user makes to the contract. If we only instantiate one contract, however, we only mine the contract deployment once, and then any transactions thereafter, but...
If we go with the option of storing all info for all users in one contract, is only the ""diff"" of the contract data (the ""array"" of all users) stored as a block, or is the entire set of data stored in every block? Or...
If we go with the option of ""contract per user"", does it ""waste space"" if we're storing the entire contract definition multiple times (and is it worth the possibly redundant mining that needs to take place)?
Hopefully I was clear in my question, but if not, please let me know. I believe this question is one of ""trade offs"".

(Re: the tags -- I'm using the golang implementation of Ethereum, and a JavaScript API to interact with it.)","javascript go blockchain ethereum",NA,"
Yes. However, each time you want to add a user you will have to send a transaction for adding a new record to the existing contract.
Blocks consist of transactions. Each time you add a user, you will have to create a transaction for the corresponding function call. However, you will only have to do this once and not the data will not be redundantly copied to future blocks.
Yes.
From the way your question is structured, it seems you should read up again on the difference between transactions and blocks.
    ",NA
"201","Which is the more efficient way to hold contract data on the Ethereum block chain?","2015-12-11T05:33:08",346,"I am playing with a private Ethereum blockchain, and I am interested in implementing some smart contracts. However, information is very limited since this is a newer implementation of the blockchain.

Just as an example, say I want a contract that holds information about a person. Is it more efficient to create a new contract for each person, or simply hold information about all users in the same contract?

In pseudo-code, the two options look like this.

Option 1 (instantiate a new contract for each person):

contract = // contract code

ethereum.newContract(contract, userInfo);


Option 2 (hold info of all users in one contract):

contract = {
  var users = [];

  // other contract code
}

ethereum.newContract(contract, userInfo);


Here's how we can quantify ""efficiency"" in this case:

Each time a new contract is instantiated, we have to mine the block for the contract, and then mine any transactions the user makes to the contract. If we only instantiate one contract, however, we only mine the contract deployment once, and then any transactions thereafter, but...
If we go with the option of storing all info for all users in one contract, is only the ""diff"" of the contract data (the ""array"" of all users) stored as a block, or is the entire set of data stored in every block? Or...
If we go with the option of ""contract per user"", does it ""waste space"" if we're storing the entire contract definition multiple times (and is it worth the possibly redundant mining that needs to take place)?
Hopefully I was clear in my question, but if not, please let me know. I believe this question is one of ""trade offs"".

(Re: the tags -- I'm using the golang implementation of Ethereum, and a JavaScript API to interact with it.)","javascript go blockchain ethereum",NA,"
A single contract for all users should be sufficient, given that your user objects are not too large.

From the code above, suggest using a map which will allow more efficient fetching of user records than an array. Key the records by any string, such as first+last name.

mapping(string => user_struct) public users;

    ",NA
"202","jQuery how to ¡°chain¡± a conditional/function","2010-12-16T17:01:56",1799,"I have the following block of code:

if (current <= total) {

            $next.css({opacity: 0.0})
            .addClass(""active"")
            .animate({opacity: 1.0}, 1000, function() {
                current -= 1;
                if (current == 1)
                    {
                        jQuery(""#next"").animate({opacity: 0}, 500); 
                        next_isShowing = false;
                    }
                if (!prev_isShowing) 
                    {
                        jQuery(""#prev"").animate({opacity: 1.0}, 500); 
                    }


            });


The only thing is, I actually want to move this block of code before the "".animate"":

    current -= 1;
if (current == 1)
            {
                jQuery(""#next"").animate({opacity: 0}, 500); 
                next_isShowing = false;
            }


Is there a way to take this block of text and ""chain"" it into my current chain?","jquery",NA,"
It sounds like you're trying to write 

$(...)
    .filter(function() { return current === 1; })
    .animate(...)
    .end()
    .thingy(...)

    ","Wait I just realized I missed something...I actually need to decrement my ""current"" counter and THEN run my conditional (made the edit above)"
"203","jQuery how to ¡°chain¡± a conditional/function","2010-12-16T17:01:56",1799,"I have the following block of code:

if (current <= total) {

            $next.css({opacity: 0.0})
            .addClass(""active"")
            .animate({opacity: 1.0}, 1000, function() {
                current -= 1;
                if (current == 1)
                    {
                        jQuery(""#next"").animate({opacity: 0}, 500); 
                        next_isShowing = false;
                    }
                if (!prev_isShowing) 
                    {
                        jQuery(""#prev"").animate({opacity: 1.0}, 500); 
                    }


            });


The only thing is, I actually want to move this block of code before the "".animate"":

    current -= 1;
if (current == 1)
            {
                jQuery(""#next"").animate({opacity: 0}, 500); 
                next_isShowing = false;
            }


Is there a way to take this block of text and ""chain"" it into my current chain?","jquery",NA,"
In this particular case since the decrement and conditional acted on another object, I could just move it outside of the chain:

if (current <= total) {

            $next.css({opacity: 0.0})
            .addClass(""active"")
            .animate({opacity: 1.0}, 1000, function() {
                if (!prev_isShowing) 
                    {
                        jQuery(""#prev"").animate({opacity: 1.0}, 500); 
                    }
            });

           current -= 1;
           if (current == 1)
              {
                jQuery(""#next"").animate({opacity: 0}, 500); 
                next_isShowing = false;
              }
}


But I found this plugin in case anyone needs to chain a conditional:

http://benalman.com/code/javascript/jquery/jquery.ba-cond.js

Works like:
    ","or rather if (--int == 1) for your final statement"
"204","No `MissingBackpressureException` exception with `Flowable.interval` and blocking chain","2019-04-10T07:04:51",16,"Consider the following example:

fun main() {
  Flowable.interval(1, TimeUnit.MILLISECONDS).map {
    Thread.sleep(1000)
    it
  }.blockingForEach { println(it) }
}


Do to missing backpressure, I would expect to get a MissingBackpressureException as written in the docs of Flowable.interval.

What am I getting wrong?","rx-java2 rx-kotlin2","By mapping the interval to sleep, you block the call stack so effectively you are producing one item per second, which can be easily processed by blockingForEach in time.OOOSo I have to switch to another Scheduler before map. How do I get back to the previous scheduler after map?OOOYou can only get back if you provide a custom one that uses the same worker thread. The standard schedulers besides Schedulers.single() don't help you with that, so you have to create one from an ExecutorService via Schedulers.from(). Why do you want to get an MBE in the first place?OOOI was researching a way to achieve: stackoverflow.com/questions/55606278/¡¦OOO@akarnokd Would you mind checking the other post, I am getting an InterruptedException with debounce.",NA,NA
"205","Mining Fee for the blocks that are stale","2018-02-13T11:14:47",41,"This question is regarding the blockchain and bitcoin. Suppose a miner mined a block and the block got added in the main chain of the block chain. He must have got his mining fee then. Now suppose that due to a fork sometimes later, the block that he mined is no longer a part of the main chain, i.e. that block is orphaned now. Then would he retain his mining fee or would it get deducted?","bitcoin blockchain mining","Would this more suited for the Bitcoin Stack Exchange?","
As I understood the forks of the blockchain, every fees you got and any money you have gets converted to the new money... So you will still have your money but converted to the new type of money. So instead of having a bitcoin you may then have like 20 bitcoins which are worth the same in dollars. So your mined block is not any longer in the blockchain as it was before but after the fork your money is still there as there are new blocks from the fork which confirm that you have the money...

Hope you understood what I wanted to say.
I'm not English so forgive me if my English is a bit sluggish from time to time.
    ",NA
"206","Chaining method blocks (Ruby)","2019-05-22T09:53:27",91,"Considering the following code: 

    lines = Array.new() 
    File.foreach('file.csv').with_index do |line, line_num|                 
      lines.push(line.split("" "")) if line_num > 0                                 
    end                                                                                  

    indices = lines.map { |el| el.last }                                          
    duplicates = indices.select{ |e| indices.count(e) > 2 }.uniq


Example CSV file looks like this for all who wonder:

# Generated by tool XYZ
a b c 1
d e f 2
g h i 1
j k l 4
m n o 5
p q r 2
s t u 2
v w x 1
y z 0 5


Is it possible to chain these two methods blocks (last two lines of code) together?","ruby","Seems like your file contains a header line and space separated values. It might be worth taking a look at Ruby's CSV class.OOOYes, this might be a good idea as well. However my file consists out of one comment string (""# Generated by tool XYZ"") in the first line (No real CSV header thus). Which I can simply skip with the iterator above. Correct?OOOSure, although File.foreach('file.csv').drop(1) might be cleaner in that case.OOOStefan: Fabulous. Thank you.","
If you don't want to have a intermediate variable and want to do it in a single line, you can write something like this:

duplicates = lines.group_by(&:last).select{|k, v| v.count > 2}.keys


For some people, this might hinder readability though! Just depends on your taste.
    ","Don't you mean uniq for the last method call?OOONo. Unique is done on the first step already group_by.OOOHow do you call the &:last  syntax? It's not a method reference but a shorthand notation. Pretzel colon? stackoverflow.com/questions/1217088/¡¦OOOSo, also this should be valid: duplicates = lines.group_by {|e| e.last}.select{|k, v| v.count > 2}.keys if understood the &:method syntax correctly which convert's basically a proc to a block.OOO@Babar: Yes I tested this, thanks."
"207","Chaining method blocks (Ruby)","2019-05-22T09:53:27",91,"Considering the following code: 

    lines = Array.new() 
    File.foreach('file.csv').with_index do |line, line_num|                 
      lines.push(line.split("" "")) if line_num > 0                                 
    end                                                                                  

    indices = lines.map { |el| el.last }                                          
    duplicates = indices.select{ |e| indices.count(e) > 2 }.uniq


Example CSV file looks like this for all who wonder:

# Generated by tool XYZ
a b c 1
d e f 2
g h i 1
j k l 4
m n o 5
p q r 2
s t u 2
v w x 1
y z 0 5


Is it possible to chain these two methods blocks (last two lines of code) together?","ruby","Seems like your file contains a header line and space separated values. It might be worth taking a look at Ruby's CSV class.OOOYes, this might be a good idea as well. However my file consists out of one comment string (""# Generated by tool XYZ"") in the first line (No real CSV header thus). Which I can simply skip with the iterator above. Correct?OOOSure, although File.foreach('file.csv').drop(1) might be cleaner in that case.OOOStefan: Fabulous. Thank you.","
O(N) solution (single pass) would look like:

lines.each_with_object([[], []]) do |el, (result, temp)|
  (temp.delete(el) ? result : temp) << el
end.first


Here we use an intermediate 

Also, you always might use Object#tap:

duplicates =
  lines.map(&:last).tap do |indices|
    indices.select { |e| indices.count(e) > 2 }.uniq
  end

    ","Tap is interesting to know, thank you."
"208","Chaining method blocks (Ruby)","2019-05-22T09:53:27",91,"Considering the following code: 

    lines = Array.new() 
    File.foreach('file.csv').with_index do |line, line_num|                 
      lines.push(line.split("" "")) if line_num > 0                                 
    end                                                                                  

    indices = lines.map { |el| el.last }                                          
    duplicates = indices.select{ |e| indices.count(e) > 2 }.uniq


Example CSV file looks like this for all who wonder:

# Generated by tool XYZ
a b c 1
d e f 2
g h i 1
j k l 4
m n o 5
p q r 2
s t u 2
v w x 1
y z 0 5


Is it possible to chain these two methods blocks (last two lines of code) together?","ruby","Seems like your file contains a header line and space separated values. It might be worth taking a look at Ruby's CSV class.OOOYes, this might be a good idea as well. However my file consists out of one comment string (""# Generated by tool XYZ"") in the first line (No real CSV header thus). Which I can simply skip with the iterator above. Correct?OOOSure, although File.foreach('file.csv').drop(1) might be cleaner in that case.OOOStefan: Fabulous. Thank you.","
Example

Let's apply your code to an example.

str =<<-END
Now is the
time for all
people who are
known to all
of us as the
best coders are
expected to
lead all
those who are
less experienced
to greatness
END




FName = 'temp'
File.write(FName, str)
  #=> 146


Your code

lines = Array.new() 
File.foreach(FName).with_index do |line, line_num|                 
  lines.push(line.split("" "")) if line_num > 0                                 
end                                                                                  
lines
  #=> [[""time"", ""for"", ""all""], [""people"", ""who"", ""are""], [""known"", ""to"", ""all""],
  #    [""of"", ""us"", ""as"", ""the""], [""best"", ""coders"", ""are""], [""expected"", ""to""],
  #    [""lead"", ""all""], [""those"", ""who"", ""are""], [""less"", ""experienced""],
  #    [""to"", ""greatness""]] 
indices = lines.map { |el| el.last }                                          
  #=> [""all"", ""are"", ""all"", ""the"", ""are"", ""to"", ""all"", ""are"", ""experienced"", ""greatness""] 
duplicates = indices.select { |e| indices.count(e) > 2 }
  #=> [""all"", ""are"", ""all"", ""are"", ""all"", ""are""] 
duplicates.uniq
  #=> [""all"", ""are""] 


The object is seen to return an array of all words that appear as the last word of a line (other than the first line) more than twice.

More Ruby-like and more efficient code

We can do that more concisely and efficiently by making a single pass through the file:

first_line = true
h = Hash.new(0)
File.foreach(FName) do |line|
  if first_line
    first_line = false
  else
    h[line[/\S+(?=\n)/]] += 1
  end
end
h.select { |_,count| count > 2 }.keys
  #=> [""all"", ""are""]


Steps performed

The steps are as follows.

first_line = true
h = Hash.new(0)
File.foreach(FName) do |line|
  if first_line
    first_line = false
  else
    h[line[/\S+(?=\n)/]] += 1
  end
end
h #=> {""all""=>3, ""are""=>3, ""the""=>1, ""to""=>1, ""experienced""=>1, ""greatness""=>1}
g = h.select { |_,count| count > 2 }
  #=> {""all""=>3, ""are""=>3} 
g.keys
  #=> [""all"", ""are""]


Use of Enumerator#each_object

Rather than defining the hash before File.foreach(..) is executed, its customary to use the method Enumerator#each_object, which allows us to chain the hash that is constructed to that statements that follow:

first_line = true
File.foreach(FName).with_object(Hash.new(0)) do |line, h|
  if first_line
    first_line = false
  else
    h[line[/\S+(?=\n)/]] += 1
  end
end.select { |_,count| count > 2 }.keys
  #=> [""all"", ""are""] 


Use of a counting hash

I define the hash as follows.

h = Hash.new(0)


This uses the form of Hash::new that defines a default value equal to news argument. If h = Hash.new(0) and h does not have a key k, h[k] returns the default value, zero.  Ruby's parser expands the expression h[k] += 1 to:

h[k] = h[k] + 1


If h does not have a key k, the expression becomes

h[k] = 0 + 1


Note that h[k] = h[k] + 1 is shorthand for:

h.[]=(k, h.[](k) + 1)


It is the method Hash#[] that defaults to zero, not the method Hash#[]=.

Using a regular expression to extract the last word of each line

One of the lines is

str = ""known to all\n""


We can use the regular expression r = /\S+(?=\n)/ to extract the last word:

str[r] #=> ""all""


The regular expression reads, ""match one or more (+) characters that are not whitespace characters (\S), immediately followed by a newline character. (?=\n) is a positive lookahead. ""\n"" must be matched by it is not part of the match returned.
    ","Great examples. Thanks."
"209","UIView chain block animation, delay is not working properly","2011-10-04T20:04:32",1361,"UPDATE
: (I redid my functions so all the animations won't be as nested as before.  Still no luck)

I have a piece of code where a try to, in this order:

Hide view A
Show view B
Show view C
The order is important!

The code is the following :

Main function: 

        [fileMenuController hide:0.2 andDelay:0.1]; 
        [drawingToolController show:0.2 andDelay:0.2];
        [penSizeMenuController showSubViewWithDuration:0.4];


fileMenuController hide function:

     [UIView animateWithDuration:duration //begin animation
                          delay:delay 
                        options:UIViewAnimationCurveEaseIn 
                     animations:^{
                         [self.view setFrame:CGRectOffset([self.view frame], 0, -self.view.frame.size.height)];             
                     } 
                     completion:nil
     ];


drawingToolController show function:

    [UIView animateWithDuration:duration //begin animation
                          delay:delay
                        options:UIViewAnimationCurveEaseIn 
                     animations:^{
                         [self.view setFrame:CGRectOffset([self.view frame], 0, self.view.frame.size.height)];             
                     } 
                     completion:nil
     ];


penSizeController show function:

    [UIView transitionWithView:self.view 
                  duration:duration
                   options:UIViewAnimationOptionTransitionCurlDown
                animations:^{ [self.view addSubview:subView] ;}
                completion:nil];
self.view.alpha = 1;


My problem is the block penSizeController showSubView starts with the first animation (fileMenuController hide)! 

The first two animations (fileMenuController hide and drawingToolController show) are working properly.  When fileMenuController  hide is done, drawingToolController starts.

So, does somebody know why the part in the penSizeController showSubView block starts  at the same time as the first animation?","iphone ios ipad animation core-animation","So you want to show view c after the other two complete? It's starting immediately because you have no delay set on that animation. Set the delay to 0.4 and it will start after the other two.","
I'd imagine it's because the outer animation block doesn't have any animation <U+2013> because the hide and show creates inner animation blocks <U+2013> so it immediately calls the completion block. 

Either remove the nested animation block in hide and show or add a parameter that disables animation for these nested animation actions.
    ","I am not sure to totally understand what you are saying, but I redid my functions so all the animations won't be as nested as before. Still no luck.  You can go back to my post to see the updated code"
"210","WebFlux How to Chain Queries In Functional Non Blocking Way","2019-07-18T05:55:18",98,"I am new to functional paradigm, wondering how to go about doing some querying before creating a new object?

@Override
public Mono<Order> create(CreateOrderRequest specs) {

    //itemRepository.findAll(specs.getItemCodes()) //returns Flux<Item>


    final Order newOrder = new Order(items);
    return orderRepository.insert(newOrder)
            .switchIfEmpty(Mono.error(new ResponseStatusException(HttpStatus.BAD_REQUEST, ""Failed to create order"")));
}


How do I chain the commented code in a non blocking way? The query returns Flux<Item> while Order constructor requires a List<Item>","spring-boot reactive-programming spring-webflux project-reactor reactive",NA,"
You can use the collectList() method, which will change your Flux<Item> into a Mono<List<Item>>.

After that, you can use the map() method to convert your List<Item> into an Order object, and the flatMap() method to get the saved result.

For example:

return itemRepository
    .findAll(specs.getItemCodes())
    .collectList()
    .map(Order::new)
    .flatMap(orderRepository::insert)
    .switchIfEmpty(Mono.error(new ResponseStatusException(HttpStatus.BAD_REQUEST, ""Failed to create order"")));

    ",NA
"211","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Notice: Undefined variable

From the vast wisdom of the PHP Manual:


  Relying on the default value of an uninitialized variable is problematic in the case of including one file into another which uses the same variable name. It is also a major security risk with register_globals turned on. E_NOTICE level error is issued in case of working with uninitialized variables, however not in the case of appending elements to the uninitialized array. isset() language construct can be used to detect if a variable has been already initialized. Additionally and more ideal is the solution of empty() since it does not generate a warning or error message if the variable is not initialized. 


From PHP documentation:


  No warning is generated if the variable does not exist. That means
     empty() is essentially the concise equivalent to !isset($var) || $var
     == false.


This means that you could use only empty() to determine if the variable is set, and in addition it checks the variable against the following, 0, 0.0, """", ""0"", null, false or [].

Example:



$o = [];
@$var = ["""",0,null,1,2,3,$foo,$o['myIndex']];
array_walk($var, function($v) {
    echo (!isset($v) || $v == false) ? 'true ' : 'false';
    echo ' ' . (empty($v) ? 'true' : 'false');
    echo ""\n"";
});


Test the above snippet in the 3v4l.org online PHP editor

Although PHP does not require a variable declaration, it does recommend it in order to avoid some security vulnerabilities or bugs where one would forget to give a value to a variable that will be used later in the script. What PHP does in the case of undeclared variables is issue a very low level error, E_NOTICE, one that is not even reported by default, but the Manual advises to allow during development.

Ways to deal with the issue:

Recommended: Declare your variables, for example when you try to append a string to an undefined variable. Or use isset() / !empty()  to check if they are declared before referencing them, as in:

//Initializing variable
$value = """"; //Initialization value; Examples
             //"""" When you want to append stuff later
             //0  When you want to add numbers later
//isset()
$value = isset($_POST['value']) ? $_POST['value'] : '';
//empty()
$value = !empty($_POST['value']) ? $_POST['value'] : '';


This has become much cleaner as of PHP 7.0, now you can use the null coalesce operator:

// Null coalesce operator - No need to explicitly initialize the variable.
$value = $_POST['value'] ?? '';

Set a custom error handler for E_NOTICE and redirect the messages away from the standard output (maybe to a log file):  

set_error_handler('myHandlerForMinorErrors', E_NOTICE | E_STRICT)

Disable E_NOTICE from reporting. A quick way to exclude just E_NOTICE is:

error_reporting( error_reporting() & ~E_NOTICE )

Suppress the error with the @ operator.
Note: It's strongly recommended to implement just point 1.

Notice: Undefined index / Undefined offset

This notice appears when you (or PHP) try to access an undefined index of an array.

Ways to deal with the issue:

Check if the index exists before you access it. For this you can use isset() or array_key_exists():

//isset()
$value = isset($array['my_index']) ? $array['my_index'] : '';
//array_key_exists()
$value = array_key_exists('my_index', $array) ? $array['my_index'] : '';

The language construct list() may generate this when it attempts to access an array index that does not exist:

list($a, $b) = array(0 => 'a');
//or
list($one, $two) = explode(',', 'test string');

Two variables are used to access two array elements, however there is only one array element, index 0, so this will generate:


  Notice: Undefined offset: 1


$_POST / $_GET / $_SESSION variable

The notices above appear often when working with $_POST, $_GET or $_SESSION. For $_POST and $_GET you just have to check if the index exists or not before you use them. For $_SESSION you have to make sure you have the session started with session_start() and that the index also exists.

Also note that all 3 variables are superglobals and are uppercase.

Related:

Notice: Undefined variable
Notice: Undefined Index 
","@dieselpower44 A couple of thoughts: The ""shut-up operator"" (@) has some performance issues. Also, since it suppresses all errors within a particular scope, using it without care might mask messages you wish you'd seen.OOOHiding the issues is NOT the way to deal with issues. Items #2...#4 can be used only on production servers, not in general.OOOIs it possible to shut-up the message inline (not in handler) when also a custom error handler is used? $var = @$_GET['nonexisting']; still causes notice..OOOWhy is it recommended to use 1. $value = isset($_POST['value']) ? $_POST['value'] : ''; instead of using 4. $value = @$_POST['value'];?OOO@twistedpixel Those 4 ways are independent, that's not a 4-step guide. So if you've chosen to use way 4, that means you didn't implement first 3 ways, so you you didn't supress any errors yet.OOOUsing isset() didn't work for me. But array_key_exists() and @ worksOOOI don't recommend using isset() for arrays, e.g. $str = '111';, (I know it should be array) isset($str[0]) will return true. It's better off using array_key_exist() instead of isset()OOOWe can also use  $_REQUEST += ['my_index' => null, '...' => null]; to fulfill missing indexes before usages. In-case that you already know the index keys.OOO¡°This means that you could use only empty() to determine if the variable is set, and in addition it checks the variable against the following, 0,"""",null.¡± Is incomplete. It also checks against ""0"".OOOAll variables need to be accessed in uppercase if they were defined in uppercase, not just superglobals.OOOPHP now also has the ?? operator which does (from PHP documentation): ""It returns its first operand if it exists and is not NULL; otherwise it returns its second operand."", which is exactly what you need in most cases."
"212","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Try these


  Q1: this notice means $varname is not
  defined at current scope of the
  script.
  
  Q2: Use of isset(), empty() conditions before using any suspicious variable works well.


// recommended solution for recent PHP versions
$user_name = $_SESSION['user_name'] ?? '';

// pre-7 PHP versions
$user_name = '';
if (!empty($_SESSION['user_name'])) {
     $user_name = $_SESSION['user_name'];
}


Or, as a quick and dirty solution: 

// not the best solution, but works
// in your php setting use, it helps hiding site wide notices
error_reporting(E_ALL ^ E_NOTICE);


Note about sessions:

When using sessions, session_start(); is required to be placed inside all files using sessions.
http://php.net/manual/en/features.sessions.php
","If using E_NOTICE from the php.ini configuration file, do error_reporting = (E_ALL & ~E_NOTICE)"
"213","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Error display @ operator

For undesired and redundant notices, one could use the dedicated @ operator to ¡íhide¡ì undefined variable/index messages.

$var = @($_GET[""optional_param""]);


This is usually discouraged. Newcomers tend to way overuse it.
It's very inappropriate for code deep within the application logic (ignoring undeclared variables where you shouldn't), e.g. for function parameters, or in loops.
There's one upside over the isset?: or ?? super-supression however. Notices still can get logged. And one may resurrect @-hidden notices with: set_error_handler(""var_dump"");

Additonally you shouldn't habitually use/recommend if (isset($_POST[""shubmit""])) in your initial code.
Newcomers won't spot such typos. It just deprives you of PHPs Notices for those very cases. Add @ or isset only after verifying functionality.

  Fix the cause first. Not the notices.


@ is mainly acceptable for $_GET/$_POST input parameters, specifically if they're optional.
And since this covers the majority of such questions, let's expand on the most common causes:

$_GET / $_POST / $_REQUEST undefined input

First thing you do when encountering an undefined index/offset, is check for typos:$count = $_GET[""whatnow?""];

Is this an expected key name and present on each page request?
Variable names and array indicies are case-sensitive in PHP.

Secondly, if the notice doesn't have an obvious cause, use  var_dump or print_r to verify all input arrays for their curent content:

var_dump($_GET);
var_dump($_POST);
//print_r($_REQUEST);


Both will reveal if your script was invoked with the right or any parameters at all.
Alternativey or additionally use your browser devtools (F12) and inspect the network tab for requests and parameters:



POST parameters and GET input will be be shown separately.
For $_GET parameters you can also peek at the QUERY_STRING in

print_r($_SERVER);


PHP has some rules to coalesce non-standard parameter names into the superglobals. Apache might do some rewriting as well. 
You can also look at supplied raw $_COOKIES and other HTTP request headers that way.
More obviously look at your browser address bar for GET parameters:

http://example.org/script.php?id=5&sort=desc

The name=value pairs after the ? question mark are your query (GET) parameters. Thus this URL could only possibly yield $_GET[""id""] and $_GET[""sort""].
Finally check your <form> and <input> declarations, if you expect a parameter but receive none.

Ensure each required input has an <input name=FOO>
The id= or title= attribute does not suffice.
A method=POST form ought to populate $_POST.
Whereas a method=GET (or leaving it out) would yield $_GET variables.
It's also possible for a form to supply action=script.php?get=param via $_GET and the remaining method=POST fields in $_POST alongside.
With modern PHP configurations (¡Ã 5.6) it has become feasible (not fashionable) to use $_REQUEST['vars'] again, which mashes GET and POST params.

If you are employing mod_rewrite, then you should check both the access.log as well as enable the RewriteLog to figure out absent parameters.
$_FILES

The same sanity checks apply to file uploads and $_FILES[""formname""].
Moreover check for enctype=multipart/form-data
As well as method=POST in your <form> declaration.
See also: PHP Undefined index error $_FILES?
$_COOKIE

The $_COOKIE array is never populated right after setcookie(), but only on any followup HTTP request.
Additionally their validity times out, they could be constraint to subdomains or individual paths, and user and browser can just reject or delete them.
","If you are curious what is the performance impact, this article summarises it well, derickrethans.nl/¡¦.OOO@GajusKuizinas There have been quoite a few changes since 2009, in particular php.net/ChangeLog-5.php#5.4.0 changes the outcome drastically (see ""Zend Engine, performance"" and ""(silence) operator"").OOOThanks @mario, interesting. Now, if someone was good enough to benchmark the two... 3v4l.org/CYVOn/perf#tabs 3v4l.org/FLp3D/perf#tabs According to this test, seem to be identical (notice that scale changes).OOOI tested with PHP 5.4 and the performance still bad."
"214","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Generally because of ""bad programming"", and a possibility for mistakes now or later.

If it's a mistake, make a proper assignment to the variable first:  $varname=0;
If it really is only defined sometimes, test for it:  if (isset($varname)), before using it
If it's because you spelled it wrong, just correct that
Maybe even turn of the warnings in you PHP-settings
","Please don't turn warnings off. In stricter languages, they often mean ""there might be a bug, you better check this line twice"" - in a language as permissive as PHP, they often means ""this code is crap and propably riddled with bugs; I'll try to make some sense of it but you better fix this ASAP"".OOOAlthough I agree with the first three points, #4 is simply wrong. Hiding a problem won't make it go away, and it might even cause more problems down the road.OOO@Freek absolutely true, but in some scenarios (Bought script, zero technical knowledge, need it running by tomorrow...) it's the duct-tape solution - really bad, that always needs emphasizing, but an optionOOODuct-tape is good ... sometimes. Historically warnings have been turned of in standard PHP-settings, but defult settings have become more strict. Too bad many go back to the old settings, so as not to annoy the customers."
"215","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
It means you are testing, evaluating, or printing a variable that you have not yet assigned anything to.  It means you either have a typo, or you need to check that the variable was initialized to something first.  Check your logic paths, it may be set in one path but not in another.
    ",NA
"216","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
I didn't want to disable notice because it's helpful, but wanted to avoid too much typing. 

My solution was this function:

function ifexists($varname)
{
  return(isset($$varname)?$varname:null);
}


So if I want to reference to $name and echo if exists, I simply write:

<?=ifexists('name')?>


For array elements:

function ifexistsidx($var,$index)
{
  return(isset($var[$index])?$var[$index]:null);
}


In page if I want to refer to $_REQUEST['name']:

<?=ifexistsidx($_REQUEST,'name')?>

    ","Your ifexists() function doesn't work for me in PHP 5.3.  The caller's variables are not available in the function's local scope (see Variable scope), unless they are Superglobals or you fiddle with $GLOBALS, so $foo = ""BABAR""; ifexists('foo'); will in general return null. (Italics are php.net chapters.)"
"217","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
The best way for getting input string is:

$value = filter_input(INPUT_POST, 'value');


This one-liner is almost equivalent to:

if (!isset($_POST['value'])) {
    $value = null;
} elseif (is_array($_POST['value'])) {
    $value = false;
} else {
    $value = $_POST['value'];
}


If you absolutely want string value, just like:

$value = (string)filter_input(INPUT_POST, 'value');

    ",NA
"218","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Its because the variable  '$user_location' is not getting defined. If you are using any if loop inside which you are declaring the '$user_location' variable then you must also have an else loop and define the same. For example:

$a=10;
if($a==5) { $user_location='Paris';} else { }
echo $user_location;


The above code will create error as The if loop is not satisfied and in the else loop '$user_location' was not defined. Still PHP was asked to echo out the variable. So to modify the code you must do the following:

$a=10;
if($a==5) { $user_location='Paris';} else { $user_location='SOMETHING OR BLANK'; }
echo $user_location;

    ",NA
"219","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
In reply to """"Why do they appear all of a sudden? I used to use this script for years and I've never had any problem."" 

It is very common for most sites to operate under the ""default"" error reporting of ""Show all errors, but not 'notices' and 'deprecated'"". This will be set in php.ini and apply to all sites on the server. This means that those ""notices"" used in the examples will be suppressed (hidden) while other errors, considered more critical, will be shown/recorded.

The other critical setting is the errors can be hidden (i.e. display_errors set to ""off"" or ""syslog""). 

What will have happened in this case is that either the error_reporting was changed to also show notices (as per examples) and/or that the settings were changed to display_errors on screen (as opposed to suppressing them/logging them).

Why have they changed?

The obvious/simplest answer is that someone adjusted either of these settings in php.ini, or an upgraded version of PHP is now using a different php.ini from before. That's the first place to look.

However it is also possible to override these settings in

.htconf  (webserver configuration, including vhosts and sub-configurations)*
.htaccess
in php code itself
and any of these could also have been changed.

There is also the added complication that the web server configuration can enable/disable .htaccess directives, so if you have directives in .htaccess that suddenly start/stop working then you need to check for that.

(.htconf / .htaccess assume you're running as apache. If running command line this won't apply; if running IIS or other webserver then you'll need to check those configs accordingly)

Summary

Check error_reporting and display_errors php directives in php.ini has not changed, or that you're not using a different php.ini from before.
Check error_reporting and display_errors php directives in .htconf (or vhosts etc) have not changed
Check error_reporting and display_errors php directives in .htaccess have not changed
If you have directive in .htaccess, check if they are still permitted in the .htconf file
Finally check your code; possibly an unrelated library; to see if error_reporting and display_errors php directives have been set there.
",NA
"220","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
the quick fix is to assign your variable to null at the top of your code

$user_location = null;

    ",NA
"221","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
I used to curse this error, but it can be helpful to remind you to escape user input.

For instance, if you thought this was clever, shorthand code:

// Echo whatever the hell this is
<?=$_POST['something']?>


...Think again! A better solution is:

// If this is set, echo a filtered version
<?=isset($_POST['something']) ? html($_POST['something']) : ''?>


(I use a custom html() function to escape characters, your mileage may vary)
    ",NA
"222","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
I use all time own useful function exst() which automatically declare variables.

Your code will be -

$greeting = ""Hello, "".exst($user_name, 'Visitor')."" from "".exst($user_location);


/** 
 * Function exst() - Checks if the variable has been set 
 * (copy/paste it in any place of your code)
 * 
 * If the variable is set and not empty returns the variable (no transformation)
 * If the variable is not set or empty, returns the $default value
 *
 * @param  mixed $var
 * @param  mixed $default
 * 
 * @return mixed 
 */

function exst( & $var, $default = """")
{
    $t = """";
    if ( !isset($var)  || !$var ) {
        if (isset($default) && $default != """") $t = $default;
    }
    else  {  
        $t = $var;
    }
    if (is_string($t)) $t = trim($t);
    return $t;
}

    ",NA
"223","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
In a very Simple Language. The mistake is you are using a variable $user_location which is not defined by you earlier and it doesn't have any value So I recommend you to please declare this variable before using it, For Example: $user_location = '';Or$user_location = 'Los Angles';
This is a very common error you can face.So don't worry just declare the variable and Enjoy Coding.
    ",NA
"224","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
In PHP 7.0 it's now possible to use Null coalescing operator:

echo ""My index value is: "" . ($my_array[""my_index""] ?? '');


Equals to:

echo ""My index value is: "" . (isset($my_array[""my_index""]) ? $my_array[""my_index""] : '');


PHP manual PHP 7.0
    ","Wow, this answer needs to be voted up more now that this is available in PHP 7. Wonderful solution!!!OOOThis also works fine in if statements.   if (is_array($my_array['idontexist'] ?? '')) { dosomething(); }OOOYour code is actually a nice overlooked bug: ?? - only checks for isset(), if you pass is_array() - which is a boolean, unexpected behavior will follow."
"225","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
why not keep things simple?

<?php
error_reporting(E_ALL); // making sure all notices are on

function idxVal(&$var, $default = null) {
         return empty($var) ? $var = $default : $var;
  }

echo idxVal($arr['test']);         // returns null without any notice
echo idxVal($arr['hey ho'], 'yo'); // returns yo and assigns it to array index, nice

?>

    ",NA
"226","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
WHY IS THIS HAPPENING?

Over time, PHP has become a more security-focused language. Settings which used to be turned off by default are now turned on by default. A perfect example of this is E_STRICT, which became turned on by default as of PHP 5.4.0. 

Furthermore, according to PHP documentation, by default, E_NOTICE is disabled in php.ini. PHP docs recommend turning it on for debugging purposes. However, when I download PHP from the Ubuntu repository<U+2013>and from BitNami's Windows stack<U+2013>I see something else.

; Common Values:
;   E_ALL (Show all errors, warnings and notices including coding standards.)
;   E_ALL & ~E_NOTICE  (Show all errors, except for notices)
;   E_ALL & ~E_NOTICE & ~E_STRICT  (Show all errors, except for notices and coding standards warnings.)
;   E_COMPILE_ERROR|E_RECOVERABLE_ERROR|E_ERROR|E_CORE_ERROR  (Show only errors)
; Default Value: E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED
; Development Value: E_ALL
; Production Value: E_ALL & ~E_DEPRECATED & ~E_STRICT
; http://php.net/error-reporting
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT


Notice that error_reporting is actually set to the production value by default, not to the ""default"" value by default. This is somewhat confusing and is not documented outside of php.ini, so I have not validated this on other distributions.

To answer your question, however, this error pops up now when it did not pop up before because:

You installed PHP and the new default settings are somewhat poorly documented but do not exclude E_NOTICE.
E_NOTICE warnings like undefined variables and undefined indexes actually help to make your code cleaner and safer. I can tell you that, years ago, keeping E_NOTICE enabled forced me to declare my variables. It made it a LOT easier to learn C, were not declaring variables is much bigger of a nuisance. 
WHAT CAN I DO ABOUT IT?

Turn off E_NOTICE by copying the ""Default value"" E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED and replacing it with what is currently uncommented after the equals sign in error_reporting =. Restart Apache, or PHP if using CGI or FPM. Make sure you are editing the ""right"" php.ini. The correct one will be Apache if you are running PHP with Apache, fpm or php-fpm if running PHP-FPM, cgi if running PHP-CGI, etc. This is not the recommended method, but if you have legacy code that's going to be exceedingly difficult to edit, then it might be your best bet.
Turn off E_NOTICE on the file or folder level. This might be preferable if you have some legacy code but want to do things the ""right"" way otherwise. To do this, you should consult Apache2, Nginx, or whatever your server of choice is. In Apache, you would use php_value inside of <Directory>.
Rewrite your code to be cleaner. If you need to do this while moving to a production environment or don't want someone to see your errors, make sure you are disabling any display of errors, and only logging your errors (see display_errors and log_errors in php.ini and your server settings).
To expand on option 3: This is the ideal. If you can go this route, you should. If you are not going this route initially, consider moving this route eventually by testing your code in a development environment. While you're at it, get rid of ~E_STRICT and ~E_DEPRECATED to see what might go wrong in the future. You're going to see a LOT of unfamiliar errors, but it's going to stop you from having any unpleasant problems when you need to upgrade PHP in the future.

WHAT DO THE ERRORS MEAN?

Undefined variable: my_variable_name - This occurs when a variable has not been defined before use. When the PHP script is executed, it internally just assumes a null value. However, in which scenario would you need to check a variable before it was defined? Ultimately, this is an argument for ""sloppy code"". As a developer, I can tell you that I love it when I see an open source project where variables are defined as high up in their scopes as they can be defined. It makes it easier to tell what variables are going to pop up in the future and makes it easier to read/learn the code.

function foo()
{
    $my_variable_name = '';

    //....

    if ($my_variable_name) {
        // perform some logic
    }
}


Undefined index: my_index - This occurs when you try to access a value in an array and it does not exist. To prevent this error, perform a conditional check.

// verbose way - generally better
if (isset($my_array['my_index'])) {
    echo ""My index value is: "" . $my_array['my_index'];
}

// non-verbose ternary example - I use this sometimes for small rules.
$my_index_val = isset($my_array['my_index'])?$my_array['my_index']:'(undefined)';
echo ""My index value is: "" . $my_index_val;   


Another option is to declare an empty array at the top of your function. This is not always possible.

$my_array = array(
    'my_index' => ''
);

//...

$my_array['my_index'] = 'new string';


(additional tip)

When I was encountering these and other issues, I used NetBeans IDE (free) and it gave me a host of warnings and notices. Some of them offer very helpful tips. This is not a requirement, and I don't use IDEs anymore except for large projects. I'm more of a vim person these days :).
",NA
"227","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
undefined index means in an array you requested for unavailable array index for example 

<?php 

$newArray[] = {1,2,3,4,5};
print_r($newArray[5]);

?>


undefined variable means you have used completely not existing variable or which is not defined or initialized by that name for example 

<?php print_r($myvar); ?>


undefined offset means in array you have asked for non existing key. And the 
solution for this is to check before use 

php> echo array_key_exists(1, $myarray);

    ",NA
"228","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Regarding this part of the question:


  Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.


No definite answers but here are a some possible explanations of why settings can 'suddenly' change:

You have upgraded PHP to a newer version which can have other defaults for error_reporting, display_errors or other relevant settings.
You have removed or introduced some code (possibly in a dependency) that sets relevant settings at runtime using ini_set() or error_reporting() (search for these in the code)
You changed the webserver configuration (assuming apache here): .htaccess files and vhost configurations can also manipulate php settings.
Usually notices don't get displayed / reported (see PHP manual)
so it is possible that when setting up the server, the php.ini file could not be loaded for some reason (file permissions??) and you were on the default settings. Later on, the 'bug' has been solved (by accident) and now it CAN load the correct php.ini file with the error_reporting set to show notices.
",NA
"229","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
If working with classes you need to make sure you reference member variables using $this:

class Person
{
    protected $firstName;
    protected $lastName;

    public function setFullName($first, $last)
    {
        // Correct
        $this->firstName = $first;

        // Incorrect
        $lastName = $last;

        // Incorrect
        $this->$lastName = $last;
    }
}

    ",NA
"230","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Another reason why an undefined index notice will be thrown, would be that a column was omitted from a database query.

I.e.:

$query = ""SELECT col1 FROM table WHERE col_x = ?"";


Then trying to access more columns/rows inside a loop.

I.e.:

print_r($row['col1']);
print_r($row['col2']); // undefined index thrown


or in a while loop:

while( $row = fetching_function($query) ) {

    echo $row['col1'];
    echo ""<br>"";
    echo $row['col2']; // undefined index thrown
    echo ""<br>"";
    echo $row['col3']; // undefined index thrown

}


Something else that needs to be noted is that on a *NIX OS and Mac OS X, things are case-sensitive.

Consult the followning Q&A's on Stack:

Are table names in MySQL case sensitive?
mysql case sensitive table names in queries
MySql - Case Sensitive issue of tables in different server
",NA
"231","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Using a ternary is simple, readable, and clean:

Pre PHP 7
Assign a variable to the value of another variable if it's set, else assign null (or whatever default value you need):  

$newVariable = isset($thePotentialData) ? $thePotentialData : null;


PHP 7+
The same except using Null Coalescing Operator. There's no longer a need to call isset() as this is built in, and no need to provide the variable to return as it's assumed to return the value of the variable being checked:  

$newVariable = $thePotentialData ?? null;


Both will stop the Notices from the OP question, and both are the exact equivalent of:

if (isset($thePotentialData)) {
    $newVariable = $thePotentialData;
} else {
    $newVariable = null;
}


<U+00A0>
If you don't require setting a new variable then you can directly use the ternary's returned value, such as with echo, function arguments, etc:

Echo:  

echo 'Your name is: ' . isset($name) ? $name : 'You did not provide one';


Function:  

$foreName = getForeName(isset($userId) ? $userId : null);

function getForeName($userId)
{
    if ($userId === null) {
        // Etc
    }
}


The above will work just the same with arrays, including sessions etc, replacing the variable being checked with e.g.:$_SESSION['checkMe']
or however many levels deep you need, e.g.:$clients['personal']['address']['postcode']

<U+00A0>  

Suppression:  

It is possible to suppress the PHP Notices with @ or reduce your error reporting level, but it does not fix the problem, it simply stops it being reported in the error log. This means that your code still tried to use a variable that was not set, which may or may not mean something doesn't work as intended - depending on how crucial the missing value is.  

You should really be checking for this issue and handling it appropriately, either serving a different message, or even just returning a null value for everything else to identify the precise state.

If you just care about the Notice not being in the error log, then as an option you could simply ignore the error log.
    ",NA
"232","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
One common cause of a variable not existing after an HTML form has been submitted is the form element is not contained within a <form> tag:

Example: Element not contained within the <form>

<form action=""example.php"" method=""post"">
    <p>
        <input type=""text"" name=""name"" />
        <input type=""submit"" value=""Submit"" />
    </p>
</form>

<select name=""choice"">
    <option value=""choice1"">choice 1</option>
    <option value=""choice2"">choice 2</option>
    <option value=""choice3"">choice 3</option>
    <option value=""choice4"">choice 4</option>
</select>


Example: Element now contained within the <form>

<form action=""example.php"" method=""post"">
    <select name=""choice"">
        <option value=""choice1"">choice 1</option>
        <option value=""choice2"">choice 2</option>
        <option value=""choice3"">choice 3</option>
        <option value=""choice4"">choice 4</option>
    </select>
    <p>
        <input type=""text"" name=""name"" />
        <input type=""submit"" value=""Submit"" />
    </p>
</form>

    ",NA
"233","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Probably you were using old PHP version until and now upgraded PHP thats the reason it was working without any error till now from years.
until PHP4 there was no error if you are using variable without defining it but as of PHP5 onwards it throws errors for codes like mentioned in question.
    ",NA
"234","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
When dealing with files, a proper enctype and a POST method are required, which will trigger an undefined index notice if either are not included in the form.

The manual states the following basic syntax:

HTML

<!-- The data encoding type, enctype, MUST be specified as below -->
<form enctype=""multipart/form-data"" action=""__URL__"" method=""POST"">
    <!-- MAX_FILE_SIZE must precede the file input field -->
    <input type=""hidden"" name=""MAX_FILE_SIZE"" value=""30000"" />
    <!-- Name of input element determines name in $_FILES array -->
    Send this file: <input name=""userfile"" type=""file"" />
    <input type=""submit"" value=""Send File"" />
</form>


PHP

<?php
// In PHP versions earlier than 4.1.0, $HTTP_POST_FILES should be used instead
// of $_FILES.

$uploaddir = '/var/www/uploads/';
$uploadfile = $uploaddir . basename($_FILES['userfile']['name']);

echo '<pre>';
if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) {
    echo ""File is valid, and was successfully uploaded.\n"";
} else {
    echo ""Possible file upload attack!\n"";
}

echo 'Here is some more debugging info:';
print_r($_FILES);

print ""</pre>"";

?>


Reference:

http://php.net/manual/en/features.file-upload.post-method.php
",NA
"235","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
I asked a question about this and I was referred to this post with the message:


  This question already has an answer here:
  
  ¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice:
  Undefined offset¡± using PHP


I am sharing my question and solution here:

This is the error:



Line 154 is the problem. This is what I have in line 154:

153    foreach($cities as $key => $city){
154        if(($city != 'London') && ($city != 'Madrid') && ($citiesCounterArray[$key] >= 1)){


I think the problem is that I am writing if conditions for the variable $city, which is not the key but the value in $key => $city. First, could you confirm if that is the cause of the warning? Second, if that is the problem, why is it that I cannot write a condition based on the value? Does it have to be with the key that I need to write the condition?

UPDATE 1: The problem is that when executing $citiesCounterArray[$key], sometimes the $key corresponds to a key that does not exist in the $citiesCounterArray array, but that is not always the case based on the data of my loop. What I need is to set a condition so that if $key exists in the array, then run the code, otherwise, skip it.

UPDATE 2: This is how I fixed it by using array_key_exists():

foreach($cities as $key => $city){
    if(array_key_exists($key, $citiesCounterArray)){
        if(($city != 'London') && ($city != 'Madrid') && ($citiesCounterArray[$key] >= 1)){

    ",NA
"236","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
These errors occur whenever we are using a variable that is not set.

The best way to deal with these is set error reporting on while development.

To set error reporting on:

ini_set('error_reporting', 'on');
ini_set('display_errors', 'on');
error_reporting(E_ALL);


On production servers, error reporting is off, therefore, we do not get these errors.

On the development server, however, we can set error reporting on.

To get rid of this error, we see the following example:

if ($my == 9) {
 $test = 'yes';  // Will produce error as $my is not 9.
}
echo $test;


We can initialize the variables to NULL before assigning their values or using them.

So, we can modify the code as:

$test = NULL;
if ($my == 9) {
 $test = 'yes';  // Will produce error as $my is not 9.
}
echo $test;


This will not disturb any program logic and will not produce Notice even if $test does not have value.

So, basically, its always better to set error reporting ON for development.

And fix all the errors.

And on production, error reporting should be set to off.
    ",NA
"237","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
Those notices are because you don't have the used variable defined and my_index key was not present into $my_array variable. 

Those notices were triggered every time, because your code is not correct, but probably you didn't have the reporting of notices on.

Solve the bugs:

$my_variable_name = ""Variable name""; // defining variable
echo ""My variable value is: "" . $my_variable_name;

if(isset($my_array[""my_index""])){
    echo ""My index value is: "" . $my_array[""my_index""]; // check if my_index is set 
}


Another way to get this out:

ini_set(""error_reporting"", false)

    ",NA
"238","¡°Notice: Undefined variable¡±, ¡°Notice: Undefined index¡±, and ¡°Notice: Undefined offset¡± using PHP","2010-11-23T21:26:54",1633040,"I'm running a PHP script and continue to receive errors like:


  Notice: Undefined variable: my_variable_name in C:\wamp\www\mypath\index.php on line 10
  
  Notice: Undefined index: my_index C:\wamp\www\mypath\index.php on line 11


Line 10 and 11 looks like this:

echo ""My variable value is: "" . $my_variable_name;
echo ""My index value is: "" . $my_array[""my_index""];


What is the meaning of these error messages?

Why do they appear all of a sudden? I used to use this script for years and I've never had any problem.

How do I fix them?


  This is a General Reference question for people to link to as duplicate, instead of having to explain the issue over and over again. I feel this is necessary because most real-world answers on this issue are very specific. 
  
  Related Meta discussion:
  
  What can be done about repetitive questions?
  Do ¡°reference questions¡± make sense?","php arrays variables warnings undefined-index","possible duplicate of Reference - What does this error mean in PHP?OOOit's just a notice to ensure that you use it right and it's not a misspell or something...OOOthe variable might not have been initialized. Are you initializing the variable  from a post or get or any array? If that's the case you might not have an field in that array. That your accessing.OOORelated: What is the best way to access unknown array elements without generating PHP notice?OOOWhat did change in recent time? What version of php are you using? Did the config change? These could be several questions that lead to the error source since e.g. and include of a php file required does not work anymore since e.g. short open tags are not allowed anymore, functions are deprecated etcOOO@Pekka¿ô - I noticed the edit adding the ""and ""Notice: Undefined offset"""" - Wouldn't it make more sense using ""PHP: ¡°Undefined variable¡±, ¡°Undefined index¡±, ¡°Undefined offset¡± notices"" (even take out the PHP, since it is tagged as ""php"". Plus, the URL gets cut off at and-notice-undef, just a suggestion so that the URL doesn't get cut off. Maybe even removing the (too many) quotes. Or PHP: ¡°Undefined variable/index/offset¡± noticesOOO@Fred I guess an argument can be made for both variations. THere's a chance that newbies will enter the entire line, including the ""Notice:"" into their search query, which I'm sure is the main traffic generator for this question. If the messages are there in full, that's likely to improve visibility in search enginesOOO@Pekka¿ô I understand. I only said that because the URL didn't get cut off before and now it does at and-notice-undef. It was just a (few) suggestion(s). It just repeats itself also being Notice: Undefined.OOO@Pekka¿ô There are some questions lately where the OP didn't use the right variable in JS and comes back as unassigned. For example stackoverflow.com/q/42069582/1415724 which clearly shows they're using the wrong JS variable. I tried to find a JS-equivalent for a possible duplicate to close it with, but couldn't really find one. Do you think it would be a good idea if this Q&A were adjusted to contain a JS-example answer and tagged as javascript also? and possibly jquery. Or, if this Q&A does also qualify but adding the extra tag(s)?OOO@Fred-ii- I'm not sure. Would it not be wiser to start a separate question for the JavaScript case? The error messages in the title here are the literal error messages PHP outputs, they would be good to keep around for Googlers....OOO@Pekka¿ô I was thinking the same thing and discussed it with another Stack member which seems to make more sense. Although, all answers in there, should there be a new one made up, should be community wikis, since no rep should come of it, just like this Q&A; what do you propose? Should a meta question be posted also for it?OOO@Fred-ii- asking the question, posting an answer right away, and asking a moderator to make the question Community Wiki should work. Feel free to copy & paste the disclaimer block above.","
In PHP you need fist to define the variable after that you can use it.
We can check variable is defined or not in very efficient way!.

//If you only want to check variable has value and value has true and false value.
//But variable must be defined first.

if($my_variable_name){

}

//If you want to check variable is define or undefine
//Isset() does not check that variable has true or false value
//But it check null value of variable
if(isset($my_variable_name)){

}


Simple Explanation

//It will work with :- true,false,NULL
$defineVarialbe = false;
if($defineVarialbe){
    echo ""true"";
}else{
    echo ""false"";
}

//It will check variable is define or not and variable has null value.
if(isset($unDefineVarialbe)){
    echo ""true"";
}else{
    echo ""false"";
}

    ",NA
"239","Cannot get previous hash of the block when pushing new block","2018-08-30T15:53:40",57,"I created an implementation of Blockchain, it worked well. Then I wanted to write a program that creates a new chain when deleting message.

And instead of getting a new chain where the second block has data from the latest block from the previous chain it drops an error, and I really don't understand what that means. Why ""1""? It is even not hash but index of the block in a new chain. Here is error:

Uncaught TypeError: Cannot create property 'prevHash' on number '1'
    at Chain.addBlock (chain.js:24)
    at newChain (test.js:26)
    at HTMLButtonElement.onclick (index.html:1)


Can somebody explain why? I also attached a code snippet for showing hot it all works

  // Chain.js class Block {   constructor(id, data, prevHash = ''){     this.id = id;     this.prevHash = this.prevHash;     this.hash = this.calcHash();     this.data = data;   }   calcHash() {     return CryptoJS.SHA512(this.id + JSON.stringify(this.data)).toString();   }  } class Chain {   constructor(){     this.chain = [this.genesisBlock()];   }   genesisBlock(){     return new Block(0,'Chain started.');   }   getLastBlock(){     return this.chain[this.chain.length - 1];   }   addBlock(block){     block.prevHash = this.getLastBlock().hash;     block.hash = block.calcHash();     this.chain.push(block)   }   isValid(){     for(let i = 1; i < this.chain.length; i++){       let prev = this.chain[i-1], current = this.chain[i];       if(current.hash !== prev.prevHash || current.hash !== current.calcHash())        return false;     }return true;   }  }  // Msg.js class Msg {   constructor(msg, date){     this.msg = msg;     const D = new Date();     this.date = [D.getHours(), D.getMinutes(), D.getSeconds()].join(' : ');   } }  // Test.js FROZENCHAINS = []; CHAIN = new Chain(); i = 0;  msg = () => {   let text = $('input').val();   i++;  CHAIN.addBlock(new Block(i, text));   let msg = JSON.stringify(CHAIN.chain,null, 4);   $('#log').text(msg);  let thisMSG = new Msg(text);   $('section').append('<div class=""notification is-primary""><span class=""tag"">' + thisMSG.msg + '</span>'  + '<span class=""tag"">Created at: ' + thisMSG.date + '</span><button onclick=""$(this).parent().hide() && newChain()"" align=center class=""delete is-large""></button></div>')   }  newChain = () => {   FROZENCHAINS.push(CHAIN);   delete CHAIN;   CHAIN = new Chain();   CHAIN.addBlock(1,'Hi') } .input {         margin: 10px 0;       }       .tag {         font-size: 23px !important;         background-color: whitesmoke !important;         margin: 5px;       } <!DOCTYPE html> <html>   <head>     <meta charset=""utf-8"">     <link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"" />     <script src=""https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js""></script>     <script src=""https://code.jquery.com/jquery-3.3.1.min.js"" charset=""utf-8""></script>     <title>Blockchain Chat</title>   </head>   <body>     <div class=""tile is-parent"">          <article class=""tile is-child notification"">            <p class=""title"">Blockchain Chat Part 1</p>            <div class=""content"">              <pre class=""hero-body"" id=log></pre>              <section class=""hero-body""></section>              <input class=""input"" value=""Hello World""/>             <button onclick=""msg()"" class=""button"">Send Message</button>            </div>   </body> </html>","javascript oop frontend blockchain cryptojs",NA,"
Your addBlock function expects a Block, but you provide 1 in newChain(). Change the line to

CHAIN.addBlock(new Block(1,'Hi'));

    ",NA
"240","java RTFEditorKit : chaining blocks of text","2016-03-30T09:00:56",72,"I need to chain blocks of text in a java desktop application. These blocks of text are in JTextPane. The editor associated with the JTextPane is the RTFEditorKit.

My problem is to detect when the current text is no more visible by the user in order to transfer the current word at the end of the block of text to the next chained text block.

My idea was to used the DocumentFilter associated with the RTFEditorKit in order to detect when the transfer has to be made. But I do not know how to detect that the current text is at the end of the visible part of the JTextPane. Can you help me ?","java text block jeditorpane chained",NA,"
Did something similar in the past (linked textboxes to let text flow)
You have size of JEditorPane (width and height) anf you can get preferred size for the fixed width (see here). If the preferred size is bigger than height you have overflow.

Another way is to use viewToModel() method. JUst pass bottom right corner pixel and get offset. If the offset is less than the Document's length overflow is detected.
    ","Please accept the answer if it helped solve the problem.OOOI used your first one method but the result is not perfect. I would like trying to use the viewToModelOOOI would like trying to use the viewToModel method but I can't arrive to get the offset for the bottom right corner pixel. Can you help me ?	 Thanks in advance"
"241","Wrapping a Block in a Block of the Same Type","2012-07-19T00:53:47",295,"I have a chain of objects. Objects along the chain exist to nicely divide functionality. A completion block gets passed up the chain, and I thought if another object wanted to add stuff to the completion block, I could just wrap the completion block in a block of the same type, calling the first block, and everything would be aces. I get EXC_BAD_ACCESS. Is my syntax wrong or am I approaching this in the wrong way entirely?

-(void)archiveChatWithDictionary:(NSDictionary*)dictionary andCompletionBlock:(ServerConnectionCompletionBlock)completionBlock
{
    ServerConnectionCompletionBlock localCompletionBlock = ^(ServerConnection *connection, NSError *error) {

        // Do some stuff
        // ...

        //  This line produces EXC_BAD_ACCESS
        completionBlock(connection, error);
    };    

    [self.chatEndpointInterface archiveChatWithDictionary: dictionary andCompletionBlock: localCompletionBlock];
}","objective-c objective-c-blocks","Is the call to archiveChatWithDictionary:andCompletionBlock: calling the same method (i.e. as opposed to a method with the same name but different implementation in another class). If so, you might have infinite recursion.OOOIs this an ARC project?OOOYes it's an ARC project, no the method is not calling itself.OOO@NickLocking: can you post the code for the method that is called from here? it could be something wrong there","
In the end, is the completionBlock copied (or inlined in a block that is copied)?

By default, blocks are stored on the stack. If you want to keep a block around (generally for a completion block), you have to copy it (so it moves to the heap).

The good thing is that if you copy a block, all nested blocks will be copied as well.
    ","It doesn't matter what happens ""in the end"". Apple's memory management is purely local. A function should only care what it does, not what other functions do. He is doing nothing in that function that requires a copy. He is not storing it away anywhere that will persist after the function call.OOOThat was not my point and I was not pointing to that particular function but to the underlying one that actually stores the block.OOOOkay, can you be more specific that it does not need to be copied in that function; but in a function that stores the block (if there is such a function)?"
"242","Wrapping a Block in a Block of the Same Type","2012-07-19T00:53:47",295,"I have a chain of objects. Objects along the chain exist to nicely divide functionality. A completion block gets passed up the chain, and I thought if another object wanted to add stuff to the completion block, I could just wrap the completion block in a block of the same type, calling the first block, and everything would be aces. I get EXC_BAD_ACCESS. Is my syntax wrong or am I approaching this in the wrong way entirely?

-(void)archiveChatWithDictionary:(NSDictionary*)dictionary andCompletionBlock:(ServerConnectionCompletionBlock)completionBlock
{
    ServerConnectionCompletionBlock localCompletionBlock = ^(ServerConnection *connection, NSError *error) {

        // Do some stuff
        // ...

        //  This line produces EXC_BAD_ACCESS
        completionBlock(connection, error);
    };    

    [self.chatEndpointInterface archiveChatWithDictionary: dictionary andCompletionBlock: localCompletionBlock];
}","objective-c objective-c-blocks","Is the call to archiveChatWithDictionary:andCompletionBlock: calling the same method (i.e. as opposed to a method with the same name but different implementation in another class). If so, you might have infinite recursion.OOOIs this an ARC project?OOOYes it's an ARC project, no the method is not calling itself.OOO@NickLocking: can you post the code for the method that is called from here? it could be something wrong there","
I am doing the exactly same thing and it is working perfectly. 

I did get that crash though, and it turned out that the wrapped block was nil. Perhaps you could check that out. 

I recommend asserting that the block is not nil or putting an if-statement before the block call, depending on your particular situation.
    ",NA
"243","What is ipfs and ethereum?","2018-07-18T11:35:33",99,"I just got a chance to work on the block-chain based platform. Could anybody help me understand the differences between IPFS and Ethereum?","blockchain ethereum ipfs",NA,"
Blockchain and IPFS are based on similar concepts of decentralized networks, but that's where their similarities end.

While blockchain shares a ledger with its nodes, IPFS is a peer to peer file-sharing system that hashes files (similar to the way blockchain hashes transactions), and then allows users to search for files based on those hashes.

IPFS and Blockchain are very different, and in fact you can use IPFS to store files while the hashes are kept on the blockchain. It would be like comparing Stack Overflow to Facebook. Both are websites living on the internet, but they accomplish very different tasks for their users.
    ",NA
"244","Creating Schedule Transactions In Hyper Ledger Fabric","2018-12-18T19:53:09",37,"Can you please help me to create Scheduled Transaction in Hyper Ledger Fabric block chain implementation.

Can you direct me to the documentation to create cron jobs ?  

Regards,","hyperledger-fabric",NA,NA,NA
"245","Is it better practice for a React Dapp to a call a Smart Contract using Drizzle or Web3?","2018-10-21T14:04:23",128,"For my React Dapp to call my smart contracts running on the ethereum block chain, is it better practice to use the Drizzle framework or call Web3 directly?","reactjs blockchain ethereum truffle drizzle",NA,"
I recommend using drizzle because it will abstract some complexity and make your code more readable. Also check out drizzle-react it provides some components and decorators that will be super useful.

However, be careful with this type of questions in SO, it might get downvoted, since it's kind of a subjective question and people  might have different opinions about it. This community is more about solving coding problems. 

Best of luck.
    ","thanks for your input and comments"
"246","Why is my RX chain blocking?","2014-07-08T17:24:04",393,"So I have the following RX change, but it seems to block on the select as if to preserve order. My understanding is that it should just keep delegating to the task pool?

var observable = Observable.Interval(TimeSpan.FromMilliseconds(10));

observable.ObserveOn(Scheduler.TaskPool)
    .Select(
    i =>
    {
        Console.WriteLine(""Here"" + System.Threading.Thread.CurrentThread.ManagedThreadId);
        System.Threading.Thread.Sleep(5000);
        return i;
    })
    .ObserveOn(Scheduler.TaskPool)
    .SubscribeOn(Scheduler.TaskPool)
    .Subscribe(i => { Console.WriteLine(i); });","c# system.reactive",NA,"
Ensuring events are delivered to a subscriber serially is a core part of the Rx grammar and fundamental to it's correct operation. It is enforced in most of the Rx operators and you should not violate this.

The mechanics of ObserveOn and SubscribeOn are addressed quite fully here.

The purpose of ObserveOn is to either avoid blocking the thread of the observable that is dispatching events and/or to control the thread on which subscribers receive events (in your case using the task pool to deliver them).

What it does not do is allow a subscriber to receive events concurrently - which as I said, would be in violation of the rules of Rx.

You might find this question on a similar topic worth reading too.
    ","Ensuring events delivered to a subscriber serially is a core part of the Rx grammar - wow massive fail on my understanding - is there ever a instance that this is not the case?OOOYes, usually when someone tried to implement IObservable<T> themselves... :) But there's no correct way to do it. Note that concurrent delivery of a single event to multiple subscribers is routine.OOOSorry to be a pain, could you expand on this Note that concurrent delivery of a single event to multiple subscribers is routine....are you talking about hot observables?OOOSorry again to pile on questions - but is there any circumstance where Observables/RX acts like a queue for multiple subscribers?OOO@Cheetah - use the various Subjects or Publish or Multicast to create observables which can deliver to multiple subscribers.  Publish().RefCount().ObserveOn() is a good way to concurrently deliver to multiple subscribers.  Also, in your OP if you had used SelectMany instead of Select and returned Observable.Return(i).Delay(TimeSpan.FromSeconds(5)) instead of Thread.Sleep you would have  effectively removed the block and allows your sleeps to all run concurrently (and potentially be delivered out of order if you had something more complex that a constant delay)."
"247","Misunderstanding websocket communication for blockchain when requesting whole chain from a node","2018-03-09T02:32:27",162,"This is a long post, so I appreciate those who answer it. I am trying to understand the websocket communication in the blockchain example below.

Here is the source code for a node in a blockchain: 

const BrewChain = require('./brewChain');
const WebSocket = require('ws');

const BrewNode = function(port){
    let brewSockets = [];
    let brewServer;
    let _port = port
    let chain = new BrewChain();

    const REQUEST_CHAIN = ""REQUEST_CHAIN"";
    const REQUEST_BLOCK = ""REQUEST_BLOCK"";
    const BLOCK = ""BLOCK"";
    const CHAIN = ""CHAIN"";

    function init(){

        chain.init();

        brewServer = new WebSocket.Server({ port: _port });

        brewServer.on('connection', (connection) => {
            console.log('connection in');
            initConnection(connection);
        });     
    }

    const messageHandler = (connection) =>{
        connection.on('message', (data) => {
            const msg = JSON.parse(data);
            switch(msg.event){
                case REQUEST_CHAIN:
                    connection.send(JSON.stringify({ event: CHAIN, message: chain.getChain()}))    
                    break;                  
                case REQUEST_BLOCK:
                    requestLatestBlock(connection);
                    break;      
                case BLOCK:
                    processedRecievedBlock(msg.message);
                    break;  
                case CHAIN:
                    processedRecievedChain(msg.message);
                    break;  

                default:  
                    console.log('Unknown message ');
            }
        });
    }


    const processedRecievedChain = (blocks) => {
        let newChain = blocks.sort((block1, block2) => (block1.index - block2.index))

        if(newChain.length > chain.getTotalBlocks() && chain.checkNewChainIsValid(newChain)){
            chain.replaceChain(newChain);
            console.log('chain replaced');
        }
    }

    const processedRecievedBlock = (block) => {

        let currentTopBlock = chain.getLatestBlock();

        // Is the same or older?
        if(block.index <= currentTopBlock.index){
            console.log('No update needed');
            return;
        }

        //Is claiming to be the next in the chain
        if(block.previousHash == currentTopBlock.hash){
            //Attempt the top block to our chain
            chain.addToChain(block);

            console.log('New block added');
            console.log(chain.getLatestBlock());
        }else{
            // It is ahead.. we are therefore a few behind, request the whole chain
            console.log('requesting chain');
            broadcastMessage(REQUEST_CHAIN,"""");
        }
    }

    const requestLatestBlock = (connection) => {
        connection.send(JSON.stringify({ event: BLOCK, message: chain.getLatestBlock()}))   
    }

    const broadcastMessage = (event, message) => {
        brewSockets.forEach(node => node.send(JSON.stringify({ event, message})))
    }

    const closeConnection = (connection) => {
        console.log('closing connection');
        brewSockets.splice(brewSockets.indexOf(connection),1);
    }

    const initConnection = (connection) => {
        console.log('init connection');

        messageHandler(connection);

        requestLatestBlock(connection);

        brewSockets.push(connection);

        connection.on('error', () => closeConnection(connection));
        connection.on('close', () => closeConnection(connection));
    }

    const createBlock = (teammember) => {
        let newBlock = chain.createBlock(teammember)
        chain.addToChain(newBlock);

        broadcastMessage(BLOCK, newBlock);

    }

    const getStats = () => {
        return {
            blocks: chain.getTotalBlocks()
        }
    }

    const addPeer = (host, port) => {
        let connection = new WebSocket(`ws://${host}:${port}`);

        connection.on('error', (error) =>{
            console.log(error);
        });

        connection.on('open', (msg) =>{
            initConnection(connection);
        });
    }

    return {
        init,
        broadcastMessage,
        addPeer,
        createBlock,
        getStats
    }

}

module.exports = BrewNode;


When a new block is created by the node with the createBlock() function, a message is broadcast from the node to all connected sockets with the broadcastMessage() function to tell them a new block has been created. The connected sockets will receive the message, and in messageHandler() it will hit the BLOCK option in the switch statement for each of them. I have a grasp of this process, and have drawn up a graph to show my understanding. 

FIGURE 1



As stated earlier, when A creates a new block it will send the new block to it's connected nodes, where each node will verify it and possibly add it to it's chain. This processing is done by the processedRecievedBlock() function. Let's say B and C decide to add the block to their chain, but D is several blocks behind so it must request the whole chain from A. This is where I am confused. I expected that D would send a message back to A requesting the whole chain, like this: 

FIGURE 2



However, according to the processReceivedBlock() function, in this situation D will broadcast a REQUEST_CHAIN message to all it's connected sockets, when this line is run:

broadcastMessage(REQUEST_CHAIN,"""");


Let's say D is connected to E and F. Instead of requesting the chain from A like in FIGURE 2, it seems as though it will send the REQUEST_CHAIN message to it's connected sockets, like this:

FIGURE 3



In the messageHandler() function, the REQUEST_CHAIN option in the switch statement will be run for E and F, and they will hit this line of code:

connection.send(JSON.stringify({ event: CHAIN, message: chain.getChain()}));


It is my understanding that this will cause E and F to send their own chain back to themselves, like this:

FIGURE 4



I want to know why FIGURE 2 does not occur when D needs to request the whole chain from A. Tracing the code has had me believe that FIGURE 3 and FIGURE 4 occur instead, neither of which seem to be useful.

I am trying to find an understanding of what exactly happens in this code when a node must request the whole chain from another node. I must be misunderstanding what these sockets are doing.

Complete source code: https://github.com/dbjsdev/BrewChain/blob/master/brewNode.js","javascript node.js graph websocket blockchain",NA,"
Thanks for a descriptive question. :)

You are right for the most part and Figure 3 is the correct description of that part of the process. But Figure 4 is wrong.

Note that every socket connection between peers leads to a different instance of connection which are collectively maintained in brewSockets.

So, when A/E/F receive a request on connection from D, they respond with the whole chain, as in the code below:

connection.send(JSON.stringify({ event: CHAIN, message: chain.getChain()}));


D then processes the CHAIN message:

const processedRecievedChain = (blocks) => {
        let newChain = blocks.sort((block1, block2) => (block1.index - block2.index))

        if(newChain.length > chain.getTotalBlocks() && chain.checkNewChainIsValid(newChain)){
            chain.replaceChain(newChain);
            console.log('chain replaced');
        }
}


Now, onto the 'why'!

Firstly, the underlying principle is that we trust in the network, not just one node. So, you want to verify the authenticity of the chain from as many sources as possible.

Secondly, you want the latest chain from your peers not just any random chain.

By doing so, we ensured that any node is as latest as its peers. So, D node fetched chain from multiple sources and stored the latest verified chain.

Hope that helps!
    ","Absolutely perfect. Cheers mate."
"248","golang separation of concerns vs usability","2017-05-30T08:55:45",295,"I have always struggled keeping go modules neatly separated and avoiding cyclic dependencies. 

Right now I have code like this: 

    package chain


type Block struct{
    Content []byte
    Number int
}

var Chain []Block = make([]Block, 10)

func AddBlockToChain(block Block){
    // do some checks
    //...
    // add to chain
    Chain[block.Number] = block
}

func GetBlock(number int) Block {
    // do some checks
    //  ...
    // get from chain
    return Chain[number]
}


To achieve consensus I need some extra info on the block. The info may be different depending on which consensus algorithm I use. I want the consensus algorithm to be interchangeable (e.g. by flag on start up). 

It would be convenient to store the info as fields in the block, so that when I call GetBlock(3) or get a block from anywhere else I can not only access the block but also the info on what state of consensus this block is in at the moment.  

On the other hand I wanted to keep data that is only relevant for a certain consensus algorithm separate from basic block data - maybe even in a separate package.

How should I design my program? Where should I keep data relevant for a certain consensus algorithm?

Some background info: 

I am trying to build a block chain application from scratch. I have a ""chain"" module responsible for storing blocks of data and a ""consensus"" module responsible for creating consensus between multiple peers running an instance of my program on what that data is.","inheritance go module architecture structure","You are mixing up different types from different packages: The Block from one package is totaly unrelated to the one from the other package: You'll have to decide whether you want a chain of chain.Block or consensus.Block. You cannot magically convert between them.OOOIn Java I could. I could have an array of the super class containing instances of the subclass. When I want to access a method of the subclass I could convert the object from the array to an object of subclass and access the subclasses methods / fields. Maybe there is no way to do this in go without putting both structs in the same module like in ¥Ä¥ë¬­s answer.OOOGiven that there is no super-/sub-class relation in Go it is pretty obvious that a solution based on super-sub-class behaviour cannot work.OOOIn the end for me this is about separation of concerns. I thought I could solve this using modules and struct embedding. I'm open to any other solution, though.OOO@Volker sorry that my question wasn't clear. I edited it, so that it asks in a more general way about where to keep my data instead of insisting on struct embedding or inheritance equivalents.OOOIf you want interchangeability in Go, use interfaces. Embedding gives you composition only, not polymorphism.","
consensus.Block and chain.Block are two separate types but since you are embeddding chain.Block in consensus.Block, you can access one from another.

Just pass consensus.Block in AddBlockToChain():

`func AddBlockToChain(block consensus.Block)`


and then access it by: block.Block

Example:

package main

import ""fmt""

type ChainBlock struct {
    id int
}

type ConsensusBlock struct {
    ChainBlock
    idCons int
}

func printChainBlockId(consBlock ConsensusBlock) {
    fmt.Println(consBlock.ChainBlock.id)
}

func main() {
    test := ConsensusBlock{
        ChainBlock: ChainBlock{
            id: 42,
        },
        idCons: 44,
    }

    printChainBlockId(admin)
}

    ","This way the two structs can't be in separate modules. Is my assumption wrong that a part of a program that should be completely interchangeable should be a separate module?OOOI think that in this case the assumption is wrong - I would create two files (chain.go, consensus.go) in a same package.OOOThanks, this is definitely a viable approach. From organizing go code: ""The http package comprises 17 go source files (excluding tests) and exports 109 identifiers, and the hash package consists of one file that exports just three declarations. There is no hard and fast rule; both approaches are appropriate given their context."""
"249","golang separation of concerns vs usability","2017-05-30T08:55:45",295,"I have always struggled keeping go modules neatly separated and avoiding cyclic dependencies. 

Right now I have code like this: 

    package chain


type Block struct{
    Content []byte
    Number int
}

var Chain []Block = make([]Block, 10)

func AddBlockToChain(block Block){
    // do some checks
    //...
    // add to chain
    Chain[block.Number] = block
}

func GetBlock(number int) Block {
    // do some checks
    //  ...
    // get from chain
    return Chain[number]
}


To achieve consensus I need some extra info on the block. The info may be different depending on which consensus algorithm I use. I want the consensus algorithm to be interchangeable (e.g. by flag on start up). 

It would be convenient to store the info as fields in the block, so that when I call GetBlock(3) or get a block from anywhere else I can not only access the block but also the info on what state of consensus this block is in at the moment.  

On the other hand I wanted to keep data that is only relevant for a certain consensus algorithm separate from basic block data - maybe even in a separate package.

How should I design my program? Where should I keep data relevant for a certain consensus algorithm?

Some background info: 

I am trying to build a block chain application from scratch. I have a ""chain"" module responsible for storing blocks of data and a ""consensus"" module responsible for creating consensus between multiple peers running an instance of my program on what that data is.","inheritance go module architecture structure","You are mixing up different types from different packages: The Block from one package is totaly unrelated to the one from the other package: You'll have to decide whether you want a chain of chain.Block or consensus.Block. You cannot magically convert between them.OOOIn Java I could. I could have an array of the super class containing instances of the subclass. When I want to access a method of the subclass I could convert the object from the array to an object of subclass and access the subclasses methods / fields. Maybe there is no way to do this in go without putting both structs in the same module like in ¥Ä¥ë¬­s answer.OOOGiven that there is no super-/sub-class relation in Go it is pretty obvious that a solution based on super-sub-class behaviour cannot work.OOOIn the end for me this is about separation of concerns. I thought I could solve this using modules and struct embedding. I'm open to any other solution, though.OOO@Volker sorry that my question wasn't clear. I edited it, so that it asks in a more general way about where to keep my data instead of insisting on struct embedding or inheritance equivalents.OOOIf you want interchangeability in Go, use interfaces. Embedding gives you composition only, not polymorphism.","
For completeness I want to add a solution that keeps the code and data of the consensus algorithm in a different package than the block and chain code:

Add an extra field to the block like this: 

Extra []byte


Then keep the extra data needed for a consensus algorithm in that algorithms package in a struct and encode it to json or some other format to store it in the extra field. 

This solution keeps separate concerns separate. The chain would not make sense without a consensus algorithm, but they can look very different and might need different data. This way different algorithms can store different data.

I did not go with this solution however, because it just seemed simpler to keep all the code in one package as @syntagma suggested.
    ",NA
"250","Private Ethereum chain, how to increase block target time","2017-12-26T06:47:15",64,"I have been messing around with private ethereum blockchains, and I want to increase the target time for block creation to 2 mins (120 seconds). Is the only way to so modify the CalcDifficulty function? I tried making the difficulty static and decreasing the time and that all works just as expected. But I am having trouble increasing the difficulty to match my target. 

I am using geth (v1.7.3). 

P.S: I am doing this for learning purposes and I understand that increasing target time is undesired.","blockchain ethereum go-ethereum",NA,NA,NA
"251","Superiority of hyperledger over Ethereum","2018-06-29T05:14:49",126,"I am trying to build a block chain system. How could i find the best platform ? Is there any Superiority for the Hyper-ledger over ethereum ?","hyperledger-fabric blockchain hyperledger ethereum","Without being an expert I don't think Stackoverflow is the correct site for this question. Perhaps ethereum.stackexchange.com or eosio.stackexchange.com","
Both ethereum and Hyperledger Fabric are suited for very different visions in regard with their fields of application.

Hyperledger Fabric provides customisable and extendable architecture that may be used in diverse fields ranging from banking to supply chain to healthcare et al. Ethereum¡¯s unique feature of providing us with a cross-disciplinary platform for all kinds of transactions and use cases.

ethereum is permissionless and Hyperledger Fabric is permissioned.
consesus mechanism used by Ethereum use Proof of Work (POW), Hyperledger Fabric use Byzantine Fault Tolerant(BFT).
Issue with POW 

- It requires lot of computational power (CPU cycles, GPU, electricity)


to get random bits.

- Tragedy of the commons<U+200A><U+200A>Miners reward reduces over time, when this occurs less miners will mine these blocks. This could open up window for malicious users who can easily acquire more than 51% of network and thus destroying the network.


Following are the languages in which smart contracts are written for ethereum and hyper-ledger

ethereum :solidity,LLL,serpent
hyper-ledger :go or java

crypto currency

Ethereum :Another noteworthy difference is that Ethereum features a
built-in cryptocurrency called Ether. It is used to pay rewards to
nodes that contribute to reach consensus by mining blocks as well as
to pay transaction fees.
Hyperledger : Hyperledger Fabric does not require a build-in cryptocurrency as consensus is not reached via mining. With Fabric, however, it is possible to develop a native currency or a digital token with chaincode.

",NA
"252","ethereum transaction Observable BigInteger out of int range","2017-10-04T11:33:54",282,"I added dependency of web3j from https://github.com/web3j/web3j-spring-boot-starter

Then created a service and written :

@Service
public class Web3jServiceImpl {

    @Autowired
    private Web3j web3j;

    public void getBlockNumber() {
        logger.debug(""get block number method"");
        web3j.blockObservable(false).subscribe(block -> {
            logger.debug(""block number: {}"", block.getBlock().getNumber() + "" has just been created"");
        }, Throwable::printStackTrace);
    }

  public void getTxInfo(){
    web3j.transactionObservable().subscribe(tx -> {
            logger.debug(""transaction info: {}"",tx);
   }, Throwable::printStackTrace);
 }
}


I am getting block number when any block is created in private block chain of ethereum, but In transaction observable getting BigInteger out of int range exception.

log is:

com.fasterxml.jackson.databind.JsonMappingException: BigInteger out of int range
 at [Source: org.apache.http.conn.EofSensorInputStream@6f12b9e; line: 1, column: 1770] (through reference chain: org.web3j.protocol.core.methods.response.EthBlock$TransactionObject[""v""]) (through reference chain: org.web3j.protocol.core.methods.response.EthBlock[""result""]->org.web3j.protocol.core.methods.response.EthBlock$Block[""transactions""])
    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)
    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)
    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1600)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:278)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:140)
    at com.fasterxml.jackson.databind.ObjectReader._bind(ObjectReader.java:1583)
    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:964)
    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:981)
    at org.web3j.protocol.core.methods.response.EthBlock$ResponseDeserialiser.deserialize(EthBlock.java:562)
    at org.web3j.protocol.core.methods.response.EthBlock$ResponseDeserialiser.deserialize(EthBlock.java:553)
    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:504)
    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:104)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:276)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:140)
    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3814)
    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2924)
    at org.web3j.protocol.http.HttpService.lambda$getResponseHandler$20(HttpService.java:89)
    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:223)
    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165)
    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140)
    at org.web3j.protocol.http.HttpService.send(HttpService.java:67)
    at org.web3j.protocol.core.Request.send(Request.java:69)
    at org.web3j.protocol.core.Request.lambda$observable$8(Request.java:80)
    at rx.Observable.unsafeSubscribe(Observable.java:10142)
    at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:248)
    at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)
    at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)
    at org.web3j.protocol.core.filters.BlockFilter.process(BlockFilter.java:32)
    at org.web3j.protocol.core.filters.Filter.pollFilter(Filter.java:82)
    at org.web3j.protocol.core.filters.Filter.lambda$run$9(Filter.java:48)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.databind.RuntimeJsonMappingException: BigInteger out of int range
 at [Source: org.apache.http.conn.EofSensorInputStream@6f12b9e; line: 1, column: 1770] (through reference chain: org.web3j.protocol.core.methods.response.EthBlock$TransactionObject[""v""])
    at com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:194)
    at org.web3j.protocol.core.methods.response.EthBlock$ResultTransactionDeserialiser.deserialize(EthBlock.java:537)
    at org.web3j.protocol.core.methods.response.EthBlock$ResultTransactionDeserialiser.deserialize(EthBlock.java:520)
    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:504)
    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:104)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:276)
    ... 33 more
Caused by: com.fasterxml.jackson.databind.JsonMappingException: BigInteger out of int range
 at [Source: org.apache.http.conn.EofSensorInputStream@6f12b9e; line: 1, column: 1770] (through reference chain: org.web3j.protocol.core.methods.response.EthBlock$TransactionObject[""v""])
    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:277)
    at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:551)
    at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:532)
    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:108)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:276)
    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:140)
    at com.fasterxml.jackson.databind.MappingIterator.nextValue(MappingIterator.java:277)
    at com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:192)
    ... 38 more
Caused by: java.lang.ArithmeticException: BigInteger out of int range
    at java.math.BigInteger.intValueExact(BigInteger.java:4550)
    at org.web3j.protocol.core.methods.response.Transaction.setV(Transaction.java:220)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:106)
    ... 42 more","spring spring-boot ethereum web3 web3-java","I don't know answer. But I suggest you to ask this question on GitHub as well, because it increases your chances to get the answer.",NA,NA
"253","What is the difference between Chain Of Responsibility design pattern and using a simple if-elseif-else block?","2014-05-22T09:38:27",1398,"I was just looking up Chain Of Responsibility the other day, and I came across this example.

Basically, there is an abstract handler, and then are concrete handlers, each of which implement the handle method of the parent abstract handler. The implementation is such that at first there is a check to see if this particular handler can process the current request, and if not, then it passes on the request to its successor.

Now, I could also do the same thing using a simple if-else conditional block. To take the first example from the link above, here is how I would change it:

class SingleHandler
{
    if(request > 0 && request <= 10)
    {
        // Process request
    }
    else if(request > 10 && request <= 20)
    {
        // Process request differently
    }
    else if(request > 20 && request <= 30)
    {
        // Process request differently
    }
}


Now, my question is, what is the fundamental difference between the two? Is there any specific reason I should use Chain Of Responsibility at all, if I can provide the exact same functionality using if-else blocks? Which one is better with regards to performance, memory consumption, maintainability, scalability?","design-patterns chain-of-responsibility",NA,"
Yes, you could re-write this example to use multiple if-else-cascades. But only because it's a rather simple example.

The Chain Of Responsibility is a dynamic pattern. That means that handlers can be exchanged during run-time. This is often done in UI code where several nested controls can represent the handlers. Imagine the following scenario:

You have a window. In this window there is some kind of panel. In this panel there is a text box. You right-click the text box. The executed command depends on the hierarchy. The system would ask the first handler - the textbox - to handle the click-request. If it does not know what to do with the request, it passes it on to its parent - the panel - etc. I doubt that you want to implement this kind of scenario with an if-else-cascade. Every time you change the UI, you would have to change the cascade. That's why handler objects are used. It makes the code exchangable and re-usable.

Many patterns can be implemented in a different way. This is usual practice in low-level programming languages with no object-orientation. However, these codes are usually quite inflexible and hard to maintain. Yet, this is what makes them fast.
    ",NA
"254","¡°Chaining¡± blocks of different heights with display:inline-block","2014-08-27T15:35:03",1668,"To illustrate my problem : http://jsfiddle.net/89bnF/762/

I'm using a 2 column layout with blocks having different heights :

.thumbBlock {
     display: inline-block;
     background-color: #efbf53;
     width: 45%;
     padding: 10px;
     margin: 5px;
     vertical-align: top;
     border: 1px solid #aaa;
 }


I'd like the n¡Æ3 block to be just under the n¡Æ1 block, on the left of n¡Æ2 block (not having the white gap due to block n¡Æ2 being higher). Is this possible with inline-block? 
And if not, what should I use, knowing that the result has to be ""responsive-compatible"" ? (i didn't include the media queries part in the example)

Thanks for your help!

Olz","css3 css",NA,"
You'll either need JavaScript to position the divs as you want (see the masonry project), or a containing div around the divs you have, and then some floating to get the desired effect:

jsFiddle example

CSS

.l {
    float:left;
    clear:left;
}
.r {
    float:right;
    clear:right;
}


HTML

<div id=""container"">
    <div class=""thumbBlock l"">Bla Bla1
        <br />Bla Bla1</div>
    <div class=""thumbBlock r"">Bla Bla2
        <br />Bla Bla2
        <br />Bla Bla2
        <br />Bla Bla
        <br />Bla Bla
        <br />Bla Bla
        <br />Bla Bla
        <br />Bla Bla</div>
    <div class=""thumbBlock l"">Bla Bla3
        <br />Bla Bla3
        <br />Bla Bla3</div>
    <div class=""thumbBlock r"">Bla Bla4 Bla Bla4
        <br />Bla Bla4
        <br />Bla Bla4
        <br />Bla Bla4</div>
</div>

    ",NA
"255","Corda transaction chain DAG or blockchain","2019-08-19T04:19:28",35,"Which concept is used for creating a transaction chain in Corda? Is the chain formed is based on Directed Acyclic Graph (DAG) or any other chaining concept. In Corda, there is no concept of the single-chain using genesis block","corda",NA,"
Corda makes use of the UTXO model. The key concepts section contains a good introduction of how this model works in practice.


  In Corda, there is no concept of the single-chain using genesis block


Correct, in Corda there can be multiple, normal transactions that contain only output states and no input states.
    ",NA
"256","Accessing Rest api in AWS managed block chain from outside browser","2019-11-06T14:48:59",16,"I have created a network using AWS managed blockchain. and deployed rest API in it using this tutorial.

https://github.com/aws-samples/non-profit-blockchain

I can use the rest API in the AWS cloud terminal. but now I want to access the APIs through the public browser. So how I can do that.","node.js amazon-web-services blockchain chaincode",NA,NA,NA
"257","Which tools can be used to implement the block chain technology?","2017-07-01T15:50:47",25,"I am a beginner in this technology.So, please try to answer this question in simple terms.","database distributed","Hyperledger - Google thatOOOBit coin is another search you can doOOOethereum is also there",NA,NA
"258","How to calculate Blockchain Transaction fee","2019-11-25T09:58:10",23,"this is a small part of my block chain transaction, and I want to know how to calculate a blockchain transaction fee from this. I heard 

    {""nonce"": -1330751366, ""tx"":
 [{""inputs"": [{""sequence"": 4294967295}], ""tx_index"": 1939116, ""hash"": ""5b09bbb8d3cb2f8d4edbcf30664419fb7c9deaeeb1f62cb432e7741c80dbe5ba"", 
""out"": [{""addr"": ""1KUCp7YP5FP8ViRxhfszSUJCTAajK6viGy"", ""tx_index"": 1939116, ""value"": 5000200000}], ""size"": 168},
 {""inputs"": [{""sequence"": 4294967295, ""prev_out"": {""addr"": ""1EeYUCnnCDqdjNGWK9uNWQ66FQkbr6MUBa"", ""tx_index"": 1934441, ""value"": 8262537860}}], 
""tx_index"": 1939097, ""hash"": ""7fec6bd918ee43fddebc9a7d976f3c6d31a61efb4f27482810a6b63f0e4a02d5"", 
""out"": [{""addr"": ""1F2o1EEREuUpjK12ifRtah6SyQK29eff7y"", ""tx_index"": 1939097, ""value"": 5000000},
 {""addr"": ""15EFHxnebLB8vUAu8YmeGXaHrwgHwT5jJK"", ""tx_index"": 1939097, ""value"": 8257537860}], ""size"": 259}, 
{""inputs"": [{""sequence"": 4294967295, ""prev_out"": {""addr"": ""14GPE4J81192XDWxsdjVp11fibninVn9pR"", ""tx_index"": 1935211, ""value"": 7591252376}}],


Thanks is advance","blockchain",NA,"
I cite the good answer of Bitcoin core developer


  No, there is not, and you cannot make such an estimate. The fee for a transaction is not dependent on the amount being transacted. That amount is completely irrelevant for fee calculation. What matters for fee calculation is the size in bytes of the data for the transaction itself. This is dependent on your wallet and which inputs it chooses to use in the transaction.
  You could have a transaction that pays $1 but has 100 inputs. That transaction would have a very high transaction fee. Conversely, you could have a transaction that pays $100,000 but has only 1 input. That transaction would have a very low fee.
  Because there is no relationship between the amount being sent and the transaction fee, it is impossible to give an estimate for the transaction fee given only the amount being sent.


I think this is exhaustive answer
    ","if my comment help you, the better thank is the up-vote"
"259","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
Share the password (a char[]) and salt (a byte[]<U+2014>8 bytes selected by a SecureRandom makes a good salt<U+2014>which doesn't need to be kept secret) with the recipient out-of-band. Then to derive a good key from this information:

/* Derive the key, given password and salt. */
SecretKeyFactory factory = SecretKeyFactory.getInstance(""PBKDF2WithHmacSHA256"");
KeySpec spec = new PBEKeySpec(password, salt, 65536, 256);
SecretKey tmp = factory.generateSecret(spec);
SecretKey secret = new SecretKeySpec(tmp.getEncoded(), ""AES"");


The magic numbers (which could be defined as constants somewhere) 65536 and 256 are the key derivation iteration count and the key size, respectively.

The key derivation function is iterated to require significant computational effort, and that prevents attackers from quickly trying many different passwords. The iteration count can be changed depending on the computing resources available. 

The key size can be reduced to 128 bits, which is still considered ""strong"" encryption, but it doesn't give much of a safety margin if attacks are discovered that weaken AES.

Used with a proper block-chaining mode, the same derived key can be used to encrypt many messages. In Cipher Block Chaining (CBC), a random initialization vector (IV) is generated for each message, yielding different cipher text even if the plain text is identical. CBC may not be the most secure mode available to you (see AEAD below); there are many other modes with different security properties, but they all use a similar random input. In any case, the outputs of each encryption operation are the cipher text and the initialization vector:

/* Encrypt the message. */
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
cipher.init(Cipher.ENCRYPT_MODE, secret);
AlgorithmParameters params = cipher.getParameters();
byte[] iv = params.getParameterSpec(IvParameterSpec.class).getIV();
byte[] ciphertext = cipher.doFinal(""Hello, World!"".getBytes(""UTF-8""));


Store the ciphertext and the iv. On decryption, the SecretKey is regenerated in exactly the same way, using using the password with the same salt and iteration parameters. Initialize the cipher with this key and the initialization vector stored with the message:

/* Decrypt the message, given derived key and initialization vector. */
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(iv));
String plaintext = new String(cipher.doFinal(ciphertext), ""UTF-8"");
System.out.println(plaintext);


Java 7 included API support for AEAD cipher modes, and the ""SunJCE"" provider included with OpenJDK and Oracle distributions implements these beginning with Java 8. One of these modes is strongly recommended in place of CBC; it will protect the integrity of the data as well as their privacy.

A java.security.InvalidKeyException with the message ""Illegal key size or default parameters"" means that the cryptography strength is limited; the unlimited strength jurisdiction policy files are not in the correct location. In a JDK, they should be placed under ${jdk}/jre/lib/security 

Based on the problem description, it sounds like the policy files are not correctly installed. Systems can easily have multiple Java runtimes; double-check to make sure that the correct location is being used.
    ","Argh. Salts are not necessary for symmetric encryption. IVs serve a similar purpose, and are prepended to the ciphertext by most (all?) crypto libraries.OOO@Nick: Read PKCS #5. Salts are necessary for PBKDF2, which is why the API for password-based encryption requires them as input for key derivation. Without salts, a dictionary attack could be used, enabling a pre-computed list of the most likely symmetric encryption keys. Cipher IVs and key-derivation salts serve different purposes. IVs allow one reuse the same key for multiple messages. Salts prevent dictionary attacks on the key.OOODoes this usage of SecureKey and PBEKeySpec produce a Password-based key that is RFC2898-compliant? ietf.org/rfc/rfc2898.txtOOOYes, that is the ""PBKDF2"" of the SecretKeyFactory algorithm name. It is referring to PKCS #5's PBKDF2 (Password-Based Key Derivation Function #2).OOOIf you were storing encrypted data in a database using the method above, would you store the ciphertext (blob) and the iv (char) in the database, and the password and salts would be supplied to the client application by the user or in the application's configuration files?OOOIn that case, I'd store the ciphertext in one field, the IV in another, and the ""salt"" and ""iterations"" together in a third. I'd prompt the user in the client application for the password, and derive the key using the stored salt and iterations. Then initialize the cipher with the derived key and stored IV, and decrypt the content.OOO@erickson: in case you store iv, salt, etc. in the database, why not just use 'PBEWithMD5AndDES' and append the salt to the encrypted text, after loading u can strip the salt and use it for decryption. This way PBE is implemented in jasypt framework: www.jasypt.orgOOOFirst, that would be DES encryption, not AES. Most providers don't have good support for the PBEwith<prf>and<encryption> algorithms; for example, the SunJCE doesn't provide and PBE for AES. Second, enabling jasypt is a non-goal. A package that purports to offer security without requiring an understanding of the underlying principles seems dangerous prima facie.OOO@erickson so the lack of support is the only criteria not to use 'PBEWithMD5AndDES'? Are there any further criterias not to use this algo for enryption of data stored in a db?OOOAlthough MD5 is ""broken"" in some applications, I don't think that it is a problem here. But the weakness of DES is definitely a problem. The tiny key of DES can be broken in hours or days using a few thousand dollars worth of equipment.OOOI've implemented @erickson's answer as a class: github.com/mrclay/jSecureEdit/tree/master/src/org/mrclay/crypto (PBE does the work, PBEStorage is a value object for storing the IV/ciphertext together.)OOOTrying to implement this with Doug's code below. erickson says to ""Share the password (a char[]) and salt (a byte[]<U+2014>8"" with recipient but then ""send the ciphertext and the iv to the recipient"" which is it? the iv or the salt? They are different correct?OOO@wufoo They are different, and you share both. You'll probably share the salt (for key derivation) one time, at the same time you set up the password itself. But every message you send after that should include the unique IV that was used to encrypt that message (and only that message.OOO@wufoo By the way, Doug's code has a number of security flaws. I can't recommend it as an example.OOO@erickson I am just storing hashed/encrypted passwords in a database.  Can your example be used for safe storage of passwords, rather than using a sha1sum of the password and a salt?OOO@AndyNuss This example is for reversible encryption, which generally should not be used for passwords. You can use the PBKDF2 key derivation to ""hash"" passwords securely. That means that in the example above, you'd store the result of tmp.getEncoded() as the hash. You should also store the salt and the iterations (65536 in this example) so that you can recompute the hash when someone tries to authenticate. In this case, generate the salt with a cryptographic random number generator each time the password is changed.OOOFor running this code, make sure you have the right Unlimited Strength Jurisdiction Policy Files in your JRE as stated in ngs.ac.uk/tools/jcepolicyfilesOOOIs there a way of doing this without Unlimited Strength Jurisdiction Policy files?OOO@ArchimedesTrajano Not with the Java Cryptography Architecture. I would suggest using AES-128. AES-128 is good. NIST recommends it for applications through 2030. If you really need AES-256 and can't get it through the JCA, you can use a non-standard API, like BouncyCastle's ""lightweight"" crypto API directly to bypass the  restrictions. I can't speak to the legal ramifications of doing so (your software might be illegal to import into certain regions).OOO+1 but if you send the encrypted data over the network as implied in the answer you have to make sure that integrity of the message is ensured. In other words you need to generate another key to use a MAC, or you could use an authenticated mode of encryption such as GCM.OOOYes, I wrote this before the APIs were available to do GCM in Java SE, but they were introduced in Java 7, and implementations for them in the standard SunJCE provider were added in Java 8. So if you have the right provider in Java 7, or you are using Java 8, using GCM is highly recommended to avoid Moxie Marlinspike's Cryptographic Doom Principle.OOOAlso note that if the salt is fully random each time the plaintext is encrypted, that you may skip the creation (and therefore sending/communication) of a random IV. Unique/random IV's are only required if the key does not change for each encryption, but the use of a random salt will result in different keys for each encryption.OOOYep, I'm assuming that the salt and rounds are fixed when the password is chosen, and stored as key derivation parameters somewhere.OOOAfter reading all of this I have few questions:  1) do you have to use params.getParameterSpec(IvParameterSpec.class).getIV()  or can you just call  ` cipher.getIV(); ` ?  2) Lets say I'm trying to implememnt simple chat application and I want to set up passsword once and then two people can communicate with each other. Does IV being generated only once and then used to encrypt every message or does it have to be generated for every message(if yes, then how) ?OOO@voltar Yes, you can call getIV(). For your chat application, each message would have a different IV. What constitutes a message depends on how you write your code. If you create one CipherOutputStream and use it to encrypt a socket's OutputStream for the duration of the chat session, then there'd only be one IV. If you are posting individual chats to a web application, then there'd be a unique IV for each chat. Basically, a new IV should be generated after calling doFinal() on the Cipher.OOOThank you for a such a quick answer ! So every time, you call getIV() the new vector is returned(according to docs) ?OOO@voltar No. Everytime you call an init() method on Cipher, an new IV is generated. You can reuse a Cipher instance without calling init() again, but then its IV won't change, which is a problem. The getIV() documentation does not say a new IV is chosen with each call. Maybe you are getting confused by the ""new buffer"" wording; that just means the current IV is copied to a new array that isn't referenced anywhere else.OOOwhat is meant by key out out-of-band.OOO@DougHauf It means you have to share the key beforehand, by some secure means; it can't be sent over the insecure channel.OOOBeginning with Android 4.4 KitKat, we¡¯ve made a subtle change to the behavior of SecretKeyFactory. This change may break some applications that use symmetric encryptionOOO@NickJian Are you talking about this?OOOYes, I was trying to post the link also, but anti-spam stopped me from doing it. android-developers.blogspot.ca/2013/12/¡¦OOOdoes the encryption code comply to this openssl command? openssl enc -aes-256-cbc -a -in t.txt -k testpassOOO@mohamnag No, by default, OpenSSL uses a non-standard, low-quality key derivation algorithm instead of PBKDF2, like I show above. However, I wrote some Java code to decrypt messages encrypted with OpenSSL. For AES-256, you'd need to adjust the length of the derived key (you'd need 32 bytes for the key, and the next 16 bytes for the IV), and change the transform to ""AES/CBC/PKCS5Padding"".OOOthanks for the info, I'm having the trouble that I should recreate the exact openssl behaviour to interact with an external system. so I'm looking for the java equivalent of that openssl command: stackoverflow.com/questions/32508961/¡¦OOOWarning: sending CBC ciphertext leads to vulnerabilities with regards to padding oracle attacks as well as making your plaintext vulnerable to changes. To send ciphertext with AES-256, use TLS with AES-256 ciphersuite, possibly using PSK with the derived key.OOO@MaartenBodewes Good point. I have re-worded the answer in that respect, and included a recommendation for AEAD. As time allows I'll an an example.OOOPBKDF2WithHmacSHA256 is not supported in java6 and java 7OOOThe above code that generates the key is NOT correct because it is using a PBE based encryption key  ""PBKDF2WithHmacSHA256"" to generate the secret key.  And then it is associating that generated secret key with an ""AES"" encryption algorithm.  That is wrong!   The algorithm used to generate the key MUST be the same one being associated in the SecretKey.OOO@user2213684 You are wrong. The PBKDF algorithms are the correct way to derive keys from a password for any symmetric algorithm. And specifying AES as the algorithm and using a PBEKeySpec will fail. Why did you make this comment when you don't have any experience or knowledge about it?OOO@Neri Read the whole post. The solution for that exact error message is discussed.OOO@erickson I have seen but failed to solve it. Thanks let me go with 128 which works fine.OOO@Neri You have to make sure that the correct files are installed in the correct place. Why that isn't happening in your case would take more detailed troubleshooting, in a new question. But you are right, 128 offers plenty of security. 256 is just extra insurance in case some weakness is found someday in AES; it provides a margin of safety that might never be necessary.OOOUseful, but missing wrapper / imports? Good area for website / new (complete) example @erickson ? I think so.OOO@erickson Thanks for this great overview. In an other question you recommend someone to use a crypto library. What are the benefits of using a library? I personally want to avoid using tons of code I can not (safely) verify..  Would the solution above (in 256 bit) provide a decent protection when saving passwords / banking data, if implemented correctly?OOO@codenamezero @Neri did you installed the matching policy files in your java installation? There are different.. for Java7 you will need these oracle.com/technetwork/java/javase/downloads/¡¦ if you are running Java8 you will need the package for Java8.  Insert them in JAVA_HOME/jre/lib/security on my mac the path looks like /Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home/jre/lib/security/INSERT HEREOOO@MartinPfeffer Yes, at the heart of a good Java crypto library for password-based encryption, I would expect to find essentially the same code as I wrote above. Password managers like PasswordSafe typically use the same approach. I would, however, strongly recommend an AEAD mode, which I mention but don't demonstrate. You could open another question for that.OOOGiven this sample, with is the openssl commandline equivalent of decrypting the ciphertext? I'm absolutely no crypto guy....OOO@JointEffort There isn't one. OpenSSL is principally a library intended to be used in other applications; its CLI tools, especially the enc command, are more of an afterthought. The main problem is that its PBKDF2 (the algorithm to convert password to a key) support is not exposed through its command-line interface.OOO@erickson: just missed! 1.1.1 released 2018-09-11 adds support for -pbkdf2 in enc -- defaulting to iter 10000 and hmac-sha256 but these can be changedOOO@dave_thompson_085 thanks for the tip. I may try to see how to inter operate with Java."
"260","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
Consider using the Spring Security Crypto Module


  The Spring Security Crypto module provides support for symmetric encryption, key generation, and password encoding. The code is distributed as part of the core module but has no dependencies on any other Spring Security (or Spring) code.


It's provides a simple abstraction for encryption and seems to match what's required here,


  The ""standard"" encryption method is 256-bit AES using PKCS #5's PBKDF2 (Password-Based Key Derivation Function #2). This method requires Java 6. The password used to generate the SecretKey should be kept in a secure place and not be shared. The salt is used to prevent dictionary attacks against the key in the event your encrypted data is compromised. A 16-byte random initialization vector is also applied so each encrypted message is unique.


A look at the internals reveals a structure similar to erickson's answer. 

As noted in the question, this also requires the Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy (else you'll encounter InvalidKeyException: Illegal Key Size).  It's downloadable for Java 6, Java 7 and Java 8. 

Example usage

import org.springframework.security.crypto.encrypt.Encryptors;
import org.springframework.security.crypto.encrypt.TextEncryptor;
import org.springframework.security.crypto.keygen.KeyGenerators;

public class CryptoExample {
    public static void main(String[] args) {
        final String password = ""I AM SHERLOCKED"";  
        final String salt = KeyGenerators.string().generateKey();

        TextEncryptor encryptor = Encryptors.text(password, salt);      
        System.out.println(""Salt: \"""" + salt + ""\"""");

        String textToEncrypt = ""*royal secrets*"";
        System.out.println(""Original text: \"""" + textToEncrypt + ""\"""");

        String encryptedText = encryptor.encrypt(textToEncrypt);
        System.out.println(""Encrypted text: \"""" + encryptedText + ""\"""");

        // Could reuse encryptor but wanted to show reconstructing TextEncryptor
        TextEncryptor decryptor = Encryptors.text(password, salt);
        String decryptedText = decryptor.decrypt(encryptedText);
        System.out.println(""Decrypted text: \"""" + decryptedText + ""\"""");

        if(textToEncrypt.equals(decryptedText)) {
            System.out.println(""Success: decrypted text matches"");
        } else {
            System.out.println(""Failed: decrypted text does not match"");
        }       
    }
}


And sample output,


Salt: ""feacbc02a3a697b0""
Original text: ""*royal secrets*""
Encrypted text: ""7c73c5a83fa580b5d6f8208768adc931ef3123291ac8bc335a1277a39d256d9a"" 
Decrypted text: ""*royal secrets*""
Success: decrypted text matches

    ","Can you use that module without loading all of Spring? They don't seem to have made jar files available for download.OOO@theglauber Yes, you can use the module without Spring Security or the Spring framework. From looking at the pom, the only runtime dependency is apache commons-logging 1.1.1. You can pull in the jar with maven or download it directly from the official binary repo (see Spring 4 binaries download for more info on Spring binaries).OOOLooks like the interfaces have changed in the latest version?  (3.2.5)OOO@Blankman Hmm, I pulled in spring-security-crypto 3.2.5.RELEASE, and the example still executes as expected.  What are you seeing that's unexpected?OOOSorry it does work, my test project wasn't compiling for other reasons.  Very sorry about that thanks.OOOAny idea about this error? ""Unable to initialize due to invalid secret key""  I have already included required dependencies in ""jre/lib/security"".OOO@TechnoCrat I haven't seen this.  Do you have a ""caused by"" exception with any additional details?  See also How to solve InvalidKeyException which might have some ideas.OOOIs it possible to set the key length to 128-bits? Modifying security folder in every PC is not an option for me.OOO@IvanRF sorry, doesn't look like it.  256 is hard coded in the sourceOOOThe NULL_IV_GENERATOR used by the Spring utility is not secure. If the application doesn't provide an IV, let the provider choose it, and query it after initialization."
"261","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
After reading through erickson's suggestions, and gleaning what I could from a couple other postings and this example here, I've attempted to update Doug's code with the recommended changes. Feel free to edit to make it better.

Initialization Vector is no longer fixed
encryption key is derived using code from erickson
8 byte salt is generated in setupEncrypt() using SecureRandom()
decryption key is generated from the encryption salt and password
decryption cipher is generated from decryption key and initialization vector
removed hex twiddling in lieu of org.apache.commons codec Hex routines
Some notes: This uses a 128 bit encryption key - java apparently won't do 256 bit encryption out-of-the-box. Implementing 256 requires installing some extra files into the java install directory. 

Also, I'm not a crypto person. Take heed.

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.security.AlgorithmParameters;
import java.security.InvalidAlgorithmParameterException;
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import java.security.SecureRandom;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.InvalidParameterSpecException;
import java.security.spec.KeySpec;

import javax.crypto.BadPaddingException;
import javax.crypto.Cipher;
import javax.crypto.CipherInputStream;
import javax.crypto.CipherOutputStream;
import javax.crypto.IllegalBlockSizeException;
import javax.crypto.NoSuchPaddingException;
import javax.crypto.SecretKey;
import javax.crypto.SecretKeyFactory;
import javax.crypto.spec.IvParameterSpec;
import javax.crypto.spec.PBEKeySpec;
import javax.crypto.spec.SecretKeySpec;

import org.apache.commons.codec.DecoderException;
import org.apache.commons.codec.binary.Hex;

public class Crypto
{
    String mPassword = null;
    public final static int SALT_LEN = 8;
    byte [] mInitVec = null;
    byte [] mSalt = null;
    Cipher mEcipher = null;
    Cipher mDecipher = null;
    private final int KEYLEN_BITS = 128; // see notes below where this is used.
    private final int ITERATIONS = 65536;
    private final int MAX_FILE_BUF = 1024;

    /**
     * create an object with just the passphrase from the user. Don't do anything else yet 
     * @param password
     */
    public Crypto (String password)
    {
        mPassword = password;
    }

    /**
     * return the generated salt for this object
     * @return
     */
    public byte [] getSalt ()
    {
        return (mSalt);
    }

    /**
     * return the initialization vector created from setupEncryption
     * @return
     */
    public byte [] getInitVec ()
    {
        return (mInitVec);
    }

    /**
     * debug/print messages
     * @param msg
     */
    private void Db (String msg)
    {
        System.out.println (""** Crypt ** "" + msg);
    }

    /**
     * this must be called after creating the initial Crypto object. It creates a salt of SALT_LEN bytes
     * and generates the salt bytes using secureRandom().  The encryption secret key is created 
     * along with the initialization vectory. The member variable mEcipher is created to be used
     * by the class later on when either creating a CipherOutputStream, or encrypting a buffer
     * to be written to disk.
     *  
     * @throws NoSuchAlgorithmException
     * @throws InvalidKeySpecException
     * @throws NoSuchPaddingException
     * @throws InvalidParameterSpecException
     * @throws IllegalBlockSizeException
     * @throws BadPaddingException
     * @throws UnsupportedEncodingException
     * @throws InvalidKeyException
     */
    public void setupEncrypt () throws NoSuchAlgorithmException, 
                                                           InvalidKeySpecException, 
                                                           NoSuchPaddingException, 
                                                           InvalidParameterSpecException, 
                                                           IllegalBlockSizeException, 
                                                           BadPaddingException, 
                                                           UnsupportedEncodingException, 
                                                           InvalidKeyException
    {
        SecretKeyFactory factory = null;
        SecretKey tmp = null;

        // crate secureRandom salt and store  as member var for later use
         mSalt = new byte [SALT_LEN];
        SecureRandom rnd = new SecureRandom ();
        rnd.nextBytes (mSalt);
        Db (""generated salt :"" + Hex.encodeHexString (mSalt));

        factory = SecretKeyFactory.getInstance(""PBKDF2WithHmacSHA1"");

        /* Derive the key, given password and salt. 
         * 
         * in order to do 256 bit crypto, you have to muck with the files for Java's ""unlimted security""
         * The end user must also install them (not compiled in) so beware. 
         * see here:  http://www.javamex.com/tutorials/cryptography/unrestricted_policy_files.shtml
         */
        KeySpec spec = new PBEKeySpec (mPassword.toCharArray (), mSalt, ITERATIONS, KEYLEN_BITS);
        tmp = factory.generateSecret (spec);
        SecretKey secret = new SecretKeySpec (tmp.getEncoded(), ""AES"");

        /* Create the Encryption cipher object and store as a member variable
         */
        mEcipher = Cipher.getInstance (""AES/CBC/PKCS5Padding"");
        mEcipher.init (Cipher.ENCRYPT_MODE, secret);
        AlgorithmParameters params = mEcipher.getParameters ();

        // get the initialization vectory and store as member var 
        mInitVec = params.getParameterSpec (IvParameterSpec.class).getIV();

        Db (""mInitVec is :"" + Hex.encodeHexString (mInitVec));
    }



    /**
     * If a file is being decrypted, we need to know the pasword, the salt and the initialization vector (iv). 
     * We have the password from initializing the class. pass the iv and salt here which is
     * obtained when encrypting the file initially.
     *   
     * @param initvec
     * @param salt
     * @throws NoSuchAlgorithmException
     * @throws InvalidKeySpecException
     * @throws NoSuchPaddingException
     * @throws InvalidKeyException
     * @throws InvalidAlgorithmParameterException
     * @throws DecoderException
     */
    public void setupDecrypt (String initvec, String salt) throws NoSuchAlgorithmException, 
                                                                                       InvalidKeySpecException, 
                                                                                       NoSuchPaddingException, 
                                                                                       InvalidKeyException, 
                                                                                       InvalidAlgorithmParameterException, 
                                                                                       DecoderException
    {
        SecretKeyFactory factory = null;
        SecretKey tmp = null;
        SecretKey secret = null;

        // since we pass it as a string of input, convert to a actual byte buffer here
        mSalt = Hex.decodeHex (salt.toCharArray ());
       Db (""got salt "" + Hex.encodeHexString (mSalt));

        // get initialization vector from passed string
        mInitVec = Hex.decodeHex (initvec.toCharArray ());
        Db (""got initvector :"" + Hex.encodeHexString (mInitVec));


        /* Derive the key, given password and salt. */
        // in order to do 256 bit crypto, you have to muck with the files for Java's ""unlimted security""
        // The end user must also install them (not compiled in) so beware. 
        // see here: 
      // http://www.javamex.com/tutorials/cryptography/unrestricted_policy_files.shtml
        factory = SecretKeyFactory.getInstance(""PBKDF2WithHmacSHA1"");
        KeySpec spec = new PBEKeySpec(mPassword.toCharArray (), mSalt, ITERATIONS, KEYLEN_BITS);

        tmp = factory.generateSecret(spec);
        secret = new SecretKeySpec(tmp.getEncoded(), ""AES"");

        /* Decrypt the message, given derived key and initialization vector. */
        mDecipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
        mDecipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(mInitVec));
    }


    /**
     * This is where we write out the actual encrypted data to disk using the Cipher created in setupEncrypt().
     * Pass two file objects representing the actual input (cleartext) and output file to be encrypted.
     * 
     * there may be a way to write a cleartext header to the encrypted file containing the salt, but I ran
     * into uncertain problems with that. 
     *  
     * @param input - the cleartext file to be encrypted
     * @param output - the encrypted data file
     * @throws IOException
     * @throws IllegalBlockSizeException
     * @throws BadPaddingException
     */
    public void WriteEncryptedFile (File input, File output) throws 
                                                                                          IOException, 
                                                                                          IllegalBlockSizeException, 
                                                                                          BadPaddingException
    {
        FileInputStream fin;
        FileOutputStream fout;
        long totalread = 0;
        int nread = 0;
        byte [] inbuf = new byte [MAX_FILE_BUF];

        fout = new FileOutputStream (output);
        fin = new FileInputStream (input);

        while ((nread = fin.read (inbuf)) > 0 )
        {
            Db (""read "" + nread + "" bytes"");
            totalread += nread;

            // create a buffer to write with the exact number of bytes read. Otherwise a short read fills inbuf with 0x0
            // and results in full blocks of MAX_FILE_BUF being written. 
            byte [] trimbuf = new byte [nread];
            for (int i = 0; i < nread; i++)
                trimbuf[i] = inbuf[i];

            // encrypt the buffer using the cipher obtained previosly
            byte [] tmp = mEcipher.update (trimbuf);

            // I don't think this should happen, but just in case..
            if (tmp != null)
                fout.write (tmp);
        }

        // finalize the encryption since we've done it in blocks of MAX_FILE_BUF
        byte [] finalbuf = mEcipher.doFinal ();
        if (finalbuf != null)
            fout.write (finalbuf);

        fout.flush();
        fin.close();
        fout.close();

        Db (""wrote "" + totalread + "" encrypted bytes"");
    }


    /**
     * Read from the encrypted file (input) and turn the cipher back into cleartext. Write the cleartext buffer back out
     * to disk as (output) File.
     * 
     * I left CipherInputStream in here as a test to see if I could mix it with the update() and final() methods of encrypting
     *  and still have a correctly decrypted file in the end. Seems to work so left it in.
     *  
     * @param input - File object representing encrypted data on disk 
     * @param output - File object of cleartext data to write out after decrypting
     * @throws IllegalBlockSizeException
     * @throws BadPaddingException
     * @throws IOException
     */
    public void ReadEncryptedFile (File input, File output) throws 
                                                                                                                                            IllegalBlockSizeException, 
                                                                                                                                            BadPaddingException, 
                                                                                                                                            IOException
    {
        FileInputStream fin; 
        FileOutputStream fout;
        CipherInputStream cin;
        long totalread = 0;
        int nread = 0;
        byte [] inbuf = new byte [MAX_FILE_BUF];

        fout = new FileOutputStream (output);
        fin = new FileInputStream (input);

        // creating a decoding stream from the FileInputStream above using the cipher created from setupDecrypt()
        cin = new CipherInputStream (fin, mDecipher);

        while ((nread = cin.read (inbuf)) > 0 )
        {
            Db (""read "" + nread + "" bytes"");
            totalread += nread;

            // create a buffer to write with the exact number of bytes read. Otherwise a short read fills inbuf with 0x0
            byte [] trimbuf = new byte [nread];
            for (int i = 0; i < nread; i++)
                trimbuf[i] = inbuf[i];

            // write out the size-adjusted buffer
            fout.write (trimbuf);
        }

        fout.flush();
        cin.close();
        fin.close ();       
        fout.close();   

        Db (""wrote "" + totalread + "" encrypted bytes"");
    }


    /**
     * adding main() for usage demonstration. With member vars, some of the locals would not be needed
     */
    public static void main(String [] args)
    {

        // create the input.txt file in the current directory before continuing
        File input = new File (""input.txt"");
        File eoutput = new File (""encrypted.aes"");
        File doutput = new File (""decrypted.txt"");
        String iv = null;
        String salt = null;
        Crypto en = new Crypto (""mypassword"");

        /*
         * setup encryption cipher using password. print out iv and salt
         */
        try
      {
          en.setupEncrypt ();
          iv = Hex.encodeHexString (en.getInitVec ()).toUpperCase ();
          salt = Hex.encodeHexString (en.getSalt ()).toUpperCase ();
      }
      catch (InvalidKeyException e)
      {
          e.printStackTrace();
      }
      catch (NoSuchAlgorithmException e)
      {
          e.printStackTrace();
      }
      catch (InvalidKeySpecException e)
      {
          e.printStackTrace();
      }
      catch (NoSuchPaddingException e)
      {
          e.printStackTrace();
      }
      catch (InvalidParameterSpecException e)
      {
          e.printStackTrace();
      }
      catch (IllegalBlockSizeException e)
      {
          e.printStackTrace();
      }
      catch (BadPaddingException e)
      {
          e.printStackTrace();
      }
      catch (UnsupportedEncodingException e)
      {
          e.printStackTrace();
      }

        /*
         * write out encrypted file
         */
        try
      {
          en.WriteEncryptedFile (input, eoutput);
          System.out.printf (""File encrypted to "" + eoutput.getName () + ""\niv:"" + iv + ""\nsalt:"" + salt + ""\n\n"");
      }
      catch (IllegalBlockSizeException e)
      {
          e.printStackTrace();
      }
      catch (BadPaddingException e)
      {
          e.printStackTrace();
      }
      catch (IOException e)
      {
          e.printStackTrace();
      }


        /*
         * decrypt file
         */
        Crypto dc = new Crypto (""mypassword"");
        try
      {
          dc.setupDecrypt (iv, salt);
      }
      catch (InvalidKeyException e)
      {
          e.printStackTrace();
      }
      catch (NoSuchAlgorithmException e)
      {
          e.printStackTrace();
      }
      catch (InvalidKeySpecException e)
      {
          e.printStackTrace();
      }
      catch (NoSuchPaddingException e)
      {
          e.printStackTrace();
      }
      catch (InvalidAlgorithmParameterException e)
      {
          e.printStackTrace();
      }
      catch (DecoderException e)
      {
          e.printStackTrace();
      }

        /*
         * write out decrypted file
         */
        try
      {
          dc.ReadEncryptedFile (eoutput, doutput);
          System.out.println (""decryption finished to "" + doutput.getName ());
      }
      catch (IllegalBlockSizeException e)
      {
          e.printStackTrace();
      }
      catch (BadPaddingException e)
      {
          e.printStackTrace();
      }
      catch (IOException e)
      {
          e.printStackTrace();
      }
   }


}

    ","This is basically the same answer as that of Erickson, surrounded by a - not-that-well-programmed-in-my-opinion - wrapper.printStackTrace()OOO@owlstead - This is a great answer. It shows how to encrypt a stream by encrypting the byte buffer, instead of having everything in memory. Erickson's answer wont work for large files, that does not fit in memory. So +1 to wufoo. :)OOO@dynamokaj The use of CipherInputStream and CipherOutputStream is not much of a problem. Shuffling all the exceptions under the table is a problem. The fact that the salt suddenly has become a field and that the IV is required is a problem. The fact that it doesn't follow Java coding conventions is a problem. And the fact that this only works on files while it wasn't asked for is a problem. And that the rest of the code is basically a copy doesn't help either. But maybe I'll tweak it to make it better, as suggested...OOO@owlstead I agree that the coding could have looked better I have cut it down to 1/4 or something, but I like that he introduced me to the CipherInputStream and CipherOutputStream, since that was just what I needed yesterday! ;)OOOwhy twice? fout.close(); fout.close ();OOOI have created a password-encrypted stream with data integrity check and password fail fast and compression: github.com/jjYBdx4IL/misc/tree/master/encryption-utils More additions are welcome.OOO@MarianPa<U+017A>dzioch - good catch. It's been awhile since I posted this, but I would surmise it's a typo. There's no logical reason for two fout() calls."
"262","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
I've implemented the erickson's answer in a really simple class:Java AES 256-bit Encryption/Decryption class
If you get the java.security.InvalidKeyException you have to install the Java Cryptography Extension (JCE) unlimited strength jurisdiction policy files:

Java 6 link
Java 7 link
Just place the jars in your {JDK HOME}\jre\lib\security
    ","You appear to be sharing the same fixed salt value between all key instances. That's probably not a good idea.OOOIt works fine. However, if I am decrypting using a different instance of the AESEncrypter, the decrypted file tends to have some issues in the first few bytes (9 bytes). I encrypted a file using a passphrase then later I tried to decrypt using the same passphrase. All contents of the file except the first 9 bytes were decrypted properly.OOOMight work fine, but fixed salt is akin to WEP encryption on your wi-fi router.OOO@Jay With cryptography, having just a working implementation is not the same as meeting your requirements. Again, this class is a wrapper around Erickson's solution (although the code itself seems OK at first sight, barring the static salt). Note that answers should not be link-only answers without explanation of the process that was followed.OOO-1 This should have been a comment under Erickson's answer. There is no need to have a separate answer just to point out you've implemented someone else's code.OOOThis is a potentially dangerous answer: Security is HARD and trying to implement it yourself without proper peer review and tests is DANGEROUS. Please don't use this code in any application where security is important, use standard, tested libraries!OOOThis doesn't follow the advice in my answer."
"263","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
Generating your own key from a byte array is easy:

byte[] raw = ...; // 32 bytes in size for a 256 bit key
Key skey = new javax.crypto.spec.SecretKeySpec(raw, ""AES"");


But creating a 256-bit key isn't enough. If the key generator cannot generate 256-bit keys for you, then the Cipher class probably doesn't support AES 256-bit either. You say you have the unlimited jurisdiction patch installed, so the AES-256 cipher should be supported (but then 256-bit keys should be too, so this might be a configuration problem).

Cipher cipher = Cipher.getInstance(""AES"");
cipher.init(Cipher.ENCRYPT_MODE, skey);
byte[] encrypted = cipher.doFinal(plainText.getBytes());


A workaround for lack of AES-256 support is to take some freely available implementation of AES-256, and use it as a custom provider. This involves creating your own Provider subclass and using it with Cipher.getInstance(String, Provider). But this can be an involved process.
    ","You should always indicate the mode and padding algorithm. Java uses the unsafe ECB mode by default.OOOYou cannot create your own provider, providers have to be signed (can't believe I read over this mistake initially). Even if you could, the restriction of the key size is in the implementation of Cipher, not in the provider itself. You can use AES-256 in Java 8 and lower, but you need to use a proprietary API. Or a runtime that does not pose restrictions on the key size of course.OOORecent versions of the OpenJDK (and Android) do not have restrictions on adding your own security / crypto provider. But you do so at your own risk, of course. If you forget to keep your libraries up to date you might expose yourself to security risks.OOO@MaartenBodewes+ OpenJDK never had the 'limited crypto policy' issue in the first place, and Oracle JDK removed it over a year ago for 8u161 and 9 up (and maybe some lower now-pay-only versions but I haven't checked those)"
"264","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
What I've done in the past is hash the key via something like SHA256, then extract the bytes from the hash into the key byte[].

After you have your byte[] you can simply do:

SecretKeySpec key = new SecretKeySpec(keyBytes, ""AES"");
Cipher cipher = Cipher.getInstance(""AES"");
cipher.init(Cipher.ENCRYPT_MODE, key);
byte[] encryptedBytes = cipher.doFinal(clearText.getBytes());

    ","For others: this isn't a very secure method.  You should use PBKDF 2 specified in PKCS#5.  erickson said how to do this above.  DarkSquid's method is vulnerable to password attacks and also doesn't work unless your plaintext's size is a multiple of AES's block size (128 bits) because he left out padding.  Also it doesn't specify the mode; read Wikipedia's Block Cipher Modes of Operation for concerns.OOO@DarkSquid    Cipher aes256 = Cipher.getInstance(""AES/OFB/NoPadding""); 				MessageDigest keyDigest = MessageDigest.getInstance(""SHA-256""); 				byte[] keyHash = keyDigest.digest(secret.getBytes(""UTF-8"")); 				SecretKeySpec key = new SecretKeySpec(keyHash, ""AES""); 				aes256.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(initializationVector));   I'm also doing the same as suggested in your answer but I still end up with this java.security.InvalidKeyException: Illegal key size  Is downloading JCE policy file mandatory?OOODO NOT USE this method in any type of production environment. When starting out with Password-Based encryption a lot of users get overwhelmed by walls of code and don't understand how dictionary attacks and other simple hacks work. While it can be frustrating to learn, it is a worthwhile investment to research this. Here's a good beginners article: adambard.com/blog/3-wrong-ways-to-store-a-password"
"265","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
Adding to @Wufoo's edits, the following version uses InputStreams rather than files to make working with a variety of files easier. It also stores the IV and Salt in the beginning of the file, making it so only the password needs to be tracked. Since the IV and Salt do not need to be secret, this makes life a little easier.

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;

import java.security.AlgorithmParameters;
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import java.security.SecureRandom;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.InvalidParameterSpecException;
import java.security.spec.KeySpec;

import java.util.logging.Level;
import java.util.logging.Logger;

import javax.crypto.BadPaddingException;
import javax.crypto.Cipher;
import javax.crypto.CipherInputStream;
import javax.crypto.IllegalBlockSizeException;
import javax.crypto.NoSuchPaddingException;
import javax.crypto.SecretKey;
import javax.crypto.SecretKeyFactory;
import javax.crypto.spec.IvParameterSpec;
import javax.crypto.spec.PBEKeySpec;
import javax.crypto.spec.SecretKeySpec;

public class AES {
    public final static int SALT_LEN     = 8;
    static final String     HEXES        = ""0123456789ABCDEF"";
    String                  mPassword    = null;
    byte[]                  mInitVec     = null;
    byte[]                  mSalt        = new byte[SALT_LEN];
    Cipher                  mEcipher     = null;
    Cipher                  mDecipher    = null;
    private final int       KEYLEN_BITS  = 128;    // see notes below where this is used.
    private final int       ITERATIONS   = 65536;
    private final int       MAX_FILE_BUF = 1024;

    /**
     * create an object with just the passphrase from the user. Don't do anything else yet
     * @param password
     */
    public AES(String password) {
        mPassword = password;
    }

    public static String byteToHex(byte[] raw) {
        if (raw == null) {
            return null;
        }

        final StringBuilder hex = new StringBuilder(2 * raw.length);

        for (final byte b : raw) {
            hex.append(HEXES.charAt((b & 0xF0) >> 4)).append(HEXES.charAt((b & 0x0F)));
        }

        return hex.toString();
    }

    public static byte[] hexToByte(String hexString) {
        int    len = hexString.length();
        byte[] ba  = new byte[len / 2];

        for (int i = 0; i < len; i += 2) {
            ba[i / 2] = (byte) ((Character.digit(hexString.charAt(i), 16) << 4)
                                + Character.digit(hexString.charAt(i + 1), 16));
        }

        return ba;
    }

    /**
     * debug/print messages
     * @param msg
     */
    private void Db(String msg) {
        System.out.println(""** Crypt ** "" + msg);
    }

    /**
     * This is where we write out the actual encrypted data to disk using the Cipher created in setupEncrypt().
     * Pass two file objects representing the actual input (cleartext) and output file to be encrypted.
     *
     * there may be a way to write a cleartext header to the encrypted file containing the salt, but I ran
     * into uncertain problems with that.
     *
     * @param input - the cleartext file to be encrypted
     * @param output - the encrypted data file
     * @throws IOException
     * @throws IllegalBlockSizeException
     * @throws BadPaddingException
     */
    public void WriteEncryptedFile(InputStream inputStream, OutputStream outputStream)
            throws IOException, IllegalBlockSizeException, BadPaddingException {
        try {
            long             totalread = 0;
            int              nread     = 0;
            byte[]           inbuf     = new byte[MAX_FILE_BUF];
            SecretKeyFactory factory   = null;
            SecretKey        tmp       = null;

            // crate secureRandom salt and store  as member var for later use
            mSalt = new byte[SALT_LEN];

            SecureRandom rnd = new SecureRandom();

            rnd.nextBytes(mSalt);
            Db(""generated salt :"" + byteToHex(mSalt));
            factory = SecretKeyFactory.getInstance(""PBKDF2WithHmacSHA1"");

            /*
             *  Derive the key, given password and salt.
             *
             * in order to do 256 bit crypto, you have to muck with the files for Java's ""unlimted security""
             * The end user must also install them (not compiled in) so beware.
             * see here:  http://www.javamex.com/tutorials/cryptography/unrestricted_policy_files.shtml
             */
            KeySpec spec = new PBEKeySpec(mPassword.toCharArray(), mSalt, ITERATIONS, KEYLEN_BITS);

            tmp = factory.generateSecret(spec);

            SecretKey secret = new SecretKeySpec(tmp.getEncoded(), ""AES"");

            /*
             *  Create the Encryption cipher object and store as a member variable
             */
            mEcipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
            mEcipher.init(Cipher.ENCRYPT_MODE, secret);

            AlgorithmParameters params = mEcipher.getParameters();

            // get the initialization vectory and store as member var
            mInitVec = params.getParameterSpec(IvParameterSpec.class).getIV();
            Db(""mInitVec is :"" + byteToHex(mInitVec));
            outputStream.write(mSalt);
            outputStream.write(mInitVec);

            while ((nread = inputStream.read(inbuf)) > 0) {
                Db(""read "" + nread + "" bytes"");
                totalread += nread;

                // create a buffer to write with the exact number of bytes read. Otherwise a short read fills inbuf with 0x0
                // and results in full blocks of MAX_FILE_BUF being written.
                byte[] trimbuf = new byte[nread];

                for (int i = 0; i < nread; i++) {
                    trimbuf[i] = inbuf[i];
                }

                // encrypt the buffer using the cipher obtained previosly
                byte[] tmpBuf = mEcipher.update(trimbuf);

                // I don't think this should happen, but just in case..
                if (tmpBuf != null) {
                    outputStream.write(tmpBuf);
                }
            }

            // finalize the encryption since we've done it in blocks of MAX_FILE_BUF
            byte[] finalbuf = mEcipher.doFinal();

            if (finalbuf != null) {
                outputStream.write(finalbuf);
            }

            outputStream.flush();
            inputStream.close();
            outputStream.close();
            outputStream.close();
            Db(""wrote "" + totalread + "" encrypted bytes"");
        } catch (InvalidKeyException ex) {
            Logger.getLogger(AES.class.getName()).log(Level.SEVERE, null, ex);
        } catch (InvalidParameterSpecException ex) {
            Logger.getLogger(AES.class.getName()).log(Level.SEVERE, null, ex);
        } catch (NoSuchAlgorithmException ex) {
            Logger.getLogger(AES.class.getName()).log(Level.SEVERE, null, ex);
        } catch (NoSuchPaddingException ex) {
            Logger.getLogger(AES.class.getName()).log(Level.SEVERE, null, ex);
        } catch (InvalidKeySpecException ex) {
            Logger.getLogger(AES.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    /**
     * Read from the encrypted file (input) and turn the cipher back into cleartext. Write the cleartext buffer back out
     * to disk as (output) File.
     *
     * I left CipherInputStream in here as a test to see if I could mix it with the update() and final() methods of encrypting
     *  and still have a correctly decrypted file in the end. Seems to work so left it in.
     *
     * @param input - File object representing encrypted data on disk
     * @param output - File object of cleartext data to write out after decrypting
     * @throws IllegalBlockSizeException
     * @throws BadPaddingException
     * @throws IOException
     */
    public void ReadEncryptedFile(InputStream inputStream, OutputStream outputStream)
            throws IllegalBlockSizeException, BadPaddingException, IOException {
        try {
            CipherInputStream cin;
            long              totalread = 0;
            int               nread     = 0;
            byte[]            inbuf     = new byte[MAX_FILE_BUF];

            // Read the Salt
            inputStream.read(this.mSalt);
            Db(""generated salt :"" + byteToHex(mSalt));

            SecretKeyFactory factory = null;
            SecretKey        tmp     = null;
            SecretKey        secret  = null;

            factory = SecretKeyFactory.getInstance(""PBKDF2WithHmacSHA1"");

            KeySpec spec = new PBEKeySpec(mPassword.toCharArray(), mSalt, ITERATIONS, KEYLEN_BITS);

            tmp    = factory.generateSecret(spec);
            secret = new SecretKeySpec(tmp.getEncoded(), ""AES"");

            /* Decrypt the message, given derived key and initialization vector. */
            mDecipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");

            // Set the appropriate size for mInitVec by Generating a New One
            AlgorithmParameters params = mDecipher.getParameters();

            mInitVec = params.getParameterSpec(IvParameterSpec.class).getIV();

            // Read the old IV from the file to mInitVec now that size is set.
            inputStream.read(this.mInitVec);
            Db(""mInitVec is :"" + byteToHex(mInitVec));
            mDecipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(mInitVec));

            // creating a decoding stream from the FileInputStream above using the cipher created from setupDecrypt()
            cin = new CipherInputStream(inputStream, mDecipher);

            while ((nread = cin.read(inbuf)) > 0) {
                Db(""read "" + nread + "" bytes"");
                totalread += nread;

                // create a buffer to write with the exact number of bytes read. Otherwise a short read fills inbuf with 0x0
                byte[] trimbuf = new byte[nread];

                for (int i = 0; i < nread; i++) {
                    trimbuf[i] = inbuf[i];
                }

                // write out the size-adjusted buffer
                outputStream.write(trimbuf);
            }

            outputStream.flush();
            cin.close();
            inputStream.close();
            outputStream.close();
            Db(""wrote "" + totalread + "" encrypted bytes"");
        } catch (Exception ex) {
            Logger.getLogger(AES.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    /**
     * adding main() for usage demonstration. With member vars, some of the locals would not be needed
     */
    public static void main(String[] args) {

        // create the input.txt file in the current directory before continuing
        File   input   = new File(""input.txt"");
        File   eoutput = new File(""encrypted.aes"");
        File   doutput = new File(""decrypted.txt"");
        String iv      = null;
        String salt    = null;
        AES    en      = new AES(""mypassword"");

        /*
         * write out encrypted file
         */
        try {
            en.WriteEncryptedFile(new FileInputStream(input), new FileOutputStream(eoutput));
            System.out.printf(""File encrypted to "" + eoutput.getName() + ""\niv:"" + iv + ""\nsalt:"" + salt + ""\n\n"");
        } catch (IllegalBlockSizeException | BadPaddingException | IOException e) {
            e.printStackTrace();
        }

        /*
         * decrypt file
         */
        AES dc = new AES(""mypassword"");

        /*
         * write out decrypted file
         */
        try {
            dc.ReadEncryptedFile(new FileInputStream(eoutput), new FileOutputStream(doutput));
            System.out.println(""decryption finished to "" + doutput.getName());
        } catch (IllegalBlockSizeException | BadPaddingException | IOException e) {
            e.printStackTrace();
        }
    }
}

    ","This solution seems to use some awkward buffer handling and absolutely sub-par exception handling, basically logging them and then forgetting about them. Be warned that using CBC is OK for files but not for transport security. Using PBKDF2 and AES can of course be defended, in that sense it may be a good foundation for a solution."
"266","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
Use this class for encryption. It works.

public class ObjectCrypter {


public static byte[] encrypt(byte[] ivBytes, byte[] keyBytes, byte[] mes) 
        throws NoSuchAlgorithmException,
        NoSuchPaddingException,
        InvalidKeyException,
        InvalidAlgorithmParameterException,
        IllegalBlockSizeException,
        BadPaddingException, IOException {

    AlgorithmParameterSpec ivSpec = new IvParameterSpec(ivBytes);
    SecretKeySpec newKey = new SecretKeySpec(keyBytes, ""AES"");
    Cipher cipher = null;
    cipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
    cipher.init(Cipher.ENCRYPT_MODE, newKey, ivSpec);
    return  cipher.doFinal(mes);

}

public static byte[] decrypt(byte[] ivBytes, byte[] keyBytes, byte[] bytes) 
        throws NoSuchAlgorithmException,
        NoSuchPaddingException,
        InvalidKeyException,
        InvalidAlgorithmParameterException,
        IllegalBlockSizeException,
        BadPaddingException, IOException, ClassNotFoundException {

    AlgorithmParameterSpec ivSpec = new IvParameterSpec(ivBytes);
    SecretKeySpec newKey = new SecretKeySpec(keyBytes, ""AES"");
    Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
    cipher.init(Cipher.DECRYPT_MODE, newKey, ivSpec);
    return  cipher.doFinal(bytes);

}


}

And these are ivBytes and a random key;

String key = ""e8ffc7e56311679f12b6fc91aa77a5eb"";

byte[] ivBytes = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };
keyBytes = key.getBytes(""UTF-8"");

    ","""it works"".... yes, but it does not meet the requirements for creating a cryptographically secure solution (nor does it meet Java coding standards with regards to exception handling, in my opinion).OOOIV is initialized to zero.  Search for BEAST and ACPA attacks.OOOExceptions out the wazoo, the method of generating the ""random"" key, and a zero IV is a problem with this implementation, but those problems are trivial to fix.  +1."
"267","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
Consider using Encryptor4j

First make sure you have Unlimited Strength Jurisdiction Policy files installed before your proceed so that you can use 256-bit AES keys.

Then do the following:

String password = ""mysupersecretpassword""; 
Key key = KeyFactory.AES.keyFromPassword(password.toCharArray());
Encryptor encryptor = new Encryptor(key, ""AES/CBC/PKCS7Padding"", 16);


You can now use the encryptor to encrypt your message. You can also perform streaming encryption if you'd like. It automatically generates and prepends a secure IV for your convenience.

If it's a file that you wish to compress take a look at this answer
Encrypting a large file with AES using JAVA for an even simpler approach.
    ","Hi Martin, you should always indicate that you're the writer of the library if you want to point it out. There are oodles of crypto wrappers trying to make things easy. Does this one have a security paper or has it received any reviews to make it worth our while?"
"268","Java 256-bit AES Password-Based Encryption","2009-06-14T02:39:02",523780,"I need to implement 256 bit AES encryption, but all the examples I have found online use a ""KeyGenerator"" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :)

Ie. The KeyGenerator looks like this ...

// Get the KeyGenerator
KeyGenerator kgen = KeyGenerator.getInstance(""AES"");
kgen.init(128); // 192 and 256 bits may not be available

// Generate the secret key specs.
SecretKey skey = kgen.generateKey();
byte[] raw = skey.getEncoded();


Code taken from here

EDIT

I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this.

byte[] key = null; // TODO
byte[] input = null; // TODO
byte[] output = null;
SecretKeySpec keySpec = null;
keySpec = new SecretKeySpec(key, ""AES"");
Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS7Padding"");
cipher.init(Cipher.ENCRYPT_MODE, keySpec);
output = cipher.doFinal(input)


The ""TODO"" bits you need to do yourself :-)","java encryption cryptography passwords aes","Could you clarify: does calling kgen.init(256) work?OOOYes, but this automatically generates a key ... but since I want to encrypt data between two places, I need to know the key beforehand, so I need to specify one instead of ""generate"" one. I can specify a 16bit one which works for 128bit encryption which works. I have tried a 32bit one for 256bit encryption, but it did not work as expected.OOOIf I understand correctly, you are trying to use a pre-arranged, 256-bit key, specified, for example, as an array of bytes. If so, DarkSquid's approach using SecretKeySpec should work. It's also possible to derive an AES key from a password; if that's what you are after, please let me know, and I'll show you the correct way to to do it; simply hashing a password isn't the best practice.OOOBe careful about padding a number, you may be making your AES less secure.OOO@erickson: that is exatly what i need to do (derive an AES key from a password).","
(Maybe helpful for others with a similar requirement)

I had a similar requirement to use AES-256-CBC encrypt and decrypt in Java. 

To achieve (or specify) the 256-byte encryption/decryption, Java Cryptography Extension (JCE) policy should set to ""Unlimited""

It can be set in the java.security file under $JAVA_HOME/jre/lib/security (for JDK) or $JAVA_HOME/lib/security (for JRE)

crypto.policy=unlimited

Or in the code as 

Security.setProperty(""crypto.policy"", ""unlimited"");


Java 9 and later versions have this enabled by default.
    ",NA
"269","How to handle exception chaining raised from the except block","2016-11-08T15:58:56",757,"In my example I have a custom exception class MyCustomException and in main I divide an integer a by zero which raises a ZeroDivisionError exception. With the except block I catch ZeroDivisionError and then raise MyCustomException from err; this creates a chained exception, my own, plus the one in err.  

Now how can I catch chained exceptions or how do chained exceptions work? Python doen't let me to catch MyCustomException  in my code with except block. 

class MyCustomException(Exception):
    pass

a=10
b=0 
reuslt=None

try:
    result=a/b

except ZeroDivisionError as err:
    print(""ZeroDivisionError -- "",err)
    raise MyCustomException from err

except MyCustomException as e:
        print(""MyException"",e)                 # unable to catch MyCustomException


The output I get when I execute it:

ZeroDivisionError --  division by zero
Traceback (most recent call last):
  File ""python"", line 13, in <module>
MyCustomException","python python-3.x exception-handling",NA,"
Using raise in the except clause won't search for exception handlers in the same try block (it did not occur in that try block). 

It will search for handlers one level up , that is, an outer try block. If that isn't found it'll interrupt execution as it normally does (resulting in the exception being displayed).

In short, you need an enclosing try in the outer level with the appropriate except MyCustomException in order to catch your custom exception:

try:
    try:
        result=a/b
    except ZeroDivisionError as err:
        print(""ZeroDivisionError -- "",err)
        raise MyCustomException from err

except MyCustomException as e:
    print(""Caught MyException"", e)


Which, when executed, now prints out:  

ZeroDivisionError --  division by zero
Caught MyException 

    ",NA
"270","Django celery task getting stuck on blocking the chain","2018-07-23T14:49:11",150,"I am using the celery with python 3.5. I am using chain to perform serialize task and I only want to process single task at a time.
The follow piece of code works fine:

@shared_task(name='dummy1')
def dummy1(val):
    logger.info('received: ' + val)

    with RedisLock('testing.pid',60*60):
        try:
            logger.info(""Lock acquired by "" + val)

            res = chain(dummy2.s(val), dummy3.s(val)).delay()
            logger.info(""Lock released"")
        except Exception as e:
            logger.exception(str(e))


@shared_task(name='dummy2')
def dummy2(val):
    logger.info('Dummy2 : ' + val)
    time.sleep(3)
    logger.info('Dummy2 complete')
    return None


@shared_task(name='dummy3')
def dummy3(prev, val):
    logger.info('Dummy3 : ' + val)
    time.sleep(3)
    logger.info('Dummy3 complete')


RedisLock is a distributed cache based lock for running a single task at a time.
However, when i do:

    with RedisLock('testing.pid',60*60):
        try:
            logger.info(""Lock acquired by "" + val)

            res = chain(dummy2.s(val), dummy3.s(val)).delay()

            res.get()  # blocking the process here
            logger.info(""Lock released"")


the chain does not work as expected and gets crashed very often.","django locking task celery","design your own work-flow? have you seen the celery's built-in ones? docs.celeryproject.org/en/latest/userguide/canvas.htmlOOOI think chain is one of celery's built-in ones which i am using for my app.OOOGood, then use the chain and release the sequential tasks in a queue with one worker, with this config you can run sequential chains as well, no need to lock, I have experience running chains and chords in big deployments and I recommend you let the broker make this for you to avoid the ""hidden"" costs of maintaining your own.",NA,NA
"271","How to write a bash program that retrieves blocks in the main chain using APIs?","2019-11-17T11:28:32",65,"I have the following assignment in Linux :

Write a bash program that retrieves the last 100 blocks in the main chain using APIs from https://www.blockcypher.com/dev/bitcoin/#blockchain-api 
and saves them to local directory.
Relevant fields to store and print are hash, height, total, time, relayed_by, prev_block
I tried using the curl command in order to get the JSON objects that represent the blockchains, but in the site all I found was the following url example:

curl https://api.blockcypher.com/v1/btc/main 


How do I use the site's API ?

Edit:
I got it , in the main block that i got back there was a filed that pointed to next block url.","json linux bash rest blockchain","Welcome to Stack Overflow. SO is a question and answer site for professional and enthusiast programmers. The goal is that you add some code of your own to your question to show at least the research effort you made to solve this yourself.OOOI feel like your instructor probably provided the background information for this assignment. Perhaps you should start with a script based on the lecture notes. Then, when you encounter a problem... show the relevant code and state the exact problem or error. Also see How to create a Minimal, Complete, and Verifiable example.OOOTake a closer look at the output of curl ""https://api.blockcypher.com/v1/btc/main"".",NA,NA
"272","C - OpenSSL encryption using CBC (Cipher Block Chaining) mode","2018-10-03T03:36:15",281,"I am using C-API of OpenSSL, but I am confused on how IV (Initialization Vector) is used in OpenSSL.

Say, I have 

plaintext.txt file = ""This is a top secret.""
Key                = ""example#########""
IV                 = 010203040506070809000a0b0c0d0e0f


when I encrypt this using OpenSSL AES-128-CBC, I should get: 

e5accdb667e8e569b1b34f423508c15422631198454e104ceb658f5918800c22


Which is true when I try this (key converted to hex):

openssl enc -aes-128-cbc -e -in plaintext.txt -out ciphertext.bin 
-K 6578616d706c65232323232323232323 -iv 010203040506070809000a0b0c0d0e0f


I get:

xxd -p ciphertext.bin 
e5accdb667e8e569b1b34f423508c15422631198454e104ceb658f5918800c22


But I got different ciphertext thing using C

char plaintext[] = ""This is a top secret."";

unsigned char iv[16] = {
    0x01, 0x02, 0x03, 0x04, 
    0x05, 0x06, 0x07, 0x08, 
    0x09, 0x00, 0x0A, 0x0B, 
    0x0C, 0x0D, 0x0E, 0x0F
};

unsigned char ciphertext[] = {
    0xe5, 0xac, 0xcd, 0xb6, 
    0x67, 0xe8, 0xe5, 0x69, 
    0xb1, 0xb3, 0x4f, 0x42, 
    0x35, 0x08, 0xc1, 0x54, 
    0x22, 0x63, 0x11, 0x98, 
    0x45, 0x4e, 0x10, 0x4c, 
    0xeb, 0x65, 0x8f, 0x59, 
    0x18, 0x80, 0x0c, 0x22
};


key (example) is in a words.txt file.

My encryption process:

while(fgets(words, 16, wordsfile)) { //for getting key and padding
    index = strlen(words) - 1;       //key ""example"" is the last word in words.txt
    while(index < 16) {
        words[index] = 0x20;
        index++;
    }
    words[index] = '\0';
    EVP_CIPHER_CTX ctx;
    EVP_CIPHER_CTX_init(&ctx);
    EVP_CipherInit_ex(&ctx, EVP_aes_128_cbc(), NULL, words, iv, 1);
    EVP_CipherUpdate(&ctx, outbuf, &outlen, plaintext, strlen(plaintext));
    EVP_CipherFinal_ex(&ctx, outbuf + outlen, &templ);
    outlen += templ;
    EVP_CIPHER_CTX_cleanup(&ctx);
}


When I check the ciphertext matches to key ""example"", I got a completely different ciphertext. Which part I was wrong? I am assuming the format of IV or the way I implemented IV is wrong.","c encryption openssl cbc-mode",NA,"
It looks like you are pretty close. By narrowing down the problem to just the encryption, the correct ciphertext can be produced. So in stead of reading the key from the file, define it as an array of unsigned chars, similar to what you did for the other variables:

unsigned char key[]={0x65,0x78,0x61,0x6d,0x70,0x6c,0x65,0x23,0x23,0x23,0x23,0x23,0x23,0x23,0x23,0x23};


Then the following code (reusing your variables) shows the successful encryption:

EVP_CIPHER_CTX ctx;
EVP_CIPHER_CTX_init(&ctx);
EVP_CipherInit_ex(&ctx, EVP_aes_128_cbc(),NULL, key, iv, 1);
EVP_CipherUpdate(&ctx, outbuf, &outlen, (unsigned char *)plaintext, strlen(plaintext));
EVP_CipherFinal_ex(&ctx, outbuf+outlen, &templ);
outlen+=templ;
EVP_CIPHER_CTX_cleanup(&ctx);
int cmpres = memcmp(outbuf, ciphertext, sizeof(ciphertext));
printf(""cmpres is %d, sizeof(ciphertext) is %lu, outlen is %d\n"",
    cmpres, sizeof(ciphertext), outlen);


because it prints

$ ./main
cmpres is 0, sizeof(ciphertext) is 32, outlen is 32


This means that the problem is in how you read the key from the file. That is much easier to analyze than cryptographic issues :-) and I will leave it up to you to figure out that part...

By the way, make sure to check all return codes for your OpenSSL calls, it will help you to detect error situations.
    ",NA
"273","inner function expressions declared with 'var' inside a block scope in javascript","2019-11-22T19:10:02",38,"I know that this doesn't make complete sense to write code this way, but this is testing my understanding of the scope chain and block scopes:

function mygreeting(){
    var myvar = ""init""

    if(myvar === ""init""){
        let blockScoped = ""hello"";

        var mygreet = function() {
            console.log(blockScoped);
        }    

        return mygreet;
    }

}

mygreeting()(); //outputs 'hello'


I understand that this is a closure and the inner function will keep a reference to its outer environment, but really what I'm trying to figure out is why a function-scoped function expression is able to find a block-scoped variable (blockScoped) in its closure.  Is it storing block scoped variables in its scope chain, and does a scope chain for a function expression depend on how the expression is declared (with let or var?)  Thanks!","javascript scope closures block chain","blockScoped is visible (in scope), when you define (create) the function, therefore it has access to it. Whether you use let, var, or even just an IIFE, doesn't matter here.","
A function can access all the variables in its scope and scopes that encapsulate it. Because myVar is within the same scope when mygreet is declared, it can ""see"" it. 

""Each function has its own scope, and any variable declared within that function is only accessible from that function and any nested functions.""

An analogy that helped it click for me was imaging nested scopes as a hole. When you're in the hole, no matter how deep (nested) it is, you can always look up and see the sky, but looking down you just see dirt. Similarly, any function can access the variables declared in its scope (the bottom of the hole) + any nested scopes (the walls of the hole) + the global scope (the sky).

var one = 1

function foo() {
  var two = 2

  function foobar() {
    var three = 3
    console.log(one) // works
    console.log(two) // works
    console.log(three) // works
    console.log(four) // doesn't
  }
}

function bar() {
  var four = 4

  console.log(one) // works
  console.log(two) // doesn't work
  console.log(three) // doesn't work
  console.log(four) // works

}


As for let vs var, the only difference is let treats its block like a scope. But the same rules still apply. A function declared in that block (that could ""see"" the variable at the point of declaration) will be able to reference that variable at execution.
    ",NA
"274","Promise chain not aborting on return after exception catch [duplicate]","2018-10-05T14:06:53",25,"This question already has answers here:                                                                                                                                                  How to properly break out of a promise chain?                                                                      (3 answers)                                                                                                                Break javascript promise chain in a clean way                                                                      (3 answers)                                                                                           Closed last year.                                  I'm using Express to build a REST API with Objection.js ORM. One of my controller's method has a chain of Promises:

register(req, res) {
  // ...
  indicative.validateAll(req.body.data, rules)
    .then(
      () => {
        const data = {
          ...req.body.data,
          password: bcrypt.hashSync(req.body.data.password, bcrypt.genSaltSync()),
          password_confirmation: undefined,
          customer: {}
        };
        return models.User.query()
          .insertGraph(data);
      }
    )
    .catch( // catch block 1
      (error) => {
        console.log(error);
        return response.error(res, 422, 'Dados de cadastro invalidos.');
      }
    )
    .then(
      (user) => {
        return response.success(res, 'Usuario cadastrado com sucesso.', {
          user: user
        });
      }
    )
    .catch( // catch block 2
      (error) => {
        console.log(error);
        return response.error(res, 500, 'Erro interno, tente novamente.');
      }
    );
}


When an exception is caught on the first .catch() block, it returns the response with an error, but the chain keeps executing, and even if I don't return anything in the 1st catch block, the chain continues to the next .then().

Is this the expected behavior? If so, how can I ""break the chain"" or something like that.","node.js promise objection.js","Yes, this is expected. return doesn't break out of a promise chain, it just finishes the current callback.OOOAdding to @Bergi's comments, don't return anything from catch to break the chain. Also, a cleaner way of implementing this would be by using async/await syntax.OOO@SiddAjmera does async/await hits the performance? one of the reasons I wasn't using it, it's because i really need performance on this projectOOO@GabrielBitencourt,  This Article says otherwiseOOOwell, awesome, @SiddAjmera. Thanks!",NA,NA
"275","How exactly blockchain node switches to another chain?","2018-03-17T17:01:13",70,"AFAIK after block validation node runs all transactions in the block, changing the state (list of UTXOs)

Let's imagine that at some point node realizes that it was on the wrong chain and there is longer chain available, which forked some blocks before.

How does it make the switch? I imagine that it should run all transactions in reverse till the fork happened to restore the state and than replay all transactions in the blocks from the longer chain?

Thanks!","blockchain",NA,"
Each node receives individual transactions as well as individual blocks from the network.
It also keeps the most updated blockchain locally.
For every new transaction it receives, the node validates it, and if valid, propagates to its peers.
For every block the node receives, it validates it. The validation includes several steps, among which:
1. checking that the block points to the most recent block in the blockchain (it's preceding block)
2. all transactions included in the block are valid.

A fork is a temporary situation, possible when there are 2 valid blocks (or more) which arrive to a node pretty much at the same time, so the node doesn't know which is the right one. It keeps the first one added to it's local blockchain as the main chain, and keeps the second one as a fork chain (also locally), until a next node arrives, and is added to one of the two. When it happens - the longer chain is chosen to be the main blockchain (at that node!), and the second is kept as a side chain.
All such side chains are kept in the node's memory for some time, until it can be sure they are not relevant anymore (since they are shorter than the main blockchain by several blocks), and then removed.
    ","I wonder how switching chain works in relation to node state. When block is added, node should run all transactions in the block, changing own state (list of UTXOs in bitcoin). When node switches to another chain, how does it restore state?OOOthere's a nice explanation with demo here: bitcoin.stackexchange.com/questions/22997/¡¦OOOBy ""restore state"" you mean recalculate the UTXOs when switching to a side chain. Keep in mind that a side chain is only a few blocks in delta with current main chain, therefore the calculation of the updated UTXOs (and the ""balance"") is done only to these delta blocks.OOOCorrect, so how does this recalculation is implemented? Does node runs transactions in reverse for each block in current chain till it reaches the block where fork happened?"
"276","How exactly blockchain node switches to another chain?","2018-03-17T17:01:13",70,"AFAIK after block validation node runs all transactions in the block, changing the state (list of UTXOs)

Let's imagine that at some point node realizes that it was on the wrong chain and there is longer chain available, which forked some blocks before.

How does it make the switch? I imagine that it should run all transactions in reverse till the fork happened to restore the state and than replay all transactions in the blocks from the longer chain?

Thanks!","blockchain",NA,"
I don't know why you have the picture that anything has to be ""rolled back"". Yes, it's rolling back, but no calculations with transactions have to be done at all. Here's why:

When node A has N+5 blocks and node B has N+2 block, then all node B has to do is drop these additional two blocks and take the 5 new blocks from A.

That's all! Yes, it effectively is rolling back, but nothing has to be run in reverse, because dropping blocks is effectively equivalent to reversing transactions. 

Remember that transactions are directed, so they happen only in one direction in time. Meaning: For valid blocks, every non-coinbase transaction in block number N has to have some history in every previous blocks, so block number N is dependent on that history, but the opposite is not true. Previous blocks don't depend on block number N, so dropping N won't invalidate them.
    ","The reason why I am thinking about ""rolling back"" is list of UTXOs (state, or list of balances). As I understand, after block is added, transactions from the block are executed and change the state (balances change). So I imagine, when node goes back a couple of blocks, it should restore state somehow, to make it the same as it was before these couple of blocks were added and transactions from them were run.OOO@eugenekr There's no state that's saved on the blockchain. There are ""deltas"", which are transactions that take from here and put in there. So to know the balance of an address, you practically have to scan the whole blockchain.OOOI used word ""balances"" loosely. My understanding is that there is a table of UTXOs, unspent transaction outputs. After transaction is run, this table inevitably changes. Prior to running a transaction node checks that it uses UTXOs that are present in the table, otherwise it is invalid. At least this is how it is implemented in bitcoin.OOO@eugenekr This table is built by scanning the blockchain. A single address can have multiple UTXOs, so the balance is basically the sum of all these. This still doesn't mean that the last block has a state, but it has a set of UTXOs that can be removed, no problem.OOO@eugenekr I don't believe that such a table exists on the blockchain for many reasons, including that this is redundant information that can be extracted by scanning the blockchain, and I literally never heard of it before. And even if I'm to assume that it exists (which it doesn't), then by some mathematical reasoning you can find that this doesn't change anything, because if adding a block doesn't affect previous transactions, then also removing it doesn't affect them. The state is something block explorers have to deal with, not the blockchain."
"277","Promise chaining, chain promise object","2017-07-26T09:01:23",97,"I would like to chain promise object, but the problem that the second then block is executed before the chained promise object got resolved.

service.webService1()
  .then(data => {
    if (data.flag) { // true
      return service.webService2() // returns a promise
    }
    return $q.resolve({})
  })
  .then(data => {
    // some logic
    // data is undefined here, should be the result of
    // service.webService2() call
  })
  .catch(err => {
    // err handling
  })","javascript promise angular-promise","if this line return service.webService2() is executed, then it shouldn't behave like you say it doesOOOits executed after the second then blockOOOAre you perhaps getting confused by the fact that data in the second then is the data returned by webService2? Also note that you can just return {}, there is no need to wrap the result of a then callback in a promise, then will do that for you automatically.OOOMaybe check the implementation of webService2 and check that it really does return a promise. Perhaps you forgot a return statement there?OOOWhen I debug, the webService2 was executed, and I'm sure that the data.flag was true Also I didn't forgot the return statement","
The problem that I forgot to return my promise in the service.webService2() function. Thanks :)
    ","Can you show how the working code is different than the one in your question?"
"278","Channel configuration policy in Hyperledger Fabric","2017-10-11T04:30:56",712,"I am following the below beginners guide to set up a block chain.
Hyperledger Fabric Channel Policy Tutorial

Can someone please advise me how to specify these policies in configtx.yaml file? 
Or is it should be specified somewhere else ?
Thanks,","hyperledger-fabric hyperledger",NA,"
To specify the endorsement policy for a channel, you include it on the peer channel deploy transaction using the -P switch. From the example in the Endorsement Policy guide, a channel with a policy to request a signature from Org1 and Org2 would be as follows:

peer chaincode instantiate -C testchainid -n mycc -P ""AND('Org1.member', 'Org2.member')""


The syntax of the language is:

EXPR(E[, E...])


where EXPR is either AND or OR, representing the two boolean expressions and E is either a principal (with the syntax described above) or another nested call to EXPR.
    ","Hi Christo,  If you see the sample configuration file, policies are not mentioned in it.  configtx.yaml contains only Profiles then orderer & application configuration not channel policy configuration."
"279","Please comment on data size of cipher block chaining (CBC) in symmetric encryption","2011-01-14T14:31:36",246,"I am considering to use CBC to encrypt a block of data. Dose it make a sense to use CBC if the data to be encrypted is smaller than 2 blocks ? 
For example data block size for AES is 128 bits, and total data to be encrypted is less than 256 bits.

I appreciate your inputs.","java android security encryption cryptography",NA,"
Yes,  even if it is 1 block in size it makes sense.  This is because the IV is XOR'ed with the first block.  This means that even if you encrypt 2 identical plain text segments the resulting cipher text will be distinct. 

Don't forget about CWE-329.
    ",NA
"280","Sending signTransaction with web3.js and getting the issues","2018-03-13T12:57:36",275,"Blockchain, web3.js issue
----------------

I am new on block-chain and try to make transactions using ropsten test network  but getting errors

Thanks in advance if anyone can help me.

 exports.sendTransactions = () => {

      var admin = ""0xEF9dE245F335e0f3ae8A9563FD54D001de1d3E2D"";
      var contract_address = ""0x39E2f0E87027093C6Ffe76A4d2f20AEE479E5f64"";
      var tx = {
        from: admin,
        to: contract_address,
        gas: 184000,
        data: """",`enter code here`
        chainId: ""1337""
      };
      web3.eth.accounts.signTransaction(tx, 'privateKey').then((hash) => {


        web3.eth.sendSignedTransaction(hash.rawTransaction).then((receipt) => {
          resolve();
        }, (error) => {
          console.log(error);
          reject(500);
        });
      }, (error) => {
        reject(500);
      });

    }


    { messageHash: '0x15e3f440015b35151c1343fb9a6be2497c082b47dbce607d32e80c10eff800f1',
      v: '0xa95',
      r: '0x4446233885e382fc9f297dc47fe9294be57623341b781eece94ce28b52bec6ed',
      s: '0x51b096eb07f73d5a30757300caf990b4083d001d2f6aea0fca280aafbea5593d',
      rawTransaction: '0xf8678085012a05f2008302cec09439e2f0e87027093c6ffe76a4d2f20aee479e5f648080820a95a04446233885e382fc9f297dc47fe9294be57623341b781eece94ce28b52bec6eda051b096eb07f73d5a30757300caf990b4083d001d2f6aea0fca280aafbea5593d' }

    Error: Returned error: invalid sender
        at Object.ErrorResponse (/home/ri-8/Desktop/tokenAI/node_modules/web3-core-helpers/src/errors.js:29:16)
        at /home/ri-8/Desktop/tokenAI/node_modules/web3-core-requestmanager/src/index.js:137:36
        at XMLHttpRequest.request.onreadystatechange (/home/ri-8/Desktop/tokenAI/node_modules/web3-providers-http/src/index.js:77:13)
        at XMLHttpRequestEventTarget.dispatchEvent (/home/ri-8/Desktop/tokenAI/node_modules/xhr2/lib/xhr2.js:64:18)
        at XMLHttpRequest._setReadyState (/home/ri-8/Desktop/tokenAI/node_modules/xhr2/lib/xhr2.js:354:12)
        at XMLHttpRequest._onHttpResponseEnd (/home/ri-8/Desktop/tokenAI/node_modules/xhr2/lib/xhr2.js:509:12)
        at IncomingMessage.<anonymous> (/home/ri-8/Desktop/tokenAI/node_modules/xhr2/lib/xhr2.js:469:24)
        at emitNone (events.js:110:20)
        at IncomingMessage.emit (events.js:207:7)
        at endReadableNT (_stream_readable.js:1059:12)
        at _combinedTickCallback (internal/process/next_tick.js:138:11)
        at process._tickCallback (internal/process/next_tick.js:180:9)","node.js express blockchain ethereum web3js",NA,"
The chain ID for Ropsten is 3 (see EIP 155), but you've supplied 1337.
    ","No there is no need for chain Id"
"281","How to backup POA based ethereum private blockchain and restore it in a fresh new environment","2018-12-11T10:07:10",27,"Is there a way to backup the POA based ethereum private block-chain [created from microsoft azure POA template] and also restore it in a all new environment with out loosing any transactions & accounts?","azure ethereum web3",NA,NA,NA
"282","In Ethereum, what is a private testnet, why would I want it, and how do I set it up?","2015-11-20T11:48:45",2088,"I've seen/heard developers talk about Ethereum test nets, but I've just been publishing to the public block chain. What is a private test net and how do I set one up?","ethereum",NA,"
A private testnet is your own personal, local-to-your-machine blockchain to mess around with. Publishing to the public chain is slow and creates bloat. Plus, you have to use real ether to do anything. A private test net avoids these issues. 

Setting up a private testnet is easier than you¡¯d think. 

geth --rpc --rpcaddr ""127.0.0.1"" --rpcport ""8545"" --dev --mine 


This says, ¡°start a geth instance with JSON RPC (for web3.js interaction) at the given IP and port, create a private chain and start mining it.¡± In the log, you should see lots of the hammer icons, signifying that you¡¯re mining your private chain¡¯s blocks. (CPU-only mining is sufficient because the difficulty begins so low.)

When you type ¡°geth attach¡± per usual in another terminal window, you¡¯ll see that all of your accounts balances are zero except your coinbase which is rapidly filling up with fake ether. Don¡¯t worry. Your accounts aren¡¯t really zero. All their ¡°real¡± values will be there if you connect to a ¡°real¡± geth instance and the public blockchain.

Now you can interact with your private test net just as you would the public one. 
    ",NA
"283","In Ethereum, what is a private testnet, why would I want it, and how do I set it up?","2015-11-20T11:48:45",2088,"I've seen/heard developers talk about Ethereum test nets, but I've just been publishing to the public block chain. What is a private test net and how do I set one up?","ethereum",NA,"
A diffrent way to setup a private Network is to use testrpc. This kinda simulates a ethereum Network by providing a local client that acts as if it is connected to a network for development and testing. The advantage is, that it is very fast, but it will not presist the state of your network as it operates completely in memory.
    ",NA
"284","Blockchain development and top players","2016-07-10T16:29:51",314,"what is the latest block chain development and top players with this tech, such as Digital Asset Holdings ?

I am kind of new to this subject and want to have a brief understanding. Thanks","blockchain","Welcome to StackOverflow. Unfortunately, this is not your free homework solving service. Please come back, when you have a concrete, technical question.","
The blockchain technology still has a few challenges to solve, it really depends what is important for you. Some projects have focus on performance like https://www.hyperledger.org/ other on privacy http://www.enigma.co/   others on business: http://www.r3cev.com/projects/

To understand blockchain well, you need to get down to the mechanism and understand the current issues with the decentralisation, performance, scalability, proof of work, reliability and privacy. for each of those points there are projects trying to solve. 
Here is a good intro: https://blog.plan99.net/the-resolution-of-the-bitcoin-experiment-dabb30201f7
    ",NA
"285","Issue in JSON RCP","2018-05-07T12:34:30",25,"I am working on chrome-extension and using react for performing transaction in block-chain.

Below is my code.

await userAbi.methods.setSpecificUserClickStatistics(""0xC1295911653cF1616d16BD0ad87e55967e8df1d0"").send({from:'0xC877D6a673ba306be8785e64D00C1Bff46dc66B1'});


I don't know what is the issue. But getting below error when check console.","reactjs react-redux blockchain web3js web3",NA,"
You're connecting to Infura, which doesn't support eth_sendTransaction.

Infura is a public node, so it doesn't know anyone's private key and thus can't sign transactions.
    ","Thanks @smarx. Is there a way where I can perform the same transaction which I mentioned above."
"286","Can the prepare phase be omitted in a pbft-based block chain?","2018-07-16T14:59:37",73,"https://docs.icon.foundation/ICON-Whitepaper-EN-Draft.pdf
On page 23 of this paper, they insist that prepare phase can be omitted in the pbft consensus. This is confusing because it is different from the existing pbft. 
Although a proposer propagates different blocks to each nodes, fork will not occur unless a node signs twice. Generally I agree with their arguments. If this is possible, pbft can be faster. But I want to hear from other pbft experts. Why is the prepare phase required in PBFT? And can it be omitted?","blockchain consensus cryptocurrency",NA,"
I didn't actually read the paper you linked, but I think I can answer your question from your last sentence; 


  ""Why is the prepare phase required in PBFT?""


You may know that there is pre-prepare phase in PBFT. Pre-prepare phase is the first step of PBFT's three phase consensus protocol, and in this phase, primary assigns a unique sequence number to the client's request. PBFT is for Byzantine fault tolerant algorithm, meaning that primary can be malicious; For example, primary in pre-prepare phase can assign different sequence number to the same request, thereby violating safety condition. To detect this kind of faulty behavior of primary, replicas need to exchange pre-prepare message in the next step(prepare phase) to check that they all received exactly same message from the primary. To conclude, prepare phased is required to verify the primary's message by replicas. I recommend BGP(Byzantine General Problem) for more details.

And your second question is...


  And can it be omitted?


The answer is ""no"". As explained earlier, if the protocol omits the prepare phase, it doesn't tolerate Byzantine faulty primary. 
    ",NA
"287","Hyperledger-fabric blockchain","2018-02-19T10:18:36",217,"I`m really new at hyperledger-fabric and I want to build my own application based on this technology and framework also, but have some spaces in my knowledge(
What information stored in block chain of hyperledger fabric?","blockchain hyperledger-fabric hyperledger",NA,"
Since you are new to blockchain and the way it works, I recommend to understand the basic concept of that technology first. The Hyperledger Fabric Documentation provides a first overview of how it works:

http://hyperledger-fabric.readthedocs.io/en/release/blockchain.html

When you got the basic understanding of blockchains, you can setup your own development environment:

http://hyperledger-fabric.readthedocs.io/en/release/getting_started.html

With that, you can build your first network...

http://hyperledger-fabric.readthedocs.io/en/release/build_network.html

... and your first application

http://hyperledger-fabric.readthedocs.io/en/release/write_first_app.html
    ",NA
"288","Hyperledger-fabric blockchain","2018-02-19T10:18:36",217,"I`m really new at hyperledger-fabric and I want to build my own application based on this technology and framework also, but have some spaces in my knowledge(
What information stored in block chain of hyperledger fabric?","blockchain hyperledger-fabric hyperledger",NA,"
Blockchain is a technology that works like a ledger. In fact, it works like a distributed ledger, where every participant in the Blockchain holds a copy.'

What is ledger in Hyperledger fabric?
It is like a book that holds the record of transactions. It consists of two parts:- world state and transactions logs.
In world state, it holds the current state/value of set of ledger states.
In transaction logs, it store the transactions that occurred to reach the current state.
These transactions in transaction logs are collected inside a block that are appended to the Blockchain.
    ",NA
"289","How to get various type of content of mail as it is in Java?","2018-07-02T06:48:42",44,"I am working on application where I need to get content of mail body as it is in Java. When text is plain, I have no issue to get is as a string. But when mail content contains bold letters like:


  Subject:   Fwd: Fwd: Re: Opportunity to work on Block-chain / Crypto Currency Application!!    


This text actually get printed as:    


  %0D%0ASubject%3A Re%3A Opportunity to work on Block-chain %2F Crypto Currency%0D%0AApplication%21%21%    


I am not getting any reason for this. 

Here is my simple code to get the content from mail:

private static String getTextFromMail(Message message) throws MessagingException, IOException {
        String result = """";
        if (message.isMimeType(""text/plain"")) {
            ///result = message.getContent().toString();
            result = (String) message.getContent();
        } else if (message.isMimeType(""multipart/*"")) {
            MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();
            result = getTextFromMimeMultipart(mimeMultipart);
        }
        return result;
    }


Second method:

private static String getTextFromMimeMultipart(MimeMultipart mimeMultipart) throws MessagingException, IOException {
        String result = """";
        int count = mimeMultipart.getCount();
        for (int i = 0; i < count; i++) {
            BodyPart bodyPart = mimeMultipart.getBodyPart(i);
            //if the body part is a text file, don't consider it as part of mail content(body) to print in the comment
            if (!Part.ATTACHMENT.equalsIgnoreCase(bodyPart.getDisposition())) {
            if (bodyPart.isMimeType(""text/plain"")) {
                result = result + ""\n"" + bodyPart.getContent().toString();
                break; // without break same text appears twice in my tests
            } else if (bodyPart.isMimeType(""text/html"")) {
                String html = (String) bodyPart.getContent();
                /// result = result + ""\n"" + org.Jsoup.parse(html).text();
            } else if (bodyPart.getContent() instanceof MimeMultipart) {
                result = result + getTextFromMimeMultipart((MimeMultipart) bodyPart.getContent());
            }
        }
    }
        return result;
    }


Any help on how I can fix the same?","java javamail email-processing","@soufrk Thanks for suggesting edit.OOOYou haven't included your getTextFromMimeMultipart method so it's hard to tell what you're doing wrong, but note that if you're getting text/html content you'll need to convert it to plain text if that's what you want.  Also, you might find this JavaMail FAQ entry useful.OOO@BillShannon Please see edited question, I have uploaded another method. I experienced that the type of content is text/plain itself. Any idea please?OOOCan you post the raw MIME content of the message you¡¯re reading?  Note that if you¡¯re reading text/plain content, there will be no bold characters in the content since text/plain doesn¡¯t support that.  And if you¡¯re getting text/plain content that¡¯s exactly what you posted above, then that¡¯s exactly what the sender intended you to see.  That¡¯s URL encoded content, which would not normally appear in the body of a mail message unless the sender did the wrong thing.  What mail application created the message that you¡¯re reading?",NA,NA
"290","Can a simple SELECT statement block processes when there is no open transaction?","2014-02-07T23:38:59",563,"I encountered a weird scenario a couple of days ago, when a simple SELECT statement that returned 4 rows of data was causing a blocking chain in SQL server. There was no open transactions. Any inkling why this might occur?","sql sql-server","Was it deadlocked?  Reads need to lock because the data may change during the read.  Reading without locks is possible and is known as a dirty read because it may contain partially committed dataOOOIf that is of help stackoverflow.com/questions/1738647/¡¦? MySQL and InnoDB  though.OOOThere are different lock types though and it may be worth reading up on lock types,  compatibility and lock escalation. Two shared locks held by two select statements will not block each other because neither one is altering data,  however an update places a more strict lock on tables, rows or ranges of rows in order to prevent dirty data being readOOO@Charleh well it was causing a deadlock on other processes...I run select statements all the time..and it's the first time something like that happened where it's causing a block on other processes.OOO@dollarvar It does shed some light but I am only returning 4 rows of data...could there be another explanation?OOOYeah likely another process had taken out a more strict lock and was waiting on the select, but the select was waiting on something else and so on until a loop was formed,  hence a deadlock","

  Yes a simple SELECT statement can endup in deadlock , Imagine a
  scenario where  User1 is only reading data and User2 trys to Update
  some data and there a non-clustered index on that table, it is
  possible.
  
  1) User1 is reading Some Data and obtains a shared lock on the
  non-clustered index in order to perform a lookup, and then tries to
  obtain a shared lock on the page contianing the data in order to
  return the data itself.
  
  2) User2 who is writing/Updating first obtains an exlusive lock on the
  database page containing the data, and then attempts to obtain an
  exclusive lock on the index in order to update the index.


Read here to learn more about locking in sql-server.
    ","Sir, Could you link to some documents for: shared lock and exclusive lock? Thanks.OOOWell, if there was no Update, but let's say users are trying to hit a page on a site whereby a procedure in the backend is getting called. Would the SELECT statement have caused a deadlock as well?OOO@ShaunK Yes it is still possible if one select statement has a more strict transaction isolation level which obtains exclusive locks on the data pages, you can end up having a dead lock in that situation as well.OOO@M.Ali Thank you M.Ali"
"291","c# Accessing an Object / Object Method when the Object is stored in a linked list","2018-04-24T22:28:20",97,"This application is supposed to be a sort of demo of how blockchain works. I have a block chain class and a block class and the program class is main. In the blockchain class I am creating an initial block called the gensis block in the createGenesisBlock() method. In the constructor of my blockchain class I am calling the createGenesisBlock() method and inserting the object into my linked-list which is called chain. The problem I have is when the object is added to the linked-list in my blockchain class I cannot access the object or the methods. What I am trying to accomplish is to use my getLatestBlock() method in the blockchain class to retrieve the value of hash of the last object that was put into chain. Thus being able to call my addBlock method in blockchain setting the value of previousHash equal to the value of hash of the object in the linked-list 

namespace BlockChainProject
{
    class Program
    {
        static void Main(string[] args)
        {
            Blockchain blockChain = new Blockchain();
            blockChain.addBlock();
            blockChain.display();
            Console.ReadKey();
        }
    }
}

namespace BlockChainProject
{

    class Block
    {
        private int index;
        private string timeStamp;
        private string data;
        private string previousHash;
        private string hash;


        public Block(int index, string timeStamp, string data, string previousHash) {
            this.index = index;
            this.timeStamp = timeStamp;
            this.data = data;
            this.previousHash = previousHash;
            this.hash = this.calculateHash();
        }

        public string calculateHash() {
            SHA256Managed hashString = new SHA256Managed();
            byte[] dataArray = hashString.ComputeHash(Encoding.UTF8.GetBytes(index.ToString() + previousHash + timeStamp + data));
            StringBuilder stringBuilder = new StringBuilder();
            foreach (byte x in dataArray)
            {
                stringBuilder.AppendFormat(""{0:X2}"", x);
            }

            string hashed = stringBuilder.ToString();
            return hashed;
        }

        public string getHash() {
            return hash;
        }
    }

}

namespace BlockChainProject
{
    class Blockchain
    {
        LinkedList<object> chain;
        private int index = 0;
        private string time = DateTime.Now.ToString();

        public Blockchain(){
            chain = new LinkedList<object>();
            chain.AddLast(createGenesisBlock());
        }

        private object createGenesisBlock() {
            index++;
            return new Block(index, time, ""Genesis Block"", ""0""); ;
        }

        public object getLatestBlock() {
            return chain.Last.Value;
        }

        public void addBlock() {
            string data = Console.ReadLine();
            //string previousHash = <The hash of linked lists last object here>;
            chain.AddLast(new Block(index, time, data, previousHash));
            index++;

        }

        public void display() {
            foreach (var item in chain)
            {
                Console.WriteLine(item);
            }
        }

    }
}","c# hash linked-list blockchain",NA,"
I quickly ran your code and I think that I have figured out your problem. You need to do a find and replace on ""object"" and replace it with ""Block"" or alternatively you need to cast the objects that are being returned from the getLast function to ""Block"".

An example of the changes will look like so:

LinkedList<Block> chain;


...

public Block getLatestBlock() {
    return chain.Last.Value;
}


This is some examples of the changes to be made to the Blockchain class there may be others but I can't remember.

Now when you call the display function you have access to the functions and methods of each of the Block class instances in the linked list, like so:

public void display()
{
    foreach (var item in chain)
    {
        Console.WriteLine(item.getHash());
    }
}


This will now print a list of the hashes provided that you changed all of the returns, types and instances where you used object in the linked list, to Block.

The reason for this is if you create a linkedlist of generic ""object""s then at compile time C# has no idea what might be in the linked lists. It could be Blocks or it could be Bananas, so it doesn't know what functions and methods each object will have available to call. So to let C# know we have to either cast it using ""as Block"" after we get the item from the list or in your case just set the type of all values in the linked like to ""Block"" as by the looks of your program you aren't going to have generic entries to the list.

Hopefully this answers your question. If not let me know.
    ","Yes that answers my question thank you very much I was not aware I could tell the linked list to be of the type Block your explanation was very helpful!"
"292","c# Accessing an Object / Object Method when the Object is stored in a linked list","2018-04-24T22:28:20",97,"This application is supposed to be a sort of demo of how blockchain works. I have a block chain class and a block class and the program class is main. In the blockchain class I am creating an initial block called the gensis block in the createGenesisBlock() method. In the constructor of my blockchain class I am calling the createGenesisBlock() method and inserting the object into my linked-list which is called chain. The problem I have is when the object is added to the linked-list in my blockchain class I cannot access the object or the methods. What I am trying to accomplish is to use my getLatestBlock() method in the blockchain class to retrieve the value of hash of the last object that was put into chain. Thus being able to call my addBlock method in blockchain setting the value of previousHash equal to the value of hash of the object in the linked-list 

namespace BlockChainProject
{
    class Program
    {
        static void Main(string[] args)
        {
            Blockchain blockChain = new Blockchain();
            blockChain.addBlock();
            blockChain.display();
            Console.ReadKey();
        }
    }
}

namespace BlockChainProject
{

    class Block
    {
        private int index;
        private string timeStamp;
        private string data;
        private string previousHash;
        private string hash;


        public Block(int index, string timeStamp, string data, string previousHash) {
            this.index = index;
            this.timeStamp = timeStamp;
            this.data = data;
            this.previousHash = previousHash;
            this.hash = this.calculateHash();
        }

        public string calculateHash() {
            SHA256Managed hashString = new SHA256Managed();
            byte[] dataArray = hashString.ComputeHash(Encoding.UTF8.GetBytes(index.ToString() + previousHash + timeStamp + data));
            StringBuilder stringBuilder = new StringBuilder();
            foreach (byte x in dataArray)
            {
                stringBuilder.AppendFormat(""{0:X2}"", x);
            }

            string hashed = stringBuilder.ToString();
            return hashed;
        }

        public string getHash() {
            return hash;
        }
    }

}

namespace BlockChainProject
{
    class Blockchain
    {
        LinkedList<object> chain;
        private int index = 0;
        private string time = DateTime.Now.ToString();

        public Blockchain(){
            chain = new LinkedList<object>();
            chain.AddLast(createGenesisBlock());
        }

        private object createGenesisBlock() {
            index++;
            return new Block(index, time, ""Genesis Block"", ""0""); ;
        }

        public object getLatestBlock() {
            return chain.Last.Value;
        }

        public void addBlock() {
            string data = Console.ReadLine();
            //string previousHash = <The hash of linked lists last object here>;
            chain.AddLast(new Block(index, time, data, previousHash));
            index++;

        }

        public void display() {
            foreach (var item in chain)
            {
                Console.WriteLine(item);
            }
        }

    }
}","c# hash linked-list blockchain",NA,"
When you specify your chain as

LinkedList<object> chain


You are telling the compiler that the chain variable is a linked list that contains an object class, or any descendent of object.

The following code is therefore legal by your definition of chain

chain.Add(""Hi there!"");
chain.Add(new Dictionary<int, decimal>());
chain.Add(new Giraffe());
chain.Add(42);


You cannot call calculateHash() because unfortunately, our string,  Dictionary, Giraffe and int classes wouldn't know what to do with such a method call.

Instead, chain should be declared as

LinkedList<Block> chain;


This means that chain can only contain elements that are of type Block (or a descendent class of Block).

Whilst the calls to these methods are not shown in code, you will need to then change the createGenesisBlock() and getLatestBlock() methods to return Block rather than object, because you are not allowed to add just any object to your linked list anymore, it must be a Block.
    ","both of your answers really cleared this up for me thank you I didn't know I could tell linked list that it can take block I just assumed object would be what I needed to use much appreciated"
"293","how to fetch latest transaction from bitcoin block chain network via node.js or c#","2018-08-14T07:19:50",153,"I'm new to blockchain technology, I have been playing around with bitcoin node.
I've searched all over the internet to fetch the latest transaction of the bitcoin network via programming (c#, node.js) but I didn't find any decent piece of code to do that.
Can anyone suggest me how to do fetch the latest transaction of bitcoin network
enter image description here I did the same with Socket.io just looking for an alternate solution","c# node.js blockchain bitcoin","Nobody write code for you, you should find the way, If you are facing any challenge then put your query with the code on SO.","
You need to use this api: 

https://blockchain.info/address/$hash_160?format=json


it will provide you with a list of the latest transactions.
    ","blockexplorer.com on this website, every transaction is added at the latest. Please refer to it, To get the clear view of my question"
"294","Does every transaction creates a new block in blockchain?","2018-01-01T07:55:27",514,"class Block:
   def __init__(self, index, transactions, previous_hash):
        self.index = index
        self.transactions = transactions
        self.previous_hash = previous_hash
        self.timestamp = time()

class BlockChain:
    self.chain = []

    def new_block(self, transactions):
        pass


lets say I make new a transaction {'sender': 'bob', 'receiver': 'alice', 'amount': 2}

will this transaction create a new block in the chain (i.e. self.chain.append(new_block_which_has_above_transaction)

or will it get last block in the chain (i.e. len(self.chain)-1) and modify the self.transactions of this block.

https://hackernoon.com/learn-blockchains-by-building-one-117428612f46
In this article, author is using self.transactions as a list and thats where I'm getting confused. 

As per my understanding, every new transaction will create a new block with that transaction and that block will be appended to blockchain. if some one mine a new block, few coins will be awarded to miner as a transaction.
is that correct flow? or can a block has multiple transactions? if yes -

1) should a genesis block has multiple transactions?

2) what if two nodes have different chain(I mean we need to resolve
using consensus algorithm) but meanwhile if that node process a
transaction then hash of that block would be changed and then what would happen to neighbour node's chain?","python blockchain",NA,"
Bitcoin puts a cap of 2,400 transactions on each of their blocks, but not all blocks have this many. People broadcast transactions to miners and miners put transactions into blocks and distribute them.

As for your question:

The website you linked to says that blocks should be immutable, so you shouldn't append a new transaction onto a block's list. Also, this would change the value of the hash you need to find to validate the block.
It is up to you how many transactions you want per block, one or multiple. What I would do is gather the non-chained transactions, put them into a block and append that new block to the chain.
","The website you linked to says that blocks should be immutable, so how should I append a new transaction?  How do you gather non-chained transactions and store? do you collect all transactions happened in an hour and store it temporary and after an hour you create a new block and put all transaction in it?"
"295","What does ¡°Blocks your chain on reading and parsing the HTTP request body¡± mean?","2016-08-02T18:23:40",37,"I'm reading about Node.JS restify. And under the definition for its function bodyParser() it states:


  Blocks your chain on reading and parsing the HTTP request body. Switches on Content-Type and does the appropriate logic. application/json, application/x-www-form-urlencoded and multipart/form-data are currently supported.


I'm confused on what ""blocks your chain on reading and parsing the HTTP request body"" means. And also confused to what logic it needs to do when switching on content-type","node.js restify",NA,"
My guess is that it means it will postpone handling the request until the entire request body is read and processed. It doesn't mean that it will be blocking the event loop, just that the request handler (and any middleware between the body parser and the request handler) won't be called. I think it's meant as a reminder that it may take some non-trivial time to read and process large request bodies.

With ""the appropriate logic"" I assume that it will choose the appropriate parser for the content type in which the body is presented (url encoded, JSON, multipart).
    ",NA
"296","Blockchain programming","2018-04-17T13:29:18",112,"I did a bit of research on block chain on google. Currently it seems very confusing.

I am willing to implement a private chain where blockchain functionality can be inherited with custom cryptocurrency.

Is the above implementation even possible and can it be done using .Net?

Please provide anything which i could start with.",".net blockchain",NA,"
You can create own solution based on blockchain in (almost) any programing language. If you are on start and don't understand the field, you can start with paper and pencil. You don't need any programming language.
    ","Thanks for the comment, but i do understand the field, but only problem i am facing is i am not able to understand how could i be able to implement it using .Net. any inputs on that sir?"
"297","How do I chain to an inline block in Perl 6?","2016-06-22T22:53:35",111,"I want to modify an array (I'm using splice in this example, but it could be any operation that modifies the array) and return the modified array - unlike slice, which returns the items pulled out of the array. I can do it easily by storing a block in an array, as follows:

my $l = -> $a { splice($a,1,3,[1,2,3]); $a };
say (^6).map( { $_ < 4 ?? 0 !! $_ } ).Array;
# [0 0 0 0 4 5]
say (^6).map( { $_ < 4 ?? 0 !! $_ } ).Array.$l;
# [0 1 2 3 4 5]


How do I inline the block represented by $l into a single expression? The obvious substitution doesn't work:

say (^6).map( { $_ < 4 ?? 0 !! $_ } ).Array.(-> $a { splice($a,1,3,[1,2,3]); $a })
Invocant requires a type object of type Array, but an object instance was passed.  Did you forget a 'multi'?


Any suggestions?","arrays functional-programming perl6",NA,"
Add one & at the right spot.

say (^6).map( { $_ < 4 ?? 0 !! $_ } ).Array.&(-> $a { splice($a,1,3,[1,2,3]); $a })
# OUTPUT¡ì[0 1 2 3 4 5]<U+2424>¡í

    ",NA
"298","Stacking percentage reduction depending on input (java script)","2017-10-22T13:54:04",36,"I'm sure this is simple enough for someone better at maths than me, but the solution is eluding me. 

I need to take a number, the block chain height, which at every 500 thousand blocks, reduces the reward by 5%.

The original reward is 3 per block. So block 500001 would be 2.85, block 1,000,001 would be 2.7075, block 1,500,001 would be 2.572125, etc. 

This happens all the way to block 30,000,000 so using case or if is not practical.","javascript math",NA,"
I can't quite tell if you need continuous reduction, or ""sudden"" reduction after crossing the next 500,000 (for example, is the reward at block 499,999 still 3%?).

Assuming you need ""sudden"" reduction, you first calculate the number of reductions.

var blocks = 10000000; // 10 million, just as an example
var reductions = Math.floor(blocks / 500000);


Then apply the reductions to your reward

var reward = 0.03 * Math.pow(0.95, reductions);


That will take off 5% (by multiplying by 0.95) the correct number of times. The result will be a decimal percent (like 0.0285 representing 2.85%, etc).

If you need a continuous reduction, you can actually just remove the Math.floor from the calculation of reductions above.
    ","Hi, no not a continuous reduction but would this remove 0.15 each time or would it remove 5% of the current block reward? So if it was previously reduced by 0.15, the next reduction would be 5% of 2.85OOO@NotoriousPyro that's right. A continuous reduction would agree with a ""sudden"" reduction at the 500,000 breakpoints, but would slide smoothly to those reward values instead of changing suddenly. Both methods reduce ""cumulatively"", as in 5% of the previous value, not 5% of the original, giving 3, 2.85, 2.7075, etc as you required.OOOOne thing I don't understand about your answer is 0.03. Where did you get this number from when multiplying by math.pow?OOOActually, that works perfectly with 0.03 adjusted to 3.OOOIf you start with 3, then you'll get answers like 2.85 indicating 2.85%. If you start with 0.03 then you'll get answers like 0.0285 indicating 2.85%. Using either one is fine of course - some might prefer the decimal if doing further calculations with the percent, but it's really no huge deal either way."
"299","How is a fake chain handled in bitcoin?","2018-10-24T19:54:22",49,"I wonder how the following scenario is handled in bitcoin/crypto:
Let's say evilminer has 10% mining power of a coin and he secretly mines blocks while the real chain is growing from blockheight 900 to 1000. He starts with a faked block 995 and stops at block 1005. At Blockheight 1000(real chain) he publishes his fake chain.A node would now request/get the next block. And it would get now block number 1001 from evilminer.

What would this node do with it? I think to know if the chain made by evilminer to proof wrong or true it would have to download block 1000 to 95 to finally see that block 95 was fake.

Is this correct or is there another way a node would handle it?","hash blockchain bitcoin mining","This question is not about programming. You may be able to get help on our sister site Bitcoin.","
The situation you have stated would never arise. 

If you want to make your chain the longest, then you need to have more than 50 percent of the mining power, this way sometime in the future you will eventually catch up with the main chain and surpass it. The speed of catching up will be dependant on how much more than 50 percent you have. This attack works because this way you have beaten any other potential miners in the rate of producing of new blocks, so you are always producing blocks faster than anybody else on the network, hence ensuring that your chain will become longest.
So your evilminer, given that he has 10 percent of mining power, would never be able to advance the length of his chain beyond the main chain. The only other possible way is to use a nonce of lower difficulty to speed up block production, but such a block would be rejected by any other node in the network deeming it as invalid. 
Hence, in short the only way evilminer can make other nodes accept his blocks is to make his chain the longest, and that can only be done if he has more than 50 percent mining power of the network.

Edit 1 :
Consider the computation power of every participant of the network and assume that when you sum these up, you get 100. Now if you have 10 percent of this total, it means your likelihood of finding a new block is higher than others who have lesser computation power than you. However, this does not guarantee that you will definitely find the nonce first. 

Finding the hash that satisfies the difficulty depends on probability. You brute force your way through a large set of numbers until your hash satisfies the difficulty. It maybe possible that someone having mere 0.5 percent of total computation power finds the nonce first. However, the faster you can crunch these numbers, the higher the chance that you will find the nonce first.

So if somehow you have more than 50 percent of total computation power, that means you are processing these hashes faster than anybody else, and hence this increases the likelihood that you find the nonce first most of the times. 

Also, this process of finding the nonce, is repeated for every block. So the work has to be done all over again for every block.
    ","Ok, but how is the miningpower of the CHAIN proven? For the blocks I know that there's the difficulty which is setted every 2016 blocks, but for the chain??OOO@user3776738 the difficulty of the block is what dictates the amount of mining power required. The computation power you put into finding hash for the block is a measure of your mining power. Having 51% means that you have more computing power than the whole network combined. Check this for an infographic explanation of the same.OOOBut if he uses the same difficulty as the main chain, so his 10 blocks have the same computation power required to be legit as other blocks.There must be something in each block with calculates the difficulty of all blocks combined. So the n-th block must have the difficulty-sum of all previous blocks + the n-th block. I don't know about of such a field in the blockheader.OOO@user3776738 It seems you are not aware of how bitcoin works. Have you given the article i linked a read ?OOOI just don't understand, how the blockheight can not be tampered.If someone claims it is Block number 1001.How can you proof him wrong, because it could be that your chain is the wrong chain,so you have to check it,right?"
"300","Chaining block passing in ruby [duplicate]","2014-04-01T16:39:29",137,"This question already has answers here:                                                                                                                                                  Chaining methods using Symbol#to_proc shorthand in Ruby?                                                                      (3 answers)                                                                                           Closed 5 years ago.                                  lets say I have an array

array = [[2], [1], [0]]


I can do this:

array.map(&:any?)
# => [true, true, true]


and I can do this:

array.map do |x|
    x.any?(&:zero?)
end
# => [false, false, true]


why cant i do this? (or something similar):

array.map(&:any?(&:zero?))


returns SyntaxError: unexpected '(', expecting ')'

array.map(&:any?(&:zero?))

Thank you for your time.","ruby block","Why are you defining array and then using a that is not defined?","
Because :any?(&:zero?) is not an appropriate symbol literal. You can make it a symbol by doing :""any?(&:zero?)"", but still, there is no such method.
    ","Ok, so, I can do  proc = Proc.new {|v| v.any?(&:zero?)} then array.map(&proc), why not something like array.map(&(any?(&:zero?)).to_proc) ? Thank you for the answer though, this is all very interesting and googling around did not help much."
"301","Chaining block passing in ruby [duplicate]","2014-04-01T16:39:29",137,"This question already has answers here:                                                                                                                                                  Chaining methods using Symbol#to_proc shorthand in Ruby?                                                                      (3 answers)                                                                                           Closed 5 years ago.                                  lets say I have an array

array = [[2], [1], [0]]


I can do this:

array.map(&:any?)
# => [true, true, true]


and I can do this:

array.map do |x|
    x.any?(&:zero?)
end
# => [false, false, true]


why cant i do this? (or something similar):

array.map(&:any?(&:zero?))


returns SyntaxError: unexpected '(', expecting ')'

array.map(&:any?(&:zero?))

Thank you for your time.","ruby block","Why are you defining array and then using a that is not defined?","
Reasons why are explained in other answers. You can however use the shortcut for anything if you define a proc:

any_zeros= ->(o) { o.any?(&:zero?) }
array = [[2], [1], [0]].map(&any_zeros)

    ","As you used lambda method, the variable name should be lambda instead of proc. :-)OOOThe variable name should be neither ""proc"" or ""lambda"", it should be mnemonic: Something like 'any_zeros?' Name it something that describes what it's doing, even for temporary things like this.OOOGood point, corrected."
"302","Chaining block passing in ruby [duplicate]","2014-04-01T16:39:29",137,"This question already has answers here:                                                                                                                                                  Chaining methods using Symbol#to_proc shorthand in Ruby?                                                                      (3 answers)                                                                                           Closed 5 years ago.                                  lets say I have an array

array = [[2], [1], [0]]


I can do this:

array.map(&:any?)
# => [true, true, true]


and I can do this:

array.map do |x|
    x.any?(&:zero?)
end
# => [false, false, true]


why cant i do this? (or something similar):

array.map(&:any?(&:zero?))


returns SyntaxError: unexpected '(', expecting ')'

array.map(&:any?(&:zero?))

Thank you for your time.","ruby block","Why are you defining array and then using a that is not defined?","
Why? Simple answer: because Ruby doesn't include syntax for it. 

You are basically trying to pass a default argument to the method. The Ruby devs, at some point, made a decision that a feature like this was too much work and extra complication for what can be achieved using this little code:

array.map {|e| x.any?(&:zero?)}

    ","Actually, he's trying to use a symbol literal with a parenthesis, which is not a valid syntax. That is the cause of the syntax error.OOO@GuilhermeFranco: That's the cause of the syntax error, true, but that doesn't meant there's a syntax for doing what the OP is asking about doing. From the Q: why cant i do this? (or something similar):OOOI think he can't do that because it is an invalid syntax =POOO@GuilhermeFranco: Doesn't change the fact that there is no syntax to do that.OOO@Linuxios You're right. But that is not related to default argument to methods. The cause of the syntax error is because OP is trying to use parenthesis in a symbol literal. It would be the same if OP did ""MyString""('foo')."
"303","RxJava - Debug chain that seems to block forever","2015-04-04T02:19:18",978,"I'm running the following code:

List<GroupedObservable<BcxToDoList, BcxToDo>> mToDoList;

mToDoList = bcxClient
  .fetchToDos()
  .flatMap(new Func1<List<BcxToDo>, Observable<BcxToDo>>() {
    @Override
    public Observable<BcxToDo> call(List<BcxToDo> bcxToDos) {
      return Observable.from(bcxToDos);
    }
  })
  .groupBy(new Func1<BcxToDo, BcxToDoList>() {
    @Override
    public BcxToDoList call(BcxToDo bcxToDo) {
      return bcxToDo.toDoList;
    }
  })
  .toList()
  .toBlocking()
  .single();


When I step into this code in Android Studio, the code blocks indefinitely. If I trap this using subscribe(), there are no exceptions.

What's the best way to debug what's going on?

UPDATE

Following @dwursteisen's advice, I used .doOnNext() to see what the .groupBy() was emitting. It was creating the output I expected, it just never sent the onCompleted notification. 

According to these tickets, in RxJava this is by design. Each GroupedObservable must be dealt with in order for the toList operator to work.

So here's my revised code:

List<BcxToDoList> mToDoList;

mToDoList = bcxClient
  .fetchToDos()
  .flatMap(new Func1<List<BcxToDo>, Observable<BcxToDo>>() {
    @Override
    public Observable<BcxToDo> call(List<BcxToDo> bcxToDos) {
      return Observable.from(bcxToDos);
    }
  })
  .groupBy(new Func1<BcxToDo, BcxToDoList>() {
    @Override
    public BcxToDoList call(BcxToDo bcxToDo) {
      return bcxToDo.toDoList;
    }
  })
  .flatMap( new Func1<GroupedObservable<BcxToDoList, BcxToDo>, Observable<BcxToDoList>>() {
    @Override
    public Observable<BcxToDoList> call(final GroupedObservable<BcxToDoList, BcxToDo> bcxToDoListBcxToDoGroupedObservable) {
      return bcxToDoListBcxToDoGroupedObservable
        .toList()
        .flatMap( new Func1<List<BcxToDo>, Observable<BcxToDoList>>() {
          @Override
          public Observable<BcxToDoList> call(List<BcxToDo> bcxToDos) {
            bcxToDoListBcxToDoGroupedObservable.getKey().toDos.addAll( bcxToDos );

            return Observable.just( bcxToDoListBcxToDoGroupedObservable.getKey() );
          }
        });
    }
  })

  .toList()

  .toBlocking()
  .single();


Not quite as elegant as the first code snippet, but at least it no longer blocks! If there's anything I can do to make the new code snippet more readable, I'd appreciate any advice.","android rx-java",NA,"
Debug can be tricky with RxJava. 

You can add .doOnNext() call that will allow you to display RxJava notification and see what's going one. 

According to your code, I think that your code block as you use the toList operator that will emit only if the Observable complete. 

I think that your stream doesn't complete so toList never emits and then your code block forever. 
    ","I think you're right, if I remove the groupBy, then the code works. With the groupBy, the doOnNext is called twice (which is the correct count), but then it blocks. So why would the groupBy not send a complete event?"
"304","RxJava - Debug chain that seems to block forever","2015-04-04T02:19:18",978,"I'm running the following code:

List<GroupedObservable<BcxToDoList, BcxToDo>> mToDoList;

mToDoList = bcxClient
  .fetchToDos()
  .flatMap(new Func1<List<BcxToDo>, Observable<BcxToDo>>() {
    @Override
    public Observable<BcxToDo> call(List<BcxToDo> bcxToDos) {
      return Observable.from(bcxToDos);
    }
  })
  .groupBy(new Func1<BcxToDo, BcxToDoList>() {
    @Override
    public BcxToDoList call(BcxToDo bcxToDo) {
      return bcxToDo.toDoList;
    }
  })
  .toList()
  .toBlocking()
  .single();


When I step into this code in Android Studio, the code blocks indefinitely. If I trap this using subscribe(), there are no exceptions.

What's the best way to debug what's going on?

UPDATE

Following @dwursteisen's advice, I used .doOnNext() to see what the .groupBy() was emitting. It was creating the output I expected, it just never sent the onCompleted notification. 

According to these tickets, in RxJava this is by design. Each GroupedObservable must be dealt with in order for the toList operator to work.

So here's my revised code:

List<BcxToDoList> mToDoList;

mToDoList = bcxClient
  .fetchToDos()
  .flatMap(new Func1<List<BcxToDo>, Observable<BcxToDo>>() {
    @Override
    public Observable<BcxToDo> call(List<BcxToDo> bcxToDos) {
      return Observable.from(bcxToDos);
    }
  })
  .groupBy(new Func1<BcxToDo, BcxToDoList>() {
    @Override
    public BcxToDoList call(BcxToDo bcxToDo) {
      return bcxToDo.toDoList;
    }
  })
  .flatMap( new Func1<GroupedObservable<BcxToDoList, BcxToDo>, Observable<BcxToDoList>>() {
    @Override
    public Observable<BcxToDoList> call(final GroupedObservable<BcxToDoList, BcxToDo> bcxToDoListBcxToDoGroupedObservable) {
      return bcxToDoListBcxToDoGroupedObservable
        .toList()
        .flatMap( new Func1<List<BcxToDo>, Observable<BcxToDoList>>() {
          @Override
          public Observable<BcxToDoList> call(List<BcxToDo> bcxToDos) {
            bcxToDoListBcxToDoGroupedObservable.getKey().toDos.addAll( bcxToDos );

            return Observable.just( bcxToDoListBcxToDoGroupedObservable.getKey() );
          }
        });
    }
  })

  .toList()

  .toBlocking()
  .single();


Not quite as elegant as the first code snippet, but at least it no longer blocks! If there's anything I can do to make the new code snippet more readable, I'd appreciate any advice.","android rx-java",NA,"
This SO answer provides the correct way to debug RxJava:


  By now I can't reproduce the problem but I've found rxdebug-java a
  very good tool for debugging.
  
  It's use is simple: add the library as a dependency and at application
  start register a listener:

RxJavaPlugins.getInstance().registerObservableExecutionHook(new DebugHook(new DebugNotificationListener() {
  public Object onNext(DebugNotification n) {
      Log.v(TAG,""onNext on ""+n);
      return super.onNext(n);
  }


    public Object start(DebugNotification n) {
        Log.v(TAG,""start on ""+n);
        return super.start(n);
    }


    public void complete(Object context) {
        super.complete(context);
        Log.v(TAG,""onNext on ""+context);
    }

  public void error(Object context, Throwable e) {
      super.error(context, e);
      Log.e(TAG,""error on ""+context);
  }
}));


    ",NA
"305","Create group based on the data available in SQL server table having specific condition?","2019-07-29T09:52:57",50,"There is a table which contains SQL server blocking chain data, like below.

I am trying to pull only those blocking chain groups whose average wait time is greater than 20 seconds.Group can be identified like - It starts from where it founds blocked value as 0 and ends on where it found again blocked value as 0. And last found with 0 value should not be consider in group

Blocking_time   SPID    blocked WAIT_MS Blocking_Chain_tree_details_by_Session_id_and_header    Wait_type
7/28/19 5:14 AM 130 0       <U+00A0><U+00A0>HEAD -<U+00A0><U+00A0>SPID (130) - EL.dbo.test;1    
7/28/19 5:14 AM 292 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (292) - EL.dbo.test123;1  PAGELATCH_EX
7/28/19 5:14 AM 949 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (949) - EL.dbo.sstest123;1    PAGELATCH_EX
7/28/19 5:32 AM 106 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (106) - EL.dbo.checjmark;1    PAGELATCH_EX
7/28/19 5:32 AM 130 0       <U+00A0><U+00A0>HEAD -<U+00A0><U+00A0>SPID (130) - Eli.dbo.sss;1    
7/28/19 5:32 AM 292 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (292) - EL.dbo.variable;1 PAGELATCH_EX
7/28/19 5:32 AM 949 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (949) - Eldbo.anything;1  PAGELATCH_EX
7/28/19 5:32 AM 1578    130 12000   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (1578) - EL.dbo.something;1   PAGELATCH_EX
7/28/19 9:20 AM 196 513 21700   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (196) - (@P1 uniqueidentifier,@P2 int,@P3 int,@P4 int,@P5 int,@P6 int,@P7 int,@P8 int,@P ...      LCK_M_IX


NA

Actual result should be like as below- 

Blocking_time   SPID    blocked WAIT_MS Blocking_Chain_tree_details_by_Session_id_and_header    Wait_type
7/28/19 5:32 AM 130 0       <U+00A0><U+00A0>HEAD -<U+00A0><U+00A0>SPID (130) - Eli.dbo.sss;1    
7/28/19 5:32 AM 292 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (292) - EL.dbo.variable;1 PAGELATCH_EX
7/28/19 5:32 AM 949 130 1   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (949) - Eldbo.anything;1  PAGELATCH_EX
7/28/19 5:32 AM 1578    130 12000   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (1578) - EL.dbo.something;1   PAGELATCH_EX
7/28/19 9:20 AM 196 513 21700   <U+00A0><U+00A0>|<U+00A0><U+00A0><U+00A0><U+00A0><U+00A0><U+00A0>|-----<U+00A0><U+00A0>SPID (196) - (@P1 uniqueidentifier,@P2 int,@P3 int,@P4 int,@P5 int,@P6 int,@P7 int,@P8 int,@P ...      LCK_M_IX","sql sql-server tsql sql-server-2008 sql-server-2012","""average wait time is greater than 20 seconds.""  How is this calculated?  I just can't tell where the wait time is stored, and it is stored in milliseconds and not seconds.  Maybe if you replace the tabs with spaces, your data will be understandable.","
You can use a window function for this. So long as you put your grouping columns in the PARTITION BY you'll be able to get the MAX value for the group. Then you can filter to just the groups where the max time is over 20 seconds.

SELECT *
FROM
(
    SELECT  Blocking_time,
            SPID,
            blocked,
            WAIT_MS,
            Blocking_Chain_tree_details_by_Session_id_and_header,
            Wait_type,
            MAX(WAIT_MS) OVER (PARTITION BY Blocking_time ORDER BY Blocking_time ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) [Max_WAIT_MS]
    FROM <YourTable>
) rawData
WHERE [Max_WAIT_MS] > 20000

    ","Thanks but thats not showing the whole group details and only showing where waittime >20sec. Actual required is if average(wait_ms)>20 then whole group can be in ouputOOOAh yep, forgot to make sure the window was looking at all rows in the group.OOOWhat do you mean all group details? Just remove the WHERE clause and you can see the max wait time for all of the groups. If you're doing this in reporting services you should pass a paremeter for the wait time so you can let the user filter the list to what they want.OOOgroup should create as below- Rows started from word head till it will find another word head in that column (Blocking_Chain_tree_details_by_Session_id_and_header) ,It means in above data first 4 rows are one group and another 6 rows are second groupOOOCan you please edit your question with the exact results you want please? I'm struggling to understand what you mean."
"306","Trying to build simplest python miner for bitcoin","2017-08-17T18:37:44",784,"I am trying to confirm nonce is correct and I use following code in python 3.5.2

import hashlib

# trying to confirm Bloc #480969 from https://blockchain.info/sl/block/000000000000000000a77b8f299f11d6d0919f9b83612a1afdbf28f862066241


version = '0x20000002'
previous_block = '000000000000000000a12aae865630fb42fc43829f823202459f55a614ec49ff'
merkel_root = '66ea9763df0924bb40ed8e3b53c21b7882867356ed6919d37668a28a0551b010'

time = '2017-08-17 18:02:00'
bits = '402731232'

nonce = '3856196048'

target_value = '000000000000000000a77b8f299f11d6d0919f9b83612a1afdbf28f862066241'

input_values = version+previous_block+merkel_root+time+bits+nonce

my_try = hashlib.sha256(input_values.encode()).hexdigest()

if 13*'0'+my_try == target_value:
    print('it works')
else:
    print('no work')


output is:

no work


Would you please be so nice and explain to me, what I am failing at, so I can improve my code. I am trying to understand how block is pushed into block chain.

As well I do not understand from where merkel root is taken from.","python bitcoin","I don't know enough about bitcoin miners to be sure but ... it looks like you're confusing hex strings and strings of hex characters.  As written, previous_block is a string of ASCII characters.  But it also looks like it is supposed to be a block of bytes 00, 00, 00 ... ec, 49, ff.  Ditto for the merkel_root and version.  Instead of concatenating these blocks of ASCII characters together, and getting their byte-encoding, you probably need to convert the strings directly into byte strings.   Ie, ""00"" should become the byte 0x00, not the bytes 0x30 0x30.OOO@AJNeufeld Thank you for this.OOOprevious_block = bytes.fromhex(previous_block); looks like it will do the conversion for you.  You'd have to strip off the ""0x"" prefix from version for bytes.fromhex() to process it.  bits and nonce only have decimal digits, and bits is an odd number of characters long.  Perhaps these are decimal values?  And time you may have to convert from a string to some binary format.  Again, I know nothing of the bitcoin mining, but I hope I've helped some.",NA,NA
"307","How do I return a promise in a redux action dispatch call so I can chain .then blocks?","2019-02-08T23:23:29",893,"I am creating an app using react-native and redux. My app should send a request to a firebase rest api to get back a user's todo's. In my react-native app, I get this response through a redux function that is passed in the connect part of the react-native components. I would like to chain a .then block right after I call my function.

I have tried creating a promise and returning that in my action but it automatically resolves to an error when chaining the .then / .catch
I have also tried doing the same without creating a promise.

Here is my action:

export const fetchHomework = () => {
  return (dispatch, getState) => {
      dispatch(uiStartLoading());
      dispatch(uiStartFetchingHomework());
      dispatch(authGetToken())
      .catch(err => {
        dispatch(errHandler(err))
      })
      .then(token => {
        const uid = getState().userid;

        fetch(restAPI)
        .catch(err => {
          dispatch(errHandler(err));
        })
        .then(res => res.json())
        .then(response => {
          dispatch({
            type : 'SET_HOMEWORK_FOR_AGENDA',
            homework : response
          })
          dispatch(uiStopLoading());
          dispatch(uiStopFetchingHomework());
        })
        .catch(err => {
          dispatch(errHandler(err));
          dispatch(uiStopLoading());
          dispatch(uiStopFetchingHomework());
        })

      })
      dispatch(uiStopLoading());
      dispatch(uiStopFetchingHomework());
  }
}


Note: rest api is replaced with the url of the rest api
And here is where I fetch this data:

this.setState({refreshing: true});
this.props.retrieveHomework();
this.setState({refreshing: false, firebaseItems : this.props.homework});
this.loadItems(this.state.selectedDay);



(This is called in a function when refreshing)

I expected that when I chain a .then block after retrieveHomework, the then block would wait for the function to finish and then run the code inside, but this is not what is happening. What is happening is it either skips the then blocks or throws an error that the catch block catches.

Edit:
this.props.retrieveHomework is a function that points to the async action since I am using redux thunk.","reactjs react-native promise","am I correct props.retrieveHomework refers to fetchHomework async action dispatcher? is redux-thunk used?","
You need to move all of the code you want to wait to run into the .then:

this.props.retrieveHomework()
  .then(() => {
    this.setState({refreshing: false, firebaseItems : this.props.homework});
    this.loadItems(this.state.selectedDay); // If this is async, you need to `return` it here as well
  });

    ","Hey Matt. This did happen to work but presented another problem. Since I¡¯m using redux thunk which is asynchronous, my action calls a sync function to set the data in the state and the async function returns before the sync function finishes. This means that when I call the .then I¡¯m not getting an updated state since the sync function which sets it hasn¡¯t finished. How can I make sure my sync function returns before returning my async function/ calling .then?OOOThe thing is, React.Component#setState is also asynchronous. This is why it's recommended to call it with function as the first argument, like this.setState(prevState => newState), which by the way should solve the problem of the execution order.OOO@rml I do happen to understand that but I think my question was confusing since I didn't provide the code. What I meant is that I call a reducer to set my state inside of the async dispatch and that reducer doesn't finish before the async call does so it doesn't update the state in time. How do I make it so my async function doesn't return until I set my state?OOOI'd probably begin rethinking the whole state management around this problem if it is so prone to race condition. <U+0001F914> Did you think of wrapping the whole store update into a new Promise and only update component state when this promise resolves?OOOI think what @rml is suggesting is this: this.setState({refreshing: false, firebaseItems : this.props.homework}, () => this.loadItems(this.state.selectedDay)); While setState does indeed take a callback function or an object as its first param, you only need to use the callback if you are references this.state in the new state values. setState also takes a second argument, which is a function to run after setState has completed, because as @rml noted, setState is async itself"
"308","Getting error while performing web3 transaction from chrome extention","2018-05-06T09:42:39",94,"I am able to retrieve data from block-chain with chrome extension but error is coming when updating some block from chrome extension.

using below code for performing transaction.

chrome.extension.onRequest.addListener(async function(request, sender, sendResponse) {
if (request.method === ""getHTML"") {
  console.log(""Hello From react 2"");
  console.log(request.data);
  const ads = await userAbi.methods.setSpecificUserClickStatistics(request.data).send({from: ""some address""});
  console.log(ads);
}
});


Success output when run console.log(web3.currentProvider) connected with Web3.

   HttpProvider {host: ""https://rinkeby.infura.io/<specific token>"", timeout: 0, connected: false, headers: undefined}
connected:true
headers:undefined
host:""https://rinkeby.infura.io/<specific token>""
timeout:0
event.js:24170 Hello From react 2


Error which I am getting :- 

event.js:60196 POST https://rinkeby.infura.io/(specific token) 405 ()
HttpProvider.send @ event.js:60196
RequestManager.send @ event.js:50121
sendRequest @ event.js:8961
(anonymous) @ event.js:8978
sendTxCallback @ event.js:8885
(anonymous) @ event.js:50136
request.onreadystatechange @ event.js:60186
XMLHttpRequest.send (async)
HttpProvider.send @ event.js:60196
RequestManager.send @ event.js:50121
sendRequest @ event.js:8961
send @ event.js:8982
send @ event.js:8973
_executeMethod @ event.js:56098
(anonymous) @ event.js:24172
EventImpl.dispatchToListener @ extensions::event_bindings:403
publicClassPrototype.(anonymous function) @ extensions::utils:138
EventImpl.dispatch_ @ extensions::event_bindings:387
EventImpl.dispatch @ extensions::event_bindings:409
publicClassPrototype.(anonymous function) @ extensions::utils:138
messageListener @ extensions::messaging:240
EventImpl.dispatchToListener @ extensions::event_bindings:403
publicClassPrototype.(anonymous function) @ extensions::utils:138
EventImpl.dispatch_ @ extensions::event_bindings:387
EventImpl.dispatch @ extensions::event_bindings:409
publicClassPrototype.(anonymous function) @ extensions::utils:138
dispatchOnMessage @ extensions::messaging:392
event.js:49362 Uncaught (in promise) Error: Invalid JSON RPC response: """"
    at Object.InvalidResponse (event.js:49362)
    at XMLHttpRequest.request.onreadystatechange (event.js:60182)
InvalidResponse @ event.js:49362
request.onreadystatechange @ event.js:60182
async function (async)
(anonymous) @ event.js:24168
EventImpl.dispatchToListener @ extensions::event_bindings:403
publicClassPrototype.(anonymous function) @ extensions::utils:138
EventImpl.dispatch_ @ extensions::event_bindings:387
EventImpl.dispatch @ extensions::event_bindings:409
publicClassPrototype.(anonymous function) @ extensions::utils:138
messageListener @ extensions::messaging:240
EventImpl.dispatchToListener @ extensions::event_bindings:403
publicClassPrototype.(anonymous function) @ extensions::utils:138
EventImpl.dispatch_ @ extensions::event_bindings:387
EventImpl.dispatch @ extensions::event_bindings:409
publicClassPrototype.(anonymous function) @ extensions::utils:138
dispatchOnMessage @ extensions::messaging:392


Any help will be a great help.","reactjs google-chrome-extension google-chrome-devtools blockchain web3js","Chrome extensions API does not support Promise so you can't pass async function where a normal function is expected by the API. You can define a separate async function and invoke it from the API callback.","
can you try these :

Try to check if testrpc is running or is it stopped. 
Also, can you try to use http instead of https
One of these might do the trick from my exp. The first of course is for running the envt and in case of the second, it sometimes doesnt allow you to connect to the node. 

Hope this helps. Good luck.
    ","Thanks @Vikas. But still getting the same error."
"309","Chained Web service calls blocked","2016-05-25T09:56:44",40,"Here the chain of calls blocked:

Browser request -> CRM -> CRM plugin -> WebService_X -> SSRS

CRM and WebService_X are deployed in the same IIS. All calls are synchronous. SSRS is a service deployed outside IIS.

What happens is that WebService_X is called, but the call to SSRS blocks (no return from method call in WebService_X) until a timeout occurs between CRM plugin and WebService_X. As soon as the timeout occurs (default is 1 minute), the call to SSRS is unblocked (the method returns in WebService_X) and the report is generated.

The same call to SSRS from outside IIS is performed in 2 seconds.

Of course an error occurs in CRM plugin and the return value of WebService_X is not received.

What makes the call to SSRS blocked ?","iis dynamics-crm reportingservices-2005","Perhaps because WebService_X is running in a user context that does not have access to the network or to SSRS?  You can check this by temporarily confguring the web service to run under your user context.",NA,NA
"310","Hyperledger fabric previous hash knowing","2018-07-04T09:28:54",223,"{
  ""_id"": ""2018-06-29 06:30:39.595259865 +0000 UTC m=+146426.593768305"",
  ""_rev"": ""1-2811e772710ee53a3449ddf1907fb767"",
  ""AcquiringDivision"": ""Sony"",
  ""EndDate"": ""20-05-2019"",
  ""Excl"": ""yes"",
   ""Owner"": ""MCU"",
  ""ProductID"": ""1011"",
  ""~version"": ""2:0""
}


These is my couch db instance where i can see the json data. But I am unable to see the hash of the previous data 

2)when the block is getting incremented the  ""~version"": ""2:0""  is being incremented  such as  (""~version"": ""3:0"") what is (""~version"":) in my couchdb in block chain","hyperledger-fabric blockchain",NA,"
According to me, couchDB instance is only the current state of database, you won't see the hash of the block or anything like that.
Fields ""_rev"", ""_id"" and ""~version"" are for internal use, ""_rev"" is the revision_ID.(http://guide.couchdb.org/draft/documents.html).

About the ""~version"" field, I guess that is the count of versions of this document. If you change it ten times, you'll get ""~version"" : ""10:0""... Well, I'm not pretty sure about that.
    ",NA
"311","How to chain eventemitter next method?","2018-04-02T20:01:33",97,"I want to execute some other code once event emitted and done. Is there a way to chain the .next() block like this?

@Output() myEvent = new EventEmitter<string>();
this.myEvent.next({¡®test string¡¯}).onComplete(console.log('done');","javascript angular typescript","What do you mean by the event is ""done""? The event is emitted the very moment you called next on it. If you need to wait for some consumer of the event to do something with it, you need to make the consumer tell you about that. A shared service is one way to do that.","
No, there is no way to monitor this out of the component that emits the event as this is supposed to be kind of ""fire and forget"". 

What you could do is define another @Input-value which gets emitted by the parent component as soon as the ""post-event actions"" are done. If you monitor this you definitely know when to start follow-up actions.
    ",NA
"312","How to chain eventemitter next method?","2018-04-02T20:01:33",97,"I want to execute some other code once event emitted and done. Is there a way to chain the .next() block like this?

@Output() myEvent = new EventEmitter<string>();
this.myEvent.next({¡®test string¡¯}).onComplete(console.log('done');","javascript angular typescript","What do you mean by the event is ""done""? The event is emitted the very moment you called next on it. If you need to wait for some consumer of the event to do something with it, you need to make the consumer tell you about that. A shared service is one way to do that.","
EventEmitter is an abstraction over RxJS Subject (this is a subject to change), and Subject implements both Observable and Observer. next isn't an operator, it can be seen in Observer interface that next returns no value and cannot be chained.

As for the code above, EventEmitter has emit method for that, while next belongs to Subject API, so emit should be preferred:

@Output() myEvent = new EventEmitter<string>();
this.myEvent.emit({¡®test string¡¯});


There is no onComplete method and there is no need for it. Outputs are supposed to stay incomplete until component destruction.

It could be done with

this.myEvent.subscribe(null, null, () => console.log('done'));


But this would result in additional subscription. All destroy logic should go to respective lifecycle hook:

ngOnDestroy() {
  console.log('done');
}

    ",NA
"313","How to chain javascript to when hovering element to change picture of an element and display block third element","2013-09-20T12:35:46",437,"Hello guys i am trying to make something like a slider, i have 4 buttons which when pressed i want to change the main picture and show the content for each picture, after a bit of browsing and testing i managed the get the image to change on hover however i am having difficulty getting the content div to change i was trying to use the display none for the other content divs and block for the active one however i can't chain the whole thing, the best i could do was this 

    $('#changeImage').attr('src', 'pic1.png');
  },
       function() {
    $("".content.one"").css(""display"", ""block"");
   },
        function() {
    $("".content.two"").css(""display"", ""none"");
   },
        function() {
    $("".content.three"").css(""display"", ""none"");
   },
        function() {
    $("".content.four"").css(""display"", ""none"");
   }
)


however only the .content.one changes and only when i move my mouse out. I hope i made my self clear my English is not that good if i can help clarify anything feel free to ask.

here is the whole java script

<script type=""text/javascript"">
$(document).ready(function() {
    $(""ul li:nth-child(1)"").hover(
  function () {     
    $('#changeImage').attr('src', 'pic1.png');
  },
       function() {
    $("".content.one"").css(""display"", ""block"");
   },
        function() {
    $("".content.two"").css(""display"", ""none"");
   },
        function() {
    $("".content.three"").css(""display"", ""none"");
   },
        function() {
    $("".content.four"").css(""display"", ""none"");
   }
);

$(""ul li:nth-child(2)"").hover(
  function () {     
    $('#changeImage').attr('src', 'pic2.png');
  }
);

$(""ul li:nth-child(3)"").hover(
  function () {     
    $('#changeImage').attr('src', 'pic3.png');
  }
);

$(""ul li:nth-child(4)"").hover(
  function () {     
    $('#changeImage').attr('src', 'pic4.png');
  },
     function() {
    $("".content.one"").css(""display"", ""none"");
   },
        function() {
    $("".content.two"").css(""display"", ""none"");
   },
        function() {
    $("".content.three"").css(""display"", ""none"");
   },
        function() {
    $("".content.four"").css(""display"", ""block"");
   }
);

});
</script>


and the whole html

<div id=""wrapper"">
<img src=""clear.png"">
<ul id=""side-bar"">
<li class=""one""><a href=""#""><img src=""1-1.png""
onmouseover=""this.src='1-2.png'""
onmouseout=""this.src='1-1.png'""></a></li>
<li class=""two""><a href=""#""><img src=""2-2.png""></a></li>
<li class=""three""><a href=""#""><img src=""3-1.png""
onmouseover=""this.src='3-2.png'""
onmouseout=""this.src='3-1.png'""></a></li>
<li class=""four""><a href=""#""><img src=""4-1.png""
onmouseover=""this.src='4-2.png'""
onmouseout=""this.src='4-1.png'""></a></li>
</ul>
<div id=""image""><img id=""changeImage"" src=""pic1.png""></div>
<div id=""content-wrapper""><img src=""content.png""></div>
<div class=""content one""><p>content 1</p><a href=""#"" class=""more"">read more...</a></div>

<div class=""content two""><p>content 2</p><a href=""#"" class=""more"">read more...</a></div>

<div class=""content three""><p>content 3</p><a href=""#"" class=""more"">read more...</a></div>

<div class=""content four""><p>content 4</p><a href=""#"" class=""more"">read more...</a></div>
</div>","javascript jquery html javascript-events",NA,"
You are using .hover() incorrectly. Hover takes two functions as parameters: the function to execute on mouseover and the function to execute on mouseout. For example:

$(function() {

    $('#my-id').hover(

        // mouse over
        function() {
            $('#foo').show();
            $('#bar').addClass('baz');
        },

        // mouse out
        function() {
            $('#foo').hide();
            $('#bar').removeClass('baz');
        });
});


In your code you are passing four functions as parameters to the hover call bound to the element ""ul li:nth-child(1)"". In all of your other hover event handlers you are only passing one function. 
    ","very helpful answer i was indeed using .hover() incorrectly i didn't know it took two functions as parameters for over and out when i change my  when i replaced .hover() with .mouseover() everything works like a charm :)"
"314","How to return from a Promise's catch/then block?","2015-08-16T06:48:44",70288,"There are many tutorials on how to use ""then"" and ""catch"" while programming with JavaScript Promise. However, all these tutorials seem to miss an important point: returning from a then/catch block to break the Promise chain. Let's start with some synchronous code to illustrate this problem:

try {
  someFunction();
} catch (err) {
  if (!(err instanceof MyCustomError))
    return -1;
}
someOtherFunction();


In essence, I am testing a caught error and if it's not the error I expect I will return to the caller otherwise the program continues. However, this logic will not work with Promise:

Promise.resolve(someFunction).then(function() {
  console.log('someFunction should throw error');
  return -2;
}).catch(function(err) {
   if (err instanceof MyCustomError) {
     return -1;
   }
}).then(someOtherFunction);


This logic is used for some of my unit tests where I want a function to fail in a certain way. Even if I change the catch to a then block I am still not able to break a series of chained Promises because whatever is returned from the then/catch block will become a Promise that propagates along the chain. 

I wonder if Promise is able to achieve this logic; if not, why? It's very strange to me that a Promise chain can never be broken. Thanks!

Edit on 08/16/2015:
According to the answers given so far, a rejected Promise returned by the then block will propagate through the Promise chain and skip all subsequent then blocks until is is caught (handled). This behavior is well understood because it simply mimics the following synchronous code (approach 1):

try {
  Function1();
  Function2();
  Function3();
  Function4();
} catch (err) {
  // Assuming this err is thrown in Function1; Function2, Function3 and Function4 will not be executed
  console.log(err);
}


However, what I was asking is the following scenario in synchronous code (approach 2):

try {
  Function1();
} catch(err) {
  console.log(err); // Function1's error
  return -1; // return immediately
}
try {
  Function2();
} catch(err) {
  console.log(err);
}
try {
  Function3();
} catch(err) {
  console.log(err);
}
try {
  Function4();
} catch(err) {
  console.log(err);
} 


I would like to deal with errors raised in different functions differently. It's possible that I catch all the errors in one catch block as illustrated in approach 1. But that way I have to make a big switch statement inside the catch block to differentiate different errors; moreover, if the errors thrown by different functions do not have a common switchable attribute I won't be able to use the switch statement at all; under such a situation, I have to use a separate try/catch block for each function call. Approach 2 sometimes is the only option. Does Promise not support this approach with its then/catch statement?","javascript asynchronous promise","Why not return Promise.reject()?OOOReturn a rejected Promise from the then block will make the then block return a rejected Promise which propagates through the Promise chain until it is caught.OOOUpdated my answer based on your clarification.OOOPromises don't support return statements in catch callbacks that return from the enclosing function.OOO@Bergi Is generator able to provide this feature?OOO@lixiang: Yes, in generators (or with async/await) you can return and throw from catch blocks, there are no callbacksOOOIt's been a while since I posted this question. I myself had completely switched to async/await. The inability of returning from a promise just makes it a bad interface for asynchronous programming in general.","
This can't be achieved with features of the language. However, pattern-based solutions are available. 

Here are two solutions. 

Rethrow previous error

This pattern is basically sound ... 

Promise.resolve()
.then(Function1).catch(errorHandler1)
.then(Function2).catch(errorHandler2)
.then(Function3).catch(errorHandler3)
.then(Function4).catch(errorHandler4)
.catch(finalErrorHandler);




Promise.resolve() is not strictly necessary but allows all the .then().catch() lines to be of the same pattern, and the whole expression is easier on the eye.

... but :

if an errorHandler returns a result, then the chain will progress to the next line's success handler.
if an errorHandler throws, then the chain will progress to the next line's error handler.
The desired jump out of the chain won't happen unless the error handlers are written such that they can distinguish between a previously thrown error and a freshly thrown error. For example :

function errorHandler1(error) {
    if (error instanceof MyCustomError) { // <<<<<<< test for previously thrown error 
        throw error;
    } else {
        // do errorHandler1 stuff then
        // return a result or 
        // throw new MyCustomError() or 
        // throw new Error(), new RangeError() etc. or some other type of custom error.
    }
}


Now :

if an errorHandler returns a result, then the chain will progress to the next FunctionN.
if an errorHandler throws a MyCustomError, then it will be repeatedly rethrown down the chain and caught by the first error handler that does not conform to the if(error instanceof MyCustomError) protocol (eg a final .catch()).
if an errorHandler throws any other type of error, then the chain will progress to the next catch.
This pattern would be useful if you need the flexibility to skip to end of chain or not, depending on the type of error thrown. Rare circumstances I expect.

DEMO

Insulated Catches

Another solution is to introduce a mechanism to keep each .catch(errorHandlerN) ""insulated"" such that it will catch only errors arising from its corresponding FunctionN, not from any preceding errors.

This can be achieved by having in the main chain only success handlers, each comprising an anonymous function containing a subchain.

Promise.resolve()
.then(function() { return Function1().catch(errorHandler1); })
.then(function() { return Function2().catch(errorHandler2); })
.then(function() { return Function3().catch(errorHandler3); })
.then(function() { return Function4().catch(errorHandler4); })
.catch(finalErrorHandler);




Here Promise.resolve() plays an important role. Without it, Function1().catch(errorHandler1) would be in the main chain the catch() would not be insulated from the main chain.

Now, 

if an errorHandler returns a result, then the chain will progress to the next line.
if an errorHandler throws anything it likes, then the chain will progress directly to the finalErrorHandler.
Use this pattern if you want always to skip to the end of chain regardless of the type of error thrown. A custom error constructor is not required and the error handlers do not need to be written in a special way.

DEMO

Usage cases

Which pattern to choose will determined by the considerations already given but also possibly by the nature of your project team.

One-person team - you write everything and understand the issues - if you are free to choose, then run with your personal preference.
Multi-person team - one person writes the master chain and various others write the functions and their error handlers - if you can, opt for Insulated Catches - with everything under control of the master chain, you don't need to enforce the discipline of writing the error handlers in that certain way.
","Thank you for this comprehensive answer! I have marked your response as the answer. However, as I understand the issue further, I think trying to return from the catch block or skipping a Promise chain should not be abused. A ""then"" block in a Promise chain represents one step of the whole process. If we want to treat it as an individual statement which throws unique error, we'd better not use a Promise chain at allOOOThere's no abuse. Patterns like those above are commonplace and very necessary for async flow control.OOOGreat answer! But I think your first fiddle has an issue with the implementation of myCustomError that it's making it behave like any other Error (to see it just uncomment the reject(new Error(...). So I think line 5 should be: myCustomError.prototype = Error;OOOBut I think this is the proper way for browsers with Object.create: myCustomError.prototype = Object.create(Error.prototype); myCustomError.prototype.constructor = myCustomError;OOO@MarianoDesanze, thank you for your comment. IIRC, I copied the myCustomError() code from somewhere and clearly failed to test it. See if you can fork the fiddle to a version that genuinely distinguishes between Error and myCustomError.OOOBased on stackoverflow.com/a/5251506/146513 I created jsfiddle.net/q04p3gks/12OOO@MarianoDesanze, many thanks for spotting that. My first Demo now uses a version of MyCustomError() that allows instanceof to distinguish between error types. To everyone else - this edit doesn't change the answer materially, but it does make the first demo more convincing."
"315","How to return from a Promise's catch/then block?","2015-08-16T06:48:44",70288,"There are many tutorials on how to use ""then"" and ""catch"" while programming with JavaScript Promise. However, all these tutorials seem to miss an important point: returning from a then/catch block to break the Promise chain. Let's start with some synchronous code to illustrate this problem:

try {
  someFunction();
} catch (err) {
  if (!(err instanceof MyCustomError))
    return -1;
}
someOtherFunction();


In essence, I am testing a caught error and if it's not the error I expect I will return to the caller otherwise the program continues. However, this logic will not work with Promise:

Promise.resolve(someFunction).then(function() {
  console.log('someFunction should throw error');
  return -2;
}).catch(function(err) {
   if (err instanceof MyCustomError) {
     return -1;
   }
}).then(someOtherFunction);


This logic is used for some of my unit tests where I want a function to fail in a certain way. Even if I change the catch to a then block I am still not able to break a series of chained Promises because whatever is returned from the then/catch block will become a Promise that propagates along the chain. 

I wonder if Promise is able to achieve this logic; if not, why? It's very strange to me that a Promise chain can never be broken. Thanks!

Edit on 08/16/2015:
According to the answers given so far, a rejected Promise returned by the then block will propagate through the Promise chain and skip all subsequent then blocks until is is caught (handled). This behavior is well understood because it simply mimics the following synchronous code (approach 1):

try {
  Function1();
  Function2();
  Function3();
  Function4();
} catch (err) {
  // Assuming this err is thrown in Function1; Function2, Function3 and Function4 will not be executed
  console.log(err);
}


However, what I was asking is the following scenario in synchronous code (approach 2):

try {
  Function1();
} catch(err) {
  console.log(err); // Function1's error
  return -1; // return immediately
}
try {
  Function2();
} catch(err) {
  console.log(err);
}
try {
  Function3();
} catch(err) {
  console.log(err);
}
try {
  Function4();
} catch(err) {
  console.log(err);
} 


I would like to deal with errors raised in different functions differently. It's possible that I catch all the errors in one catch block as illustrated in approach 1. But that way I have to make a big switch statement inside the catch block to differentiate different errors; moreover, if the errors thrown by different functions do not have a common switchable attribute I won't be able to use the switch statement at all; under such a situation, I have to use a separate try/catch block for each function call. Approach 2 sometimes is the only option. Does Promise not support this approach with its then/catch statement?","javascript asynchronous promise","Why not return Promise.reject()?OOOReturn a rejected Promise from the then block will make the then block return a rejected Promise which propagates through the Promise chain until it is caught.OOOUpdated my answer based on your clarification.OOOPromises don't support return statements in catch callbacks that return from the enclosing function.OOO@Bergi Is generator able to provide this feature?OOO@lixiang: Yes, in generators (or with async/await) you can return and throw from catch blocks, there are no callbacksOOOIt's been a while since I posted this question. I myself had completely switched to async/await. The inability of returning from a promise just makes it a bad interface for asynchronous programming in general.","
First off, I see a common mistake in this section of code that could be completely confusing you.  This is your sample code block:

Promise.resolve(someFunction()).then(function() {
  console.log('someFunction should throw error');
  return -2;
}).catch(function(err) {
   if (err instanceof MyCustomError) {
     return -1;
   }
}).then(someOtherFunction());


You need pass function references to a .then() handler, not actually call the function and pass their return result.  So, this above code should probably be this:

Promise.resolve(someFunction()).then(function() {
  console.log('someFunction should throw error');
  return -2;
}).catch(function(err) {
   if (err instanceof MyCustomError) {
     // returning a normal value here will take care of the rejection
     // and continue subsequent processing
     return -1;
   }
}).then(someOtherFunction);    // just pass function reference here


Note that I've removed () after the functions in the .then() handler so you are just passing the function reference, not immediately calling the function.  This will allow the promise infrastructure to decide whether to call the promise in the future or not.  If you were making this mistake, it will totally throw you off for how the promises are working because things will get called regardless.

Three simple rules about catching rejections.

If nobody catches the rejection, it stops the promise chain immediately and the original rejection becomes the final state of the promise.  No subsequent handlers are invoked.
If the promise rejection is caught and either nothing is returned or any normal value is returned from the reject handler, then the reject is considered handled and the promise chain continues and subsequent handlers are invoked.  Whatever you return from the reject handler becomes the current value of the promise and it as if the reject never happened (except this level of resolve handler was not called - the reject handler was called instead).
If the promise reject is caught and you either throw an error from the reject handler or you return a rejected promise, then all resolve handlers are skipped until the next reject handler in the chain.  If there are no reject handlers, then the promise chain is stopped and the newly minted error becomes the final state of the promise.
You can see a couple examples in this jsFiddle where it shows three situations:

Returning a regular value from a reject handler, causes the next .then() resolve handler to be called (e.g. normal processing continues), 
Throwing in a reject handler causes normal resolve processing to stop and all resolve handlers are skipped until you get to a reject handler or the end of the chain.  This is effective way to stop the chain if an unexpected error is found in a resolve handler (which I think is your question).
Not having a reject handler present causes normal resolve processing to stop and all resolve handlers are skipped until you get to a reject handler or the end of the chain.
","Thanks for the catch, I change it! Can you take a look at my extended question?OOO@lixiang - you can't use return to stop all further processing in promises.  You just can't because of their async nature so there really isn't an exact analogy.  I've outlined the general options you can use with promises.  If all your downstream .catch() handlers check the type of the error and rethrow it if it isn't something they are specifically handling, then you can throw a unique error that nobody else will handle and it will stop all further processing.  It will go through all the downstream .catch() handlers, but get rethrown by each to eventually get to the end of the chain.OOO@lixiang - you could even just create your own convention of an abort class of error (a subclass of Error) that no mid-stream .catch() handler is ever supposed to catch without rethrowing.  But, promises don't have such a thing built-in.OOOCan you provide some pointers as to why this is not possible with Promises?OOO@lixiang - All .then() or .catch() handlers are called asynchronously.  That means the stack has unwound.  As such, when you return from them, all it does is go back into the promise infrastructure to continue the promise chain.  You can't return back to a higher level on the stack like you can in synchronous code because the stack has already unwound and things are running asynchronously.  So, the ONLY thing you can do to control what happens next is play by the promise rules I've described in my answer.OOOGood insights! Do you have some idea about whether we can alleviate this restriction with ES6 generators? I was looking through some generators' literature and it appears to me that generators are able to preserve the stack status of the calling function because by using generators, we can wrap program logic into normal try/catch block. Generators looks like a more powerful async construct than ""then"" block.OOOLet us continue this discussion in chat.OOO@lixiang - I have not fully grokked generators myself so I don't know.  I haven't yet written a major project that could use ES6 features.OOO@jfriend00, springs can unwind, not stacks"
"316","How to return from a Promise's catch/then block?","2015-08-16T06:48:44",70288,"There are many tutorials on how to use ""then"" and ""catch"" while programming with JavaScript Promise. However, all these tutorials seem to miss an important point: returning from a then/catch block to break the Promise chain. Let's start with some synchronous code to illustrate this problem:

try {
  someFunction();
} catch (err) {
  if (!(err instanceof MyCustomError))
    return -1;
}
someOtherFunction();


In essence, I am testing a caught error and if it's not the error I expect I will return to the caller otherwise the program continues. However, this logic will not work with Promise:

Promise.resolve(someFunction).then(function() {
  console.log('someFunction should throw error');
  return -2;
}).catch(function(err) {
   if (err instanceof MyCustomError) {
     return -1;
   }
}).then(someOtherFunction);


This logic is used for some of my unit tests where I want a function to fail in a certain way. Even if I change the catch to a then block I am still not able to break a series of chained Promises because whatever is returned from the then/catch block will become a Promise that propagates along the chain. 

I wonder if Promise is able to achieve this logic; if not, why? It's very strange to me that a Promise chain can never be broken. Thanks!

Edit on 08/16/2015:
According to the answers given so far, a rejected Promise returned by the then block will propagate through the Promise chain and skip all subsequent then blocks until is is caught (handled). This behavior is well understood because it simply mimics the following synchronous code (approach 1):

try {
  Function1();
  Function2();
  Function3();
  Function4();
} catch (err) {
  // Assuming this err is thrown in Function1; Function2, Function3 and Function4 will not be executed
  console.log(err);
}


However, what I was asking is the following scenario in synchronous code (approach 2):

try {
  Function1();
} catch(err) {
  console.log(err); // Function1's error
  return -1; // return immediately
}
try {
  Function2();
} catch(err) {
  console.log(err);
}
try {
  Function3();
} catch(err) {
  console.log(err);
}
try {
  Function4();
} catch(err) {
  console.log(err);
} 


I would like to deal with errors raised in different functions differently. It's possible that I catch all the errors in one catch block as illustrated in approach 1. But that way I have to make a big switch statement inside the catch block to differentiate different errors; moreover, if the errors thrown by different functions do not have a common switchable attribute I won't be able to use the switch statement at all; under such a situation, I have to use a separate try/catch block for each function call. Approach 2 sometimes is the only option. Does Promise not support this approach with its then/catch statement?","javascript asynchronous promise","Why not return Promise.reject()?OOOReturn a rejected Promise from the then block will make the then block return a rejected Promise which propagates through the Promise chain until it is caught.OOOUpdated my answer based on your clarification.OOOPromises don't support return statements in catch callbacks that return from the enclosing function.OOO@Bergi Is generator able to provide this feature?OOO@lixiang: Yes, in generators (or with async/await) you can return and throw from catch blocks, there are no callbacksOOOIt's been a while since I posted this question. I myself had completely switched to async/await. The inability of returning from a promise just makes it a bad interface for asynchronous programming in general.","
There is no built-in functionality to skip the entirety of the remaining chain as you're requesting. However, you could imitate this behavior by throwing a certain error through each catch:

doSomething()
  .then(func1).catch(handleError)
  .then(func2).catch(handleError)
  .then(func3).catch(handleError);

function handleError(reason) {
  if (reason instanceof criticalError) {
    throw reason;
  }

  console.info(reason);
}


If any of the catch blocks caught a criticalError they would skip straight to the end and throw the error. Any other error would be console logged and before continuing to the next .then block.
    ",NA
"317","why only one node can sync blocks in my private eth chain?","2018-07-10T02:04:14",78,"I have setup 4 nodes (named A, B, C, D) in a PC (windows 8.1) to build my private chain using geth v1.8.11.

A node is the first one to be created and have 1 account.

B node is the second one to be created and have 1 account.

A and B connected using admin.addPeer. 

A and B mined 336 blocks. Their blocks are synced.



C node and D node were setup later.

C and D connected A using admin.addPeer. But C and D displayed the following info and the blocks can't be sync.



And eth.syncing shows:



eth.blockNumber shows: 0

B, C, D nodes start with the following command:



geth --datadir ""H:\blockchain\eth\dataX"" --networkid 15 --nodiscover --port=""3030X"" --ipcdisable --rpc --rpcapi ""admin,debug,eth,miner,net,personal,shh,txpool,web3"" --rpcaddr ""0.0.0.0"" --rpcport ""31X00"" --rpccorsdomain ""*"" --ws --wsport=""31X01"" --wsaddr=""0.0.0.0"" --wsorigins ""*"" console



So why C and D sync fail? 

the block number is 0 but the startingBlock is 271, is it normal?","ethereum",NA,"
This issue may arise if the new node is not initiated using the same genesis file with which the base node is created.
Make sure of it.
    ","Thanks your suggestion. After I clean the datadir folders and re-setup these nodes, they works well now. But I still confuse ""the block number is 0 but the startingBlock is 271"" this issue,"
"318","chaincore is there anybody succeed to build a new blockchain by using chaincore","2017-04-20T12:24:33",73,"I am looking into https://chain.com/docs/1.1/core/learn-more/blockchain-operators#creating-a-new-blockchain to build a new block chain. 
To build this, I first create a docker compose file to create generator and signer. The docker composer file is below:

version: '2'
services: 
  generator:
    image: chaincore/developer:1.1.0
    container_name: generator
    ports:
      - 1999:1999
  signer:
    image: chaincore/developer:1.1.0
    container_name: signer
    ports:
      - 1998:1999  


Step1 start container by using the docker-compose.yml 
docker-compose up -d 

Step2 login into generator website, and configure the generator as ""create new blockchain network""

Step3 ssh login into signer, and execute 
/usr/bin/chain/corectl create-block-keypair 
/usr/bin/chain/corectl create-token -net foo

Step4 ssh login into generator, and execute 
/usr/bin/chain/corectl config-generator 1 45ec61ecf456cd114e88baaf5f4cf6d5d62a666d7b2f17a6e49f6da124921923 http://foo:f4fc3cc08932cfef1936b8bc41805458ea3e9a085ccbc6468262fca3de5178c0@192.168.222.50:1998 
, and get error 
error: storing block: insert block: pq: duplicate key value violates unique constraint ""blocks_height_key""","blockchain",NA,"
I have made it work. I made a mistake on step2. Just ignore step2, then you can success.
    ",NA
"319","What happens when a Promise in a Promise.all, in a then chain fails","2017-08-11T22:30:44",442,"When there is a .then chain that includes a Promise.all such as the following example, do the errors get caught in the final .catch block for the parent .then chain or do they require their own error handling?

.then(([user, booking]) => {
  const payment = { }

  return Promise.all([
    paymentService(payment),
    Promise.resolve(user),
    Promise.resolve(booking)
  ])
})
.then(([paid, user, booking]) => {
  return Promise.all([
    repo.makeBooking(user, booking),
    Promise.resolve(paid),
    Promise.resolve(user)
  ])
})
.catch((err) => {
    //Error handling here
})","javascript ecmascript-6",NA,"
As you are returning a promise inside each .then(), the errors are chained to the main flow, so in your example, the .catch method will catch all errors.

Consider this example:

Promise.resolve(1)
  .then((n) => {
    return Promise.all([
      Promise.resolve(`a-${n}`),
      Promise.reject(Error('Failed in Promise.all')), // comment for success
    ]);
  })
  .then(([a, b]) => {
    const msg = `Responses: [${a}, ${b}]`;
    console.log(msg);
    return msg;
  })
  .catch((error) => { throw error; });


Here the inner Promise.all() has a reject that is caught by the parent flow.


  Read some about chaining promises here: #2 Nested Promises

    ","This answers it clearly. Thank you."
"320","What happens when a Promise in a Promise.all, in a then chain fails","2017-08-11T22:30:44",442,"When there is a .then chain that includes a Promise.all such as the following example, do the errors get caught in the final .catch block for the parent .then chain or do they require their own error handling?

.then(([user, booking]) => {
  const payment = { }

  return Promise.all([
    paymentService(payment),
    Promise.resolve(user),
    Promise.resolve(booking)
  ])
})
.then(([paid, user, booking]) => {
  return Promise.all([
    repo.makeBooking(user, booking),
    Promise.resolve(paid),
    Promise.resolve(user)
  ])
})
.catch((err) => {
    //Error handling here
})","javascript ecmascript-6",NA,"
Yes, they are caught by the last (in your example) catch().

You could also insert another catch() just after the then() with Promise.all(), and in that case both catch()-es would be called. The only catch with that is that you would have to manually ""rethrow"" the error from the first catch():

.then(([user, booking]) => {
  const payment = { }

  return Promise.all([
    paymentService(payment),
    Promise.resolve(user),
    Promise.resolve(booking)
  ])
})
.catch((error) => {
  // Error handling logic...

  // Rethrow the error to allow the second catch to... catch it
  throw error;
})
.then(([paid, user, booking]) => {
  return Promise.all([
    repo.makeBooking(user, booking),
    Promise.resolve(paid),
    Promise.resolve(user)
  ])
})
.catch((err) => {
    //Error handling here
})

    ",NA
"321","What happens when a Promise in a Promise.all, in a then chain fails","2017-08-11T22:30:44",442,"When there is a .then chain that includes a Promise.all such as the following example, do the errors get caught in the final .catch block for the parent .then chain or do they require their own error handling?

.then(([user, booking]) => {
  const payment = { }

  return Promise.all([
    paymentService(payment),
    Promise.resolve(user),
    Promise.resolve(booking)
  ])
})
.then(([paid, user, booking]) => {
  return Promise.all([
    repo.makeBooking(user, booking),
    Promise.resolve(paid),
    Promise.resolve(user)
  ])
})
.catch((err) => {
    //Error handling here
})","javascript ecmascript-6",NA,"
Simply put, .catch() gets the value of a promise that is rejected.
Promise.prototype.catch(myHandler) is the same thing as calling Promise.prototype.then(undefined, myHandler). So it

For promises that are chained with .then(), what that means is that if the previous promise fails, then the subsequent rejected callback is called.

So if you have a the following code:

Promise.resolve().then((resolve, reject) => {
  console.log('this is the first promise');
  reject();
}).then(() => {
  console.log('this is the second promise');
  reject();
}).catch((value) => {
  console.log('this is the third promise')
});


The output is:


  this is the first promise 
  
  this is the third promise


The reason for that is follows: Promise.resolve() creates a promise. Let's number that as promise #1.

Note that .then returns a new promise equal to the return of the inner promise. So by calling .then() on line 1, we create promise #2. The second .then() call creates promise #3.

Okay. Now that's set up, Promise #1 is already resolved, so it calls into the success case. That's why 'this is the first promise' prints. We then reject promise #2 inside the handler.

Promise #2 has one handler on it (with the body 'this is the second promise'). Since Promise #2 is rejected, this handler does not run. ** The way chained promises works means that this also causes Promise #3 to be rejected **. Therefore when we get to the catch() handler, it runs the this is the third promise example.

You can read more here for more examples: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch
    ",NA
"322","How can I make my second block in the chain trigger?","2019-06-03T23:12:40",26,"I have some code for uploading a bunch of photos to a server. 

The whole code can be divided into three parts: 

catching pictures from the input=""files"" and place them in a veriable files until I call a method uploadPictures(). 
then I am uploading photos and push urls into array so that I can use them later
and finally when uploading is over and I have the link I want to update a certain document in the DB (Firestore)
the trouble is that code works well fine for the first two parts. I can make this chain work neither with async/await nor Promises 


async uploadPictures() {

    let loop = new Promise( result => {

      this.files.forEach((file, index) => {

        let path: string = `items/${Date.now()}_${this.files[index].name}`;

        let ref = this.storage.ref(path);

        ref.put(file).then(snapshot => {
          snapshot.ref.getDownloadURL().then(downloadLink => {
            this.url.push(downloadLink);
            console.log('Image is uploaded successfully and available at: ' + downloadLink);
          })
        });
      });

    }).then( () => {

      console.log('hello from here!');
      console.log(this.url);
      this.firestore.collection('items').doc(this.itemId).update({ pics: this.url });

    })


  }




I would appreciate any hints or advice!","angular typescript es6-promise chaining","Could you explain a little more? I'm having trouble figuring out what the ""second promise"" is. Could you perhaps more explicitly say what you expect to get and what you're actually getting? I think I see at least one issue but I'm not sure if it's what you're actually trying to fix.OOOThe promise constructor never resolvesOOO@ChrisTavares updatedOOO@PatrickRoberts could you explain a bit more for me 'cause as you can see I am not that good at promises)","
So I see multiple issues here with how you're doing promises. It's easy to get these wrong if you're new at them, so don't feel bad about it.

So the first issue is the way you're calling new Promise. This constructor takes a function that has two parameters: resolve and reject. These are functions that, when called, either complete or reject the promise. You are doing neither, so the first promise never completes.

The second issue you have is that you have promise calls inside promise calls, but you never return the promises back up the call chain, so things don't get chained together properly.

In your case, I don't think new Promise() is the right construct anyway. I think you need to simply pass out a promise that completes when all the promises you're calling inside the loop finish. So what you need to do is construct an array of all the promises inside the loop, then call Promise.all on them to get a new promise that completes when all the promises in the array are done.

Also, this whole process would be a lot easier if you just used async/await everywhere instead of explicitly using promises and then calls. :-)

I think what you want to do would look something like this using explicit promises:

// Don't need async if not awaiting
uploadPictures() {
    // Build array of promises for each item in loop.
    // Array.map is an easy way to do this.
    let loop = this.files.map((file, index) => {
        let path: string = `items/${Date.now()}_${this.files[index].name}`;
        let ref = this.storage.ref(path);

        // Inner promise - MUST RETURN THIS to chain properly
        // Also, prefer flattened promise chains to nested one
        return ref.put(file)
        .then(snapshot => snapshot.ref.getDownloadURL())
        .then(downloadLink => {
            this.url.push(downloadLink);
            console.log('Image is uploaded successfully and available at: ' + downloadLink);
        });
    });
    return Promise.all(loop)
    .then(() => {
        console.log('hello from here!');
        console.log(this.url);
        return this.firestore.collection('items').doc(this.itemId).update({ pics: this.url });
    });
}


When using async/await this gets a lot cleaner:

async uploadPictures() {
    // Build array of promises for each item in loop.
    // Array.map is an easy way to do this.
    let loop = this.files.map(async (file, index) => {
        let path: string = `items/${Date.now()}_${this.files[index].name}`;
        let ref = this.storage.ref(path);

        // await lets us avoid explicit returns or chaining
        let snapshot = await ref.put(file);
        let downloadUrl = await snapshot.ref.getDownloadURL();
        this.url.push(downloadLink);
        console.log('Image is uploaded successfully and available at: ' + downloadLink);
    });

    await Promise.all(loop);
    console.log('hello from here!');
    console.log(this.url);
    await this.firestore.collection('items').doc(this.itemId).update({ pics: this.url });
}


Hope this helps!
    ","Thanks a lot! The version with promises worked for me but with async/await threw out the same error.OOOIf this answer helped please remember to upvote and / or accept the answer.OOOShould all the chains return? and one guy said something about constructor. Can you explain it to me?))OOORe. async/await version, well, I just typed this on the fly, not tried it, so no promises (heh!) on correctness.OOOThe constructor thing was what I mentioned at the top of my answer - you were using the Promise constructor incorrectly. As far as returns, my version DOES return in every then handler, it's just that I'm using the expression version of a lambda (note no braces around the body of the lambda) which means the return is automatic, you don't need an explicit return statement. But it does return a value."
